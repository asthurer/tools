(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=s(c);fetch(c.href,f)}})();function _0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bu={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Zp(){if(Em)return ml;Em=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:i,type:r,key:h,ref:c!==void 0?c:null,props:f}}return ml.Fragment=n,ml.jsx=s,ml.jsxs=s,ml}var Sm;function Pp(){return Sm||(Sm=1,bu.exports=Zp()),bu.exports}var d=Pp(),vu={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Fp(){if(Nm)return be;Nm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.iterator;function T(_){return _===null||typeof _!="object"?null:(_=N&&_[N]||_["@@iterator"],typeof _=="function"?_:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,V={};function Y(_,L,X){this.props=_,this.context=L,this.refs=V,this.updater=X||A}Y.prototype.isReactComponent={},Y.prototype.setState=function(_,L){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,L,"setState")},Y.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function K(){}K.prototype=Y.prototype;function $(_,L,X){this.props=_,this.context=L,this.refs=V,this.updater=X||A}var te=$.prototype=new K;te.constructor=$,B(te,Y.prototype),te.isPureReactComponent=!0;var ee=Array.isArray;function P(){}var J={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function ne(_,L,X){var Z=X.ref;return{$$typeof:i,type:_,key:L,ref:Z!==void 0?Z:null,props:X}}function Re(_,L){return ne(_.type,L,_.props)}function Ke(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function ke(_){var L={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return L[X]})}var et=/\/+/g;function Qe(_,L){return typeof _=="object"&&_!==null&&_.key!=null?ke(""+_.key):L.toString(36)}function tt(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(P,P):(_.status="pending",_.then(function(L){_.status==="pending"&&(_.status="fulfilled",_.value=L)},function(L){_.status==="pending"&&(_.status="rejected",_.reason=L)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function D(_,L,X,Z,me){var pe=typeof _;(pe==="undefined"||pe==="boolean")&&(_=null);var ie=!1;if(_===null)ie=!0;else switch(pe){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(_.$$typeof){case i:case n:ie=!0;break;case x:return ie=_._init,D(ie(_._payload),L,X,Z,me)}}if(ie)return me=me(_),ie=Z===""?"."+Qe(_,0):Z,ee(me)?(X="",ie!=null&&(X=ie.replace(et,"$&/")+"/"),D(me,L,X,"",function(lt){return lt})):me!=null&&(Ke(me)&&(me=Re(me,X+(me.key==null||_&&_.key===me.key?"":(""+me.key).replace(et,"$&/")+"/")+ie)),L.push(me)),1;ie=0;var Be=Z===""?".":Z+":";if(ee(_))for(var _e=0;_e<_.length;_e++)Z=_[_e],pe=Be+Qe(Z,_e),ie+=D(Z,L,X,pe,me);else if(_e=T(_),typeof _e=="function")for(_=_e.call(_),_e=0;!(Z=_.next()).done;)Z=Z.value,pe=Be+Qe(Z,_e++),ie+=D(Z,L,X,pe,me);else if(pe==="object"){if(typeof _.then=="function")return D(tt(_),L,X,Z,me);throw L=String(_),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ie}function U(_,L,X){if(_==null)return _;var Z=[],me=0;return D(_,Z,"","",function(pe){return L.call(X,pe,me++)}),Z}function z(_){if(_._status===-1){var L=_._result;L=L(),L.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=L)}if(_._status===1)return _._result.default;throw _._result}var Q=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},F={map:U,forEach:function(_,L,X){U(_,function(){L.apply(this,arguments)},X)},count:function(_){var L=0;return U(_,function(){L++}),L},toArray:function(_){return U(_,function(L){return L})||[]},only:function(_){if(!Ke(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return be.Activity=E,be.Children=F,be.Component=Y,be.Fragment=s,be.Profiler=c,be.PureComponent=$,be.StrictMode=r,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,be.__COMPILER_RUNTIME={__proto__:null,c:function(_){return J.H.useMemoCache(_)}},be.cache=function(_){return function(){return _.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(_,L,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Z=B({},_.props),me=_.key;if(L!=null)for(pe in L.key!==void 0&&(me=""+L.key),L)!le.call(L,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&L.ref===void 0||(Z[pe]=L[pe]);var pe=arguments.length-2;if(pe===1)Z.children=X;else if(1<pe){for(var ie=Array(pe),Be=0;Be<pe;Be++)ie[Be]=arguments[Be+2];Z.children=ie}return ne(_.type,me,Z)},be.createContext=function(_){return _={$$typeof:h,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:f,_context:_},_},be.createElement=function(_,L,X){var Z,me={},pe=null;if(L!=null)for(Z in L.key!==void 0&&(pe=""+L.key),L)le.call(L,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(me[Z]=L[Z]);var ie=arguments.length-2;if(ie===1)me.children=X;else if(1<ie){for(var Be=Array(ie),_e=0;_e<ie;_e++)Be[_e]=arguments[_e+2];me.children=Be}if(_&&_.defaultProps)for(Z in ie=_.defaultProps,ie)me[Z]===void 0&&(me[Z]=ie[Z]);return ne(_,pe,me)},be.createRef=function(){return{current:null}},be.forwardRef=function(_){return{$$typeof:g,render:_}},be.isValidElement=Ke,be.lazy=function(_){return{$$typeof:x,_payload:{_status:-1,_result:_},_init:z}},be.memo=function(_,L){return{$$typeof:b,type:_,compare:L===void 0?null:L}},be.startTransition=function(_){var L=J.T,X={};J.T=X;try{var Z=_(),me=J.S;me!==null&&me(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(P,Q)}catch(pe){Q(pe)}finally{L!==null&&X.types!==null&&(L.types=X.types),J.T=L}},be.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},be.use=function(_){return J.H.use(_)},be.useActionState=function(_,L,X){return J.H.useActionState(_,L,X)},be.useCallback=function(_,L){return J.H.useCallback(_,L)},be.useContext=function(_){return J.H.useContext(_)},be.useDebugValue=function(){},be.useDeferredValue=function(_,L){return J.H.useDeferredValue(_,L)},be.useEffect=function(_,L){return J.H.useEffect(_,L)},be.useEffectEvent=function(_){return J.H.useEffectEvent(_)},be.useId=function(){return J.H.useId()},be.useImperativeHandle=function(_,L,X){return J.H.useImperativeHandle(_,L,X)},be.useInsertionEffect=function(_,L){return J.H.useInsertionEffect(_,L)},be.useLayoutEffect=function(_,L){return J.H.useLayoutEffect(_,L)},be.useMemo=function(_,L){return J.H.useMemo(_,L)},be.useOptimistic=function(_,L){return J.H.useOptimistic(_,L)},be.useReducer=function(_,L,X){return J.H.useReducer(_,L,X)},be.useRef=function(_){return J.H.useRef(_)},be.useState=function(_){return J.H.useState(_)},be.useSyncExternalStore=function(_,L,X){return J.H.useSyncExternalStore(_,L,X)},be.useTransition=function(){return J.H.useTransition()},be.version="19.2.4",be}var Tm;function $u(){return Tm||(Tm=1,vu.exports=Fp()),vu.exports}var G=$u();const E0=_0(G);var yu={exports:{}},gl={},xu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function Wp(){return jm||(jm=1,(function(i){function n(D,U){var z=D.length;D.push(U);e:for(;0<z;){var Q=z-1>>>1,F=D[Q];if(0<c(F,U))D[Q]=U,D[z]=F,z=Q;else break e}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var U=D[0],z=D.pop();if(z!==U){D[0]=z;e:for(var Q=0,F=D.length,_=F>>>1;Q<_;){var L=2*(Q+1)-1,X=D[L],Z=L+1,me=D[Z];if(0>c(X,z))Z<F&&0>c(me,X)?(D[Q]=me,D[Z]=z,Q=Z):(D[Q]=X,D[L]=z,Q=L);else if(Z<F&&0>c(me,z))D[Q]=me,D[Z]=z,Q=Z;else break e}}return U}function c(D,U){var z=D.sortIndex-U.sortIndex;return z!==0?z:D.id-U.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var p=[],b=[],x=1,E=null,N=3,T=!1,A=!1,B=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function te(D){for(var U=s(b);U!==null;){if(U.callback===null)r(b);else if(U.startTime<=D)r(b),U.sortIndex=U.expirationTime,n(p,U);else break;U=s(b)}}function ee(D){if(B=!1,te(D),!A)if(s(p)!==null)A=!0,P||(P=!0,ke());else{var U=s(b);U!==null&&tt(ee,U.startTime-D)}}var P=!1,J=-1,le=5,ne=-1;function Re(){return V?!0:!(i.unstable_now()-ne<le)}function Ke(){if(V=!1,P){var D=i.unstable_now();ne=D;var U=!0;try{e:{A=!1,B&&(B=!1,K(J),J=-1),T=!0;var z=N;try{t:{for(te(D),E=s(p);E!==null&&!(E.expirationTime>D&&Re());){var Q=E.callback;if(typeof Q=="function"){E.callback=null,N=E.priorityLevel;var F=Q(E.expirationTime<=D);if(D=i.unstable_now(),typeof F=="function"){E.callback=F,te(D),U=!0;break t}E===s(p)&&r(p),te(D)}else r(p);E=s(p)}if(E!==null)U=!0;else{var _=s(b);_!==null&&tt(ee,_.startTime-D),U=!1}}break e}finally{E=null,N=z,T=!1}U=void 0}}finally{U?ke():P=!1}}}var ke;if(typeof $=="function")ke=function(){$(Ke)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Qe=et.port2;et.port1.onmessage=Ke,ke=function(){Qe.postMessage(null)}}else ke=function(){Y(Ke,0)};function tt(D,U){J=Y(function(){D(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(D){switch(N){case 1:case 2:case 3:var U=3;break;default:U=N}var z=N;N=U;try{return D()}finally{N=z}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=N;N=D;try{return U()}finally{N=z}},i.unstable_scheduleCallback=function(D,U,z){var Q=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,D){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,D={id:x++,callback:U,priorityLevel:D,startTime:z,expirationTime:F,sortIndex:-1},z>Q?(D.sortIndex=z,n(b,D),s(p)===null&&D===s(b)&&(B?(K(J),J=-1):B=!0,tt(ee,z-Q))):(D.sortIndex=F,n(p,D),A||T||(A=!0,P||(P=!0,ke()))),D},i.unstable_shouldYield=Re,i.unstable_wrapCallback=function(D){var U=N;return function(){var z=N;N=U;try{return D.apply(this,arguments)}finally{N=z}}}})(wu)),wu}var Am;function eb(){return Am||(Am=1,xu.exports=Wp()),xu.exports}var _u={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function tb(){if(Om)return Ct;Om=1;var i=$u();function n(p){var b="https://react.dev/errors/"+p;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)b+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(p,b,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:p,containerInfo:b,implementation:x}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,b){if(p==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ct.createPortal=function(p,b){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(n(299));return f(p,b,null,x)},Ct.flushSync=function(p){var b=h.T,x=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=b,r.p=x,r.d.f()}},Ct.preconnect=function(p,b){typeof p=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(p,b))},Ct.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ct.preinit=function(p,b){if(typeof p=="string"&&b&&typeof b.as=="string"){var x=b.as,E=g(x,b.crossOrigin),N=typeof b.integrity=="string"?b.integrity:void 0,T=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;x==="style"?r.d.S(p,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:T}):x==="script"&&r.d.X(p,{crossOrigin:E,integrity:N,fetchPriority:T,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Ct.preinitModule=function(p,b){if(typeof p=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var x=g(b.as,b.crossOrigin);r.d.M(p,{crossOrigin:x,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(p)},Ct.preload=function(p,b){if(typeof p=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var x=b.as,E=g(x,b.crossOrigin);r.d.L(p,x,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Ct.preloadModule=function(p,b){if(typeof p=="string")if(b){var x=g(b.as,b.crossOrigin);r.d.m(p,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:x,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(p)},Ct.requestFormReset=function(p){r.d.r(p)},Ct.unstable_batchedUpdates=function(p,b){return p(b)},Ct.useFormState=function(p,b,x){return h.H.useFormState(p,b,x)},Ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ct.version="19.2.4",Ct}var km;function ab(){if(km)return _u.exports;km=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),_u.exports=tb(),_u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function nb(){if(Cm)return gl;Cm=1;var i=eb(),n=$u(),s=ab();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(r(188))}function b(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){a=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===l)return p(o),t;u=u.sibling}throw Error(r(188))}if(a.return!==l.return)a=o,l=u;else{for(var m=!1,v=o.child;v;){if(v===a){m=!0,a=o,l=u;break}if(v===l){m=!0,l=o,a=u;break}v=v.sibling}if(!m){for(v=u.child;v;){if(v===a){m=!0,a=u,l=o;break}if(v===l){m=!0,l=u,a=o;break}v=v.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),$=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var et=Symbol.for("react.client.reference");function Qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case Y:return"Profiler";case V:return"StrictMode";case ee:return"Suspense";case P:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case $:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:Qe(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return Qe(e(t))}catch{}}return null}var tt=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},Q=[],F=-1;function _(e){return{current:e}}function L(e){0>F||(e.current=Q[F],Q[F]=null,F--)}function X(e,t){F++,Q[F]=e.current,e.current=t}var Z=_(null),me=_(null),pe=_(null),ie=_(null);function Be(e,t){switch(X(pe,t),X(me,e),X(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kh(t),e=Qh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(Z),X(Z,e)}function _e(){L(Z),L(me),L(pe)}function lt(e){e.memoizedState!==null&&X(ie,e);var t=Z.current,a=Qh(t,e.type);t!==a&&(X(me,e),X(Z,a))}function Dt(e){me.current===e&&(L(Z),L(me)),ie.current===e&&(L(ie),ul._currentValue=z)}var Ut,Kt;function zt(e){if(Ut===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ut=t&&t[1]||"",Kt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+e+Kt}var ga=!1;function ia(e,t){if(!e||ga)return"";ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(R){var C=R}Reflect.construct(e,[],q)}else{try{q.call()}catch(R){C=R}e.call(q.prototype)}}else{try{throw Error()}catch(R){C=R}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(R){if(R&&C&&typeof R.stack=="string")return[R.stack,C.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),m=u[0],v=u[1];if(m&&v){var w=m.split(`
`),k=v.split(`
`);for(o=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;if(l===w.length||o===k.length)for(l=w.length-1,o=k.length-1;1<=l&&0<=o&&w[l]!==k[o];)o--;for(;1<=l&&0<=o;l--,o--)if(w[l]!==k[o]){if(l!==1||o!==1)do if(l--,o--,0>o||w[l]!==k[o]){var M=`
`+w[l].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=l&&0<=o);break}}}finally{ga=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?zt(a):""}function we(e,t){switch(e.tag){case 26:case 27:case 5:return zt(e.type);case 16:return zt("Lazy");case 13:return e.child!==t&&t!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return ia(e.type,!1);case 11:return ia(e.type.render,!1);case 1:return ia(e.type,!0);case 31:return zt("Activity");default:return""}}function pa(e){try{var t="",a=null;do t+=we(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bs=Object.prototype.hasOwnProperty,La=i.unstable_scheduleCallback,ce=i.unstable_cancelCallback,Pe=i.unstable_shouldYield,vs=i.unstable_requestPaint,Lt=i.unstable_now,Cl=i.unstable_getCurrentPriorityLevel,ys=i.unstable_ImmediatePriority,Vn=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,xs=i.unstable_LowPriority,wi=i.unstable_IdlePriority,Rl=i.log,ws=i.unstable_setDisableYieldValue,Ma=null,yt=null;function sa(e){if(typeof Rl=="function"&&ws(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ma,e)}catch{}}var gt=Math.clz32?Math.clz32:Dl,It=Math.log,Yn=Math.LN2;function Dl(e){return e>>>=0,e===0?32:31-(It(e)/Yn|0)|0}var cn=256,_i=262144,un=4194304;function pt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ia(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~u,l!==0?o=pt(l):(m&=v,m!==0?o=pt(m):a||(a=v&~e,a!==0&&(o=pt(a))))):(v=l&~u,v!==0?o=pt(v):m!==0?o=pt(m):a||(a=l&~e,a!==0&&(o=pt(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function ja(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ho(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(){var e=un;return un<<=1,(un&62914560)===0&&(un=4194304),e}function dn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ba(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mo(e,t,a,l,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(a=m&~a;0<a;){var M=31-gt(a),q=1<<M;v[M]=0,w[M]=-1;var C=k[M];if(C!==null)for(k[M]=null,M=0;M<C.length;M++){var R=C[M];R!==null&&(R.lane&=-536870913)}a&=~q}l!==0&&wt(e,l,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function wt(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-gt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Aa(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-gt(a),o=1<<l;o&t|e[l]&t&&(e[l]|=t),a&=~o}}function Qt(e,t){var a=t&-t;return a=(a&42)!==0?1:_s(a),(a&(e.suspendedLanes|t))!==0?0:a}function _s(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Kn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ul(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:pm(e.type))}function Oa(e,t){var a=U.p;try{return U.p=e,t()}finally{U.p=a}}var ka=Math.random().toString(36).slice(2),Xe="__reactFiber$"+ka,kt="__reactProps$"+ka,Xt="__reactContainer$"+ka,fn="__reactEvents$"+ka,Ei="__reactListeners$"+ka,Si="__reactHandles$"+ka,Qn="__reactResources$"+ka,ba="__reactMarker$"+ka;function Ca(e){delete e[Xe],delete e[kt],delete e[fn],delete e[Ei],delete e[Si]}function hn(e){var t=e[Xe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Xt]||a[Xe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=em(e);e!==null;){if(a=e[Xe])return a;e=em(e)}return t}e=a,a=e.parentNode}return null}function mn(e){if(e=e[Xe]||e[Xt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function qa(e){var t=e[Qn];return t||(t=e[Qn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[ba]=!0}var zl=new Set,Ll={};function Ha(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(Ll[e]=t,e=0;e<t.length;e++)zl.add(t[e])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jn={},Es={};function Il(e){return bs.call(Es,e)?!0:bs.call(Jn,e)?!1:Ml.test(e)?Es[e]=!0:(Jn[e]=!0,!1)}function Ni(e,t,a){if(Il(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ti(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function va(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function go(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){if(!e._valueTracker){var t=Bl(e)?"checked":"value";e._valueTracker=go(e,t,""+e[t])}}function ql(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Bl(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var po=/[\n"\\]/g;function We(e){return e.replace(po,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ai(e,t,a,l,o,u,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Ns(e,m,Bt(t)):a!=null?Ns(e,m,Bt(a)):l!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Bt(v):e.removeAttribute("name")}function Hl(e,t,a,l,o,u,m,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ss(e);return}a=a!=null?""+Bt(a):"",t=t!=null?""+Bt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ss(e)}function Ns(e,t,a){t==="number"&&ji(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pn(e,t,a,l){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Bt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function $l(e,t,a){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Bt(a):""}function Ts(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(tt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Bt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ss(e)}function $a(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function H(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||y.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function oe(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&a[o]!==l&&H(e,o,l)}else for(var u in t)t.hasOwnProperty(u)&&H(e,u,t[u])}function qe(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ae=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function De(e){return Ae.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ne(){}var Et=null;function la(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,xa=null;function Ce(e){var t=mn(e);if(t&&(e=t.stateNode)){var a=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ai(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var o=l[kt]||null;if(!o)throw Error(r(90));Ai(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&ql(l)}break e;case"textarea":$l(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&pn(e,!!a.multiple,t,!1)}}}var Ga=!1;function at(e,t,a){if(Ga)return e(t,a);Ga=!0;try{var l=e(t);return l}finally{if(Ga=!1,(ya!==null||xa!==null)&&(Or(),ya&&(t=ya,e=xa,xa=ya=null,Ce(t),e)))for(t=0;t<e.length;t++)Ce(e[t])}}function js(e,t){var a=e.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(Va)try{var As={};Object.defineProperty(As,"passive",{get:function(){bo=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{bo=!1}var bn=null,vo=null,Gl=null;function Ku(){if(Gl)return Gl;var e,t=vo,a=t.length,l,o="value"in bn?bn.value:bn.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(l=1;l<=m&&t[a-l]===o[u-l];l++);return Gl=o.slice(e,1<l?1-l:void 0)}function Vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Qu(){return!1}function qt(e){function t(a,l,o,u,m){this._reactName=a,this._targetInst=o,this.type=l,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Yl:Qu,this.isPropagationStopped=Qu,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=qt(Zn),Os=E({},Zn,{view:0,detail:0}),X0=qt(Os),yo,xo,ks,Ql=E({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_o,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(yo=e.screenX-ks.screenX,xo=e.screenY-ks.screenY):xo=yo=0,ks=e),yo)},movementY:function(e){return"movementY"in e?e.movementY:xo}}),Xu=qt(Ql),J0=E({},Ql,{dataTransfer:0}),Z0=qt(J0),P0=E({},Os,{relatedTarget:0}),wo=qt(P0),F0=E({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=qt(F0),eg=E({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tg=qt(eg),ag=E({},Zn,{data:0}),Ju=qt(ag),ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sg[e])?!!t[e]:!1}function _o(){return lg}var rg=E({},Os,{key:function(e){if(e.key){var t=ng[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_o,charCode:function(e){return e.type==="keypress"?Vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),og=qt(rg),cg=E({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zu=qt(cg),ug=E({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_o}),dg=qt(ug),fg=E({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hg=qt(fg),mg=E({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=qt(mg),pg=E({},Zn,{newState:0,oldState:0}),bg=qt(pg),vg=[9,13,27,32],Eo=Va&&"CompositionEvent"in window,Cs=null;Va&&"documentMode"in document&&(Cs=document.documentMode);var yg=Va&&"TextEvent"in window&&!Cs,Pu=Va&&(!Eo||Cs&&8<Cs&&11>=Cs),Fu=" ",Wu=!1;function ed(e,t){switch(e){case"keyup":return vg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function xg(e,t){switch(e){case"compositionend":return td(t);case"keypress":return t.which!==32?null:(Wu=!0,Fu);case"textInput":return e=t.data,e===Fu&&Wu?null:e;default:return null}}function wg(e,t){if(Oi)return e==="compositionend"||!Eo&&ed(e,t)?(e=Ku(),Gl=vo=bn=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pu&&t.locale!=="ko"?null:t.data;default:return null}}var _g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_g[e.type]:t==="textarea"}function nd(e,t,a,l){ya?xa?xa.push(l):xa=[l]:ya=l,t=Lr(t,"onChange"),0<t.length&&(a=new Kl("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Rs=null,Ds=null;function Eg(e){qh(e,0)}function Xl(e){var t=Xn(e);if(ql(t))return e}function id(e,t){if(e==="change")return t}var sd=!1;if(Va){var So;if(Va){var No="oninput"in document;if(!No){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),No=typeof ld.oninput=="function"}So=No}else So=!1;sd=So&&(!document.documentMode||9<document.documentMode)}function rd(){Rs&&(Rs.detachEvent("onpropertychange",od),Ds=Rs=null)}function od(e){if(e.propertyName==="value"&&Xl(Ds)){var t=[];nd(t,Ds,e,la(e)),at(Eg,t)}}function Sg(e,t,a){e==="focusin"?(rd(),Rs=t,Ds=a,Rs.attachEvent("onpropertychange",od)):e==="focusout"&&rd()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xl(Ds)}function Tg(e,t){if(e==="click")return Xl(t)}function jg(e,t){if(e==="input"||e==="change")return Xl(t)}function Ag(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:Ag;function Us(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var o=a[l];if(!bs.call(t,o)||!Jt(e[o],t[o]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ud(e,t){var a=cd(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cd(a)}}function dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ji(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ji(e.document)}return t}function To(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Og=Va&&"documentMode"in document&&11>=document.documentMode,ki=null,jo=null,zs=null,Ao=!1;function hd(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ao||ki==null||ki!==ji(l)||(l=ki,"selectionStart"in l&&To(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zs&&Us(zs,l)||(zs=l,l=Lr(jo,"onSelect"),0<l.length&&(t=new Kl("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=ki)))}function Pn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ci={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},Oo={},md={};Va&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Fn(e){if(Oo[e])return Oo[e];if(!Ci[e])return e;var t=Ci[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in md)return Oo[e]=t[a];return e}var gd=Fn("animationend"),pd=Fn("animationiteration"),bd=Fn("animationstart"),kg=Fn("transitionrun"),Cg=Fn("transitionstart"),Rg=Fn("transitioncancel"),vd=Fn("transitionend"),yd=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ko.push("scrollEnd");function wa(e,t){yd.set(e,t),Ha(t,[e])}var Jl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ra=[],Ri=0,Co=0;function Zl(){for(var e=Ri,t=Co=Ri=0;t<e;){var a=ra[t];ra[t++]=null;var l=ra[t];ra[t++]=null;var o=ra[t];ra[t++]=null;var u=ra[t];if(ra[t++]=null,l!==null&&o!==null){var m=l.pending;m===null?o.next=o:(o.next=m.next,m.next=o),l.pending=o}u!==0&&xd(a,o,u)}}function Pl(e,t,a,l){ra[Ri++]=e,ra[Ri++]=t,ra[Ri++]=a,ra[Ri++]=l,Co|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ro(e,t,a,l){return Pl(e,t,a,l),Fl(e)}function Wn(e,t){return Pl(e,null,null,t),Fl(e)}function xd(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,l=u.alternate,l!==null&&(l.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-gt(a),e=u.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=a|536870912),u):null}function Fl(e){if(50<nl)throw nl=0,Hc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Di={};function Dg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,a,l){return new Dg(e,t,a,l)}function Do(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ya(e,t){var a=e.alternate;return a===null?(a=Zt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function wd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wl(e,t,a,l,o,u){var m=0;if(l=e,typeof e=="function")Do(e)&&(m=1);else if(typeof e=="string")m=Ip(e,a,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Zt(31,a,t,o),e.elementType=ne,e.lanes=u,e;case B:return ei(a.children,o,u,t);case V:m=8,o|=24;break;case Y:return e=Zt(12,a,t,o|2),e.elementType=Y,e.lanes=u,e;case ee:return e=Zt(13,a,t,o),e.elementType=ee,e.lanes=u,e;case P:return e=Zt(19,a,t,o),e.elementType=P,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:m=10;break e;case K:m=9;break e;case te:m=11;break e;case J:m=14;break e;case le:m=16,l=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Zt(m,a,t,o),t.elementType=e,t.type=l,t.lanes=u,t}function ei(e,t,a,l){return e=Zt(7,e,l,t),e.lanes=a,e}function Uo(e,t,a){return e=Zt(6,e,null,t),e.lanes=a,e}function _d(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function zo(e,t,a){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ed=new WeakMap;function oa(e,t){if(typeof e=="object"&&e!==null){var a=Ed.get(e);return a!==void 0?a:(t={value:e,source:t,stack:pa(t)},Ed.set(e,t),t)}return{value:e,source:t,stack:pa(t)}}var Ui=[],zi=0,er=null,Ls=0,ca=[],ua=0,vn=null,Ra=1,Da="";function Ka(e,t){Ui[zi++]=Ls,Ui[zi++]=er,er=e,Ls=t}function Sd(e,t,a){ca[ua++]=Ra,ca[ua++]=Da,ca[ua++]=vn,vn=e;var l=Ra;e=Da;var o=32-gt(l)-1;l&=~(1<<o),a+=1;var u=32-gt(t)+o;if(30<u){var m=o-o%5;u=(l&(1<<m)-1).toString(32),l>>=m,o-=m,Ra=1<<32-gt(t)+o|a<<o|l,Da=u+e}else Ra=1<<u|a<<o|l,Da=e}function Lo(e){e.return!==null&&(Ka(e,1),Sd(e,1,0))}function Mo(e){for(;e===er;)er=Ui[--zi],Ui[zi]=null,Ls=Ui[--zi],Ui[zi]=null;for(;e===vn;)vn=ca[--ua],ca[ua]=null,Da=ca[--ua],ca[ua]=null,Ra=ca[--ua],ca[ua]=null}function Nd(e,t){ca[ua++]=Ra,ca[ua++]=Da,ca[ua++]=vn,Ra=t.id,Da=t.overflow,vn=e}var St=null,Je=null,Oe=!1,yn=null,da=!1,Io=Error(r(519));function xn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ms(oa(t,e)),Io}function Td(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Xe]=e,t[kt]=l,a){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(a=0;a<sl.length;a++)Se(sl[a],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Hl(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Ts(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Vh(t.textContent,a)?(l.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),l.onScroll!=null&&Se("scroll",t),l.onScrollEnd!=null&&Se("scrollend",t),l.onClick!=null&&(t.onclick=Ne),t=!0):t=!1,t||xn(e,!0)}function jd(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:da=!1;return;case 27:case 3:da=!0;return;default:St=St.return}}function Li(e){if(e!==St)return!1;if(!Oe)return jd(e),Oe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||au(e.type,e.memoizedProps)),a=!a),a&&Je&&xn(e),jd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Je=Wh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Je=Wh(e)}else t===27?(t=Je,Un(e.type)?(e=ru,ru=null,Je=e):Je=t):Je=St?ha(e.stateNode.nextSibling):null;return!0}function ti(){Je=St=null,Oe=!1}function Bo(){var e=yn;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),yn=null),e}function Ms(e){yn===null?yn=[e]:yn.push(e)}var qo=_(null),ai=null,Qa=null;function wn(e,t,a){X(qo,t._currentValue),t._currentValue=a}function Xa(e){e._currentValue=qo.current,L(qo)}function Ho(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function $o(e,t,a,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),Ho(u.return,a,e),l||(m=null);break e}u=v.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),Ho(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Mi(e,t,a,l){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var v=o.type;Jt(o.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(o===ie.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}o=o.return}e!==null&&$o(t,e,a,l),t.flags|=262144}function tr(e){for(e=e.firstContext;e!==null;){if(!Jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ni(e){ai=e,Qa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return Ad(ai,e)}function ar(e,t){return ai===null&&ni(e),Ad(e,t)}function Ad(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Qa===null){if(e===null)throw Error(r(308));Qa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qa=Qa.next=t;return a}var Ug=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},zg=i.unstable_scheduleCallback,Lg=i.unstable_NormalPriority,ut={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Go(){return{controller:new Ug,data:new Map,refCount:0}}function Is(e){e.refCount--,e.refCount===0&&zg(Lg,function(){e.controller.abort()})}var Bs=null,Vo=0,Ii=0,Bi=null;function Mg(e,t){if(Bs===null){var a=Bs=[];Vo=0,Ii=Qc(),Bi={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vo++,t.then(Od,Od),t}function Od(){if(--Vo===0&&Bs!==null){Bi!==null&&(Bi.status="fulfilled");var e=Bs;Bs=null,Ii=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ig(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),l}var kd=D.S;D.S=function(e,t){mh=Lt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mg(e,t),kd!==null&&kd(e,t)};var ii=_(null);function Yo(){var e=ii.current;return e!==null?e:Ve.pooledCache}function nr(e,t){t===null?X(ii,ii.current):X(ii,t.pool)}function Cd(){var e=Yo();return e===null?null:{parent:ut._currentValue,pool:e}}var qi=Error(r(460)),Ko=Error(r(474)),ir=Error(r(542)),sr={then:function(){}};function Rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ne,Ne),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e;default:if(typeof t.status=="string")t.then(Ne,Ne);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e}throw li=t,qi}}function si(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(li=a,qi):a}}var li=null;function Ud(){if(li===null)throw Error(r(459));var e=li;return li=null,e}function zd(e){if(e===qi||e===ir)throw Error(r(483))}var Hi=null,qs=0;function lr(e){var t=qs;return qs+=1,Hi===null&&(Hi=[]),Dd(Hi,e,t)}function Hs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rr(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ld(e){function t(j,S){if(e){var O=j.deletions;O===null?(j.deletions=[S],j.flags|=16):O.push(S)}}function a(j,S){if(!e)return null;for(;S!==null;)t(j,S),S=S.sibling;return null}function l(j){for(var S=new Map;j!==null;)j.key!==null?S.set(j.key,j):S.set(j.index,j),j=j.sibling;return S}function o(j,S){return j=Ya(j,S),j.index=0,j.sibling=null,j}function u(j,S,O){return j.index=O,e?(O=j.alternate,O!==null?(O=O.index,O<S?(j.flags|=67108866,S):O):(j.flags|=67108866,S)):(j.flags|=1048576,S)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function v(j,S,O,I){return S===null||S.tag!==6?(S=Uo(O,j.mode,I),S.return=j,S):(S=o(S,O),S.return=j,S)}function w(j,S,O,I){var ue=O.type;return ue===B?M(j,S,O.props.children,I,O.key):S!==null&&(S.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===le&&si(ue)===S.type)?(S=o(S,O.props),Hs(S,O),S.return=j,S):(S=Wl(O.type,O.key,O.props,null,j.mode,I),Hs(S,O),S.return=j,S)}function k(j,S,O,I){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=zo(O,j.mode,I),S.return=j,S):(S=o(S,O.children||[]),S.return=j,S)}function M(j,S,O,I,ue){return S===null||S.tag!==7?(S=ei(O,j.mode,I,ue),S.return=j,S):(S=o(S,O),S.return=j,S)}function q(j,S,O){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Uo(""+S,j.mode,O),S.return=j,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case T:return O=Wl(S.type,S.key,S.props,null,j.mode,O),Hs(O,S),O.return=j,O;case A:return S=zo(S,j.mode,O),S.return=j,S;case le:return S=si(S),q(j,S,O)}if(tt(S)||ke(S))return S=ei(S,j.mode,O,null),S.return=j,S;if(typeof S.then=="function")return q(j,lr(S),O);if(S.$$typeof===$)return q(j,ar(j,S),O);rr(j,S)}return null}function C(j,S,O,I){var ue=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ue!==null?null:v(j,S,""+O,I);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return O.key===ue?w(j,S,O,I):null;case A:return O.key===ue?k(j,S,O,I):null;case le:return O=si(O),C(j,S,O,I)}if(tt(O)||ke(O))return ue!==null?null:M(j,S,O,I,null);if(typeof O.then=="function")return C(j,S,lr(O),I);if(O.$$typeof===$)return C(j,S,ar(j,O),I);rr(j,O)}return null}function R(j,S,O,I,ue){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return j=j.get(O)||null,v(S,j,""+I,ue);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case T:return j=j.get(I.key===null?O:I.key)||null,w(S,j,I,ue);case A:return j=j.get(I.key===null?O:I.key)||null,k(S,j,I,ue);case le:return I=si(I),R(j,S,O,I,ue)}if(tt(I)||ke(I))return j=j.get(O)||null,M(S,j,I,ue,null);if(typeof I.then=="function")return R(j,S,O,lr(I),ue);if(I.$$typeof===$)return R(j,S,O,ar(S,I),ue);rr(S,I)}return null}function ae(j,S,O,I){for(var ue=null,Ue=null,se=S,ye=S=0,je=null;se!==null&&ye<O.length;ye++){se.index>ye?(je=se,se=null):je=se.sibling;var ze=C(j,se,O[ye],I);if(ze===null){se===null&&(se=je);break}e&&se&&ze.alternate===null&&t(j,se),S=u(ze,S,ye),Ue===null?ue=ze:Ue.sibling=ze,Ue=ze,se=je}if(ye===O.length)return a(j,se),Oe&&Ka(j,ye),ue;if(se===null){for(;ye<O.length;ye++)se=q(j,O[ye],I),se!==null&&(S=u(se,S,ye),Ue===null?ue=se:Ue.sibling=se,Ue=se);return Oe&&Ka(j,ye),ue}for(se=l(se);ye<O.length;ye++)je=R(se,j,ye,O[ye],I),je!==null&&(e&&je.alternate!==null&&se.delete(je.key===null?ye:je.key),S=u(je,S,ye),Ue===null?ue=je:Ue.sibling=je,Ue=je);return e&&se.forEach(function(Bn){return t(j,Bn)}),Oe&&Ka(j,ye),ue}function de(j,S,O,I){if(O==null)throw Error(r(151));for(var ue=null,Ue=null,se=S,ye=S=0,je=null,ze=O.next();se!==null&&!ze.done;ye++,ze=O.next()){se.index>ye?(je=se,se=null):je=se.sibling;var Bn=C(j,se,ze.value,I);if(Bn===null){se===null&&(se=je);break}e&&se&&Bn.alternate===null&&t(j,se),S=u(Bn,S,ye),Ue===null?ue=Bn:Ue.sibling=Bn,Ue=Bn,se=je}if(ze.done)return a(j,se),Oe&&Ka(j,ye),ue;if(se===null){for(;!ze.done;ye++,ze=O.next())ze=q(j,ze.value,I),ze!==null&&(S=u(ze,S,ye),Ue===null?ue=ze:Ue.sibling=ze,Ue=ze);return Oe&&Ka(j,ye),ue}for(se=l(se);!ze.done;ye++,ze=O.next())ze=R(se,j,ye,ze.value,I),ze!==null&&(e&&ze.alternate!==null&&se.delete(ze.key===null?ye:ze.key),S=u(ze,S,ye),Ue===null?ue=ze:Ue.sibling=ze,Ue=ze);return e&&se.forEach(function(Jp){return t(j,Jp)}),Oe&&Ka(j,ye),ue}function Ge(j,S,O,I){if(typeof O=="object"&&O!==null&&O.type===B&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case T:e:{for(var ue=O.key;S!==null;){if(S.key===ue){if(ue=O.type,ue===B){if(S.tag===7){a(j,S.sibling),I=o(S,O.props.children),I.return=j,j=I;break e}}else if(S.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===le&&si(ue)===S.type){a(j,S.sibling),I=o(S,O.props),Hs(I,O),I.return=j,j=I;break e}a(j,S);break}else t(j,S);S=S.sibling}O.type===B?(I=ei(O.props.children,j.mode,I,O.key),I.return=j,j=I):(I=Wl(O.type,O.key,O.props,null,j.mode,I),Hs(I,O),I.return=j,j=I)}return m(j);case A:e:{for(ue=O.key;S!==null;){if(S.key===ue)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){a(j,S.sibling),I=o(S,O.children||[]),I.return=j,j=I;break e}else{a(j,S);break}else t(j,S);S=S.sibling}I=zo(O,j.mode,I),I.return=j,j=I}return m(j);case le:return O=si(O),Ge(j,S,O,I)}if(tt(O))return ae(j,S,O,I);if(ke(O)){if(ue=ke(O),typeof ue!="function")throw Error(r(150));return O=ue.call(O),de(j,S,O,I)}if(typeof O.then=="function")return Ge(j,S,lr(O),I);if(O.$$typeof===$)return Ge(j,S,ar(j,O),I);rr(j,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,S!==null&&S.tag===6?(a(j,S.sibling),I=o(S,O),I.return=j,j=I):(a(j,S),I=Uo(O,j.mode,I),I.return=j,j=I),m(j)):a(j,S)}return function(j,S,O,I){try{qs=0;var ue=Ge(j,S,O,I);return Hi=null,ue}catch(se){if(se===qi||se===ir)throw se;var Ue=Zt(29,se,null,j.mode);return Ue.lanes=I,Ue.return=j,Ue}finally{}}}var ri=Ld(!0),Md=Ld(!1),_n=!1;function Qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function En(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Le&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=Fl(e),xd(e,null,a),t}return Pl(e,l,t,a),Fl(e)}function $s(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Aa(e,a)}}function Jo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Zo=!1;function Gs(){if(Zo){var e=Bi;if(e!==null)throw e}}function Vs(e,t,a,l){Zo=!1;var o=e.updateQueue;_n=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var w=v,k=w.next;w.next=null,m===null?u=k:m.next=k,m=w;var M=e.alternate;M!==null&&(M=M.updateQueue,v=M.lastBaseUpdate,v!==m&&(v===null?M.firstBaseUpdate=k:v.next=k,M.lastBaseUpdate=w))}if(u!==null){var q=o.baseState;m=0,M=k=w=null,v=u;do{var C=v.lane&-536870913,R=C!==v.lane;if(R?(Te&C)===C:(l&C)===C){C!==0&&C===Ii&&(Zo=!0),M!==null&&(M=M.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ae=e,de=v;C=t;var Ge=a;switch(de.tag){case 1:if(ae=de.payload,typeof ae=="function"){q=ae.call(Ge,q,C);break e}q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=de.payload,C=typeof ae=="function"?ae.call(Ge,q,C):ae,C==null)break e;q=E({},q,C);break e;case 2:_n=!0}}C=v.callback,C!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[C]:R.push(C))}else R={lane:C,tag:v.tag,payload:v.payload,callback:v.callback,next:null},M===null?(k=M=R,w=q):M=M.next=R,m|=C;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;R=v,v=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);M===null&&(w=q),o.baseState=w,o.firstBaseUpdate=k,o.lastBaseUpdate=M,u===null&&(o.shared.lanes=0),On|=m,e.lanes=m,e.memoizedState=q}}function Id(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Bd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Id(a[e],t)}var $i=_(null),or=_(0);function qd(e,t){e=nn,X(or,e),X($i,t),nn=e|t.baseLanes}function Po(){X(or,nn),X($i,$i.current)}function Fo(){nn=or.current,L($i),L(or)}var Pt=_(null),fa=null;function Nn(e){var t=e.alternate;X(ot,ot.current&1),X(Pt,e),fa===null&&(t===null||$i.current!==null||t.memoizedState!==null)&&(fa=e)}function Wo(e){X(ot,ot.current),X(Pt,e),fa===null&&(fa=e)}function Hd(e){e.tag===22?(X(ot,ot.current),X(Pt,e),fa===null&&(fa=e)):Tn()}function Tn(){X(ot,ot.current),X(Pt,Pt.current)}function Ft(e){L(Pt),fa===e&&(fa=null),L(ot)}var ot=_(0);function cr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||su(a)||lu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=0,ve=null,He=null,dt=null,ur=!1,Gi=!1,oi=!1,dr=0,Ys=0,Vi=null,Bg=0;function nt(){throw Error(r(321))}function ec(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Jt(e[a],t[a]))return!1;return!0}function tc(e,t,a,l,o,u){return Ja=u,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Nf:pc,oi=!1,u=a(l,o),oi=!1,Gi&&(u=Gd(t,a,l,o)),$d(e),u}function $d(e){D.H=Xs;var t=He!==null&&He.next!==null;if(Ja=0,dt=He=ve=null,ur=!1,Ys=0,Vi=null,t)throw Error(r(300));e===null||ft||(e=e.dependencies,e!==null&&tr(e)&&(ft=!0))}function Gd(e,t,a,l){ve=e;var o=0;do{if(Gi&&(Vi=null),Ys=0,Gi=!1,25<=o)throw Error(r(301));if(o+=1,dt=He=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Tf,u=t(a,l)}while(Gi);return u}function qg(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Ks(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(ve.flags|=1024),t}function ac(){var e=dr!==0;return dr=0,e}function nc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ic(e){if(ur){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ur=!1}Ja=0,dt=He=ve=null,Gi=!1,Ys=dr=0,Vi=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?ve.memoizedState=dt=e:dt=dt.next=e,dt}function ct(){if(He===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=dt===null?ve.memoizedState:dt.next;if(t!==null)dt=t,He=e;else{if(e===null)throw ve.alternate===null?Error(r(467)):Error(r(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},dt===null?ve.memoizedState=dt=e:dt=dt.next=e}return dt}function fr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ks(e){var t=Ys;return Ys+=1,Vi===null&&(Vi=[]),e=Dd(Vi,e,t),t=ve,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Nf:pc),e}function hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ks(e);if(e.$$typeof===$)return Nt(e)}throw Error(r(438,String(e)))}function sc(e){var t=null,a=ve.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=fr(),ve.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Re;return t.index++,a}function Za(e,t){return typeof t=="function"?t(e):t}function mr(e){var t=ct();return lc(t,He,e)}function lc(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var o=e.baseQueue,u=l.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,l.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=m=null,w=null,k=t,M=!1;do{var q=k.lane&-536870913;if(q!==k.lane?(Te&q)===q:(Ja&q)===q){var C=k.revertLane;if(C===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),q===Ii&&(M=!0);else if((Ja&C)===C){k=k.next,C===Ii&&(M=!0);continue}else q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(v=w=q,m=u):w=w.next=q,ve.lanes|=C,On|=C;q=k.action,oi&&a(u,q),u=k.hasEagerState?k.eagerState:a(u,q)}else C={lane:q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(v=w=C,m=u):w=w.next=C,ve.lanes|=q,On|=q;k=k.next}while(k!==null&&k!==t);if(w===null?m=u:w.next=v,!Jt(u,e.memoizedState)&&(ft=!0,M&&(a=Bi,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=w,l.lastRenderedState=u}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function rc(e){var t=ct(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);Jt(u,t.memoizedState)||(ft=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,l]}function Vd(e,t,a){var l=ve,o=ct(),u=Oe;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!Jt((He||o).memoizedState,a);if(m&&(o.memoizedState=a,ft=!0),o=o.queue,uc(Qd.bind(null,l,o,e),[e]),o.getSnapshot!==t||m||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,Yi(9,{destroy:void 0},Kd.bind(null,l,o,a,t),null),Ve===null)throw Error(r(349));u||(Ja&127)!==0||Yd(l,t,a)}return a}function Yd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ve.updateQueue,t===null?(t=fr(),ve.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Kd(e,t,a,l){t.value=a,t.getSnapshot=l,Xd(t)&&Jd(e)}function Qd(e,t,a){return a(function(){Xd(t)&&Jd(e)})}function Xd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Jt(e,a)}catch{return!0}}function Jd(e){var t=Wn(e,2);t!==null&&Yt(t,e,2)}function oc(e){var t=Mt();if(typeof e=="function"){var a=e;if(e=a(),oi){sa(!0);try{a()}finally{sa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:e},t}function Zd(e,t,a,l){return e.baseState=a,lc(e,He,typeof l=="function"?l:Za)}function Hg(e,t,a,l,o){if(br(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};D.T!==null?a(!0):u.isTransition=!1,l(u),a=t.pending,a===null?(u.next=t.pending=u,Pd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Pd(e,t){var a=t.action,l=t.payload,o=e.state;if(t.isTransition){var u=D.T,m={};D.T=m;try{var v=a(o,l),w=D.S;w!==null&&w(m,v),Fd(e,t,v)}catch(k){cc(e,t,k)}finally{u!==null&&m.types!==null&&(u.types=m.types),D.T=u}}else try{u=a(o,l),Fd(e,t,u)}catch(k){cc(e,t,k)}}function Fd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wd(e,t,l)},function(l){return cc(e,t,l)}):Wd(e,t,a)}function Wd(e,t,a){t.status="fulfilled",t.value=a,ef(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Pd(e,a)))}function cc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,ef(t),t=t.next;while(t!==l)}e.action=null}function ef(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function tf(e,t){return t}function af(e,t){if(Oe){var a=Ve.formState;if(a!==null){e:{var l=ve;if(Oe){if(Je){t:{for(var o=Je,u=da;o.nodeType!==8;){if(!u){o=null;break t}if(o=ha(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Je=ha(o.nextSibling),l=o.data==="F!";break e}}xn(l)}l=!1}l&&(t=a[0])}}return a=Mt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:t},a.queue=l,a=_f.bind(null,ve,l),l.dispatch=a,l=oc(!1),u=gc.bind(null,ve,!1,l.queue),l=Mt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,a=Hg.bind(null,ve,o,u,a),o.dispatch=a,l.memoizedState=e,[t,a,!1]}function nf(e){var t=ct();return sf(t,He,e)}function sf(e,t,a){if(t=lc(e,t,tf)[0],e=mr(Za)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ks(t)}catch(m){throw m===qi?ir:m}else l=t;t=ct();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ve.flags|=2048,Yi(9,{destroy:void 0},$g.bind(null,o,a),null)),[l,u,e]}function $g(e,t){e.action=t}function lf(e){var t=ct(),a=He;if(a!==null)return sf(t,a,e);ct(),t=t.memoizedState,a=ct();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Yi(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ve.updateQueue,t===null&&(t=fr(),ve.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function rf(){return ct().memoizedState}function gr(e,t,a,l){var o=Mt();ve.flags|=e,o.memoizedState=Yi(1|t,{destroy:void 0},a,l===void 0?null:l)}function pr(e,t,a,l){var o=ct();l=l===void 0?null:l;var u=o.memoizedState.inst;He!==null&&l!==null&&ec(l,He.memoizedState.deps)?o.memoizedState=Yi(t,u,a,l):(ve.flags|=e,o.memoizedState=Yi(1|t,u,a,l))}function of(e,t){gr(8390656,8,e,t)}function uc(e,t){pr(2048,8,e,t)}function Gg(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=fr(),ve.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function cf(e){var t=ct().memoizedState;return Gg({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function uf(e,t){return pr(4,2,e,t)}function df(e,t){return pr(4,4,e,t)}function ff(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hf(e,t,a){a=a!=null?a.concat([e]):null,pr(4,4,ff.bind(null,t,e),a)}function dc(){}function mf(e,t){var a=ct();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&ec(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function gf(e,t){var a=ct();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&ec(t,l[1]))return l[0];if(l=e(),oi){sa(!0);try{e()}finally{sa(!1)}}return a.memoizedState=[l,t],l}function fc(e,t,a){return a===void 0||(Ja&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=ph(),ve.lanes|=e,On|=e,a)}function pf(e,t,a,l){return Jt(a,t)?a:$i.current!==null?(e=fc(e,a,l),Jt(e,t)||(ft=!0),e):(Ja&42)===0||(Ja&1073741824)!==0&&(Te&261930)===0?(ft=!0,e.memoizedState=a):(e=ph(),ve.lanes|=e,On|=e,t)}function bf(e,t,a,l,o){var u=U.p;U.p=u!==0&&8>u?u:8;var m=D.T,v={};D.T=v,gc(e,!1,t,a);try{var w=o(),k=D.S;if(k!==null&&k(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var M=Ig(w,l);Qs(e,t,M,ta(e))}else Qs(e,t,l,ta(e))}catch(q){Qs(e,t,{then:function(){},status:"rejected",reason:q},ta())}finally{U.p=u,m!==null&&v.types!==null&&(m.types=v.types),D.T=m}}function Vg(){}function hc(e,t,a,l){if(e.tag!==5)throw Error(r(476));var o=vf(e).queue;bf(e,o,t,z,a===null?Vg:function(){return yf(e),a(l)})}function vf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:z},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function yf(e){var t=vf(e);t.next===null&&(t=e.alternate.memoizedState),Qs(e,t.next.queue,{},ta())}function mc(){return Nt(ul)}function xf(){return ct().memoizedState}function wf(){return ct().memoizedState}function Yg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ta();e=En(a);var l=Sn(t,e,a);l!==null&&(Yt(l,t,a),$s(l,t,a)),t={cache:Go()},e.payload=t;return}t=t.return}}function Kg(e,t,a){var l=ta();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},br(e)?Ef(t,a):(a=Ro(e,t,a,l),a!==null&&(Yt(a,e,l),Sf(a,t,l)))}function _f(e,t,a){var l=ta();Qs(e,t,a,l)}function Qs(e,t,a,l){var o={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(br(e))Ef(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,v=u(m,a);if(o.hasEagerState=!0,o.eagerState=v,Jt(v,m))return Pl(e,t,o,0),Ve===null&&Zl(),!1}catch{}finally{}if(a=Ro(e,t,o,l),a!==null)return Yt(a,e,l),Sf(a,t,l),!0}return!1}function gc(e,t,a,l){if(l={lane:2,revertLane:Qc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},br(e)){if(t)throw Error(r(479))}else t=Ro(e,a,l,2),t!==null&&Yt(t,e,2)}function br(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Ef(e,t){Gi=ur=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sf(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Aa(e,a)}}var Xs={readContext:Nt,use:hr,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Xs.useEffectEvent=nt;var Nf={readContext:Nt,use:hr,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:of,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,gr(4194308,4,ff.bind(null,t,e),a)},useLayoutEffect:function(e,t){return gr(4194308,4,e,t)},useInsertionEffect:function(e,t){gr(4,2,e,t)},useMemo:function(e,t){var a=Mt();t=t===void 0?null:t;var l=e();if(oi){sa(!0);try{e()}finally{sa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Mt();if(a!==void 0){var o=a(t);if(oi){sa(!0);try{a(t)}finally{sa(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=Kg.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:function(e){e=oc(e);var t=e.queue,a=_f.bind(null,ve,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:dc,useDeferredValue:function(e,t){var a=Mt();return fc(a,e,t)},useTransition:function(){var e=oc(!1);return e=bf.bind(null,ve,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ve,o=Mt();if(Oe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ve===null)throw Error(r(349));(Te&127)!==0||Yd(l,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,of(Qd.bind(null,l,u,e),[e]),l.flags|=2048,Yi(9,{destroy:void 0},Kd.bind(null,l,u,a,t),null),a},useId:function(){var e=Mt(),t=Ve.identifierPrefix;if(Oe){var a=Da,l=Ra;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=dr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Bg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:mc,useFormState:af,useActionState:af,useOptimistic:function(e){var t=Mt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=gc.bind(null,ve,!0,a),a.dispatch=t,[e,t]},useMemoCache:sc,useCacheRefresh:function(){return Mt().memoizedState=Yg.bind(null,ve)},useEffectEvent:function(e){var t=Mt(),a={impl:e};return t.memoizedState=a,function(){if((Le&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},pc={readContext:Nt,use:hr,useCallback:mf,useContext:Nt,useEffect:uc,useImperativeHandle:hf,useInsertionEffect:uf,useLayoutEffect:df,useMemo:gf,useReducer:mr,useRef:rf,useState:function(){return mr(Za)},useDebugValue:dc,useDeferredValue:function(e,t){var a=ct();return pf(a,He.memoizedState,e,t)},useTransition:function(){var e=mr(Za)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Ks(e),t]},useSyncExternalStore:Vd,useId:xf,useHostTransitionStatus:mc,useFormState:nf,useActionState:nf,useOptimistic:function(e,t){var a=ct();return Zd(a,He,e,t)},useMemoCache:sc,useCacheRefresh:wf};pc.useEffectEvent=cf;var Tf={readContext:Nt,use:hr,useCallback:mf,useContext:Nt,useEffect:uc,useImperativeHandle:hf,useInsertionEffect:uf,useLayoutEffect:df,useMemo:gf,useReducer:rc,useRef:rf,useState:function(){return rc(Za)},useDebugValue:dc,useDeferredValue:function(e,t){var a=ct();return He===null?fc(a,e,t):pf(a,He.memoizedState,e,t)},useTransition:function(){var e=rc(Za)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Ks(e),t]},useSyncExternalStore:Vd,useId:xf,useHostTransitionStatus:mc,useFormState:lf,useActionState:lf,useOptimistic:function(e,t){var a=ct();return He!==null?Zd(a,He,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:sc,useCacheRefresh:wf};Tf.useEffectEvent=cf;function bc(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:E({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var vc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=ta(),o=En(l);o.payload=t,a!=null&&(o.callback=a),t=Sn(e,o,l),t!==null&&(Yt(t,e,l),$s(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=ta(),o=En(l);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Sn(e,o,l),t!==null&&(Yt(t,e,l),$s(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ta(),l=En(a);l.tag=2,t!=null&&(l.callback=t),t=Sn(e,l,a),t!==null&&(Yt(t,e,a),$s(t,e,a))}};function jf(e,t,a,l,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,m):t.prototype&&t.prototype.isPureReactComponent?!Us(a,l)||!Us(o,u):!0}function Af(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function ci(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=E({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Of(e){Jl(e)}function kf(e){console.error(e)}function Cf(e){Jl(e)}function vr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function yc(e,t,a){return a=En(a),a.tag=3,a.payload={element:null},a.callback=function(){vr(e,t)},a}function Df(e){return e=En(e),e.tag=3,e}function Uf(e,t,a,l){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=l.value;e.payload=function(){return o(u)},e.callback=function(){Rf(t,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Rf(t,a,l),typeof o!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function Qg(e,t,a,l,o){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Mi(t,a,o,!0),a=Pt.current,a!==null){switch(a.tag){case 31:case 13:return fa===null?kr():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=o,l===sr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Vc(e,l,o)),!1;case 22:return a.flags|=65536,l===sr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Vc(e,l,o)),!1}throw Error(r(435,a.tag))}return Vc(e,l,o),kr(),!1}if(Oe)return t=Pt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==Io&&(e=Error(r(422),{cause:l}),Ms(oa(e,a)))):(l!==Io&&(t=Error(r(423),{cause:l}),Ms(oa(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=oa(l,a),o=yc(e.stateNode,l,o),Jo(e,o),it!==4&&(it=2)),!1;var u=Error(r(520),{cause:l});if(u=oa(u,a),al===null?al=[u]:al.push(u),it!==4&&(it=2),t===null)return!0;l=oa(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=yc(a.stateNode,l,e),Jo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(kn===null||!kn.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Df(o),Uf(o,e,a,l),Jo(a,o),!1}a=a.return}while(a!==null);return!1}var xc=Error(r(461)),ft=!1;function Tt(e,t,a,l){t.child=e===null?Md(t,null,a,l):ri(t,e.child,a,l)}function zf(e,t,a,l,o){a=a.render;var u=t.ref;if("ref"in l){var m={};for(var v in l)v!=="ref"&&(m[v]=l[v])}else m=l;return ni(t),l=tc(e,t,a,m,u,o),v=ac(),e!==null&&!ft?(nc(e,t,o),Pa(e,t,o)):(Oe&&v&&Lo(t),t.flags|=1,Tt(e,t,l,o),t.child)}function Lf(e,t,a,l,o){if(e===null){var u=a.type;return typeof u=="function"&&!Do(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Mf(e,t,u,l,o)):(e=Wl(a.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ac(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Us,a(m,l)&&e.ref===t.ref)return Pa(e,t,o)}return t.flags|=1,e=Ya(u,l),e.ref=t.ref,e.return=t,t.child=e}function Mf(e,t,a,l,o){if(e!==null){var u=e.memoizedProps;if(Us(u,l)&&e.ref===t.ref)if(ft=!1,t.pendingProps=l=u,Ac(e,o))(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,Pa(e,t,o)}return wc(e,t,a,l,o)}function If(e,t,a,l){var o=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~u}else l=0,t.child=null;return Bf(e,t,u,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&nr(t,u!==null?u.cachePool:null),u!==null?qd(t,u):Po(),Hd(t);else return l=t.lanes=536870912,Bf(e,t,u!==null?u.baseLanes|a:a,a,l)}else u!==null?(nr(t,u.cachePool),qd(t,u),Tn(),t.memoizedState=null):(e!==null&&nr(t,null),Po(),Tn());return Tt(e,t,o,a),t.child}function Js(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bf(e,t,a,l,o){var u=Yo();return u=u===null?null:{parent:ut._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&nr(t,null),Po(),Hd(t),e!==null&&Mi(e,t,l,!0),t.childLanes=o,null}function yr(e,t){return t=wr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qf(e,t,a){return ri(t,e.child,null,a),e=yr(t,t.pendingProps),e.flags|=2,Ft(t),t.memoizedState=null,e}function Xg(e,t,a){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(l.mode==="hidden")return e=yr(t,l),t.lanes=536870912,Js(null,e);if(Wo(t),(e=Je)?(e=Fh(e,da),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vn!==null?{id:Ra,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},a=_d(e),a.return=t,t.child=a,St=t,Je=null)):e=null,e===null)throw xn(t);return t.lanes=536870912,null}return yr(t,l)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(Wo(t),o)if(t.flags&256)t.flags&=-257,t=qf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(ft||Mi(e,t,a,!1),o=(a&e.childLanes)!==0,ft||o){if(l=Ve,l!==null&&(m=Qt(l,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,Wn(e,m),Yt(l,e,m),xc;kr(),t=qf(e,t,a)}else e=u.treeContext,Je=ha(m.nextSibling),St=t,Oe=!0,yn=null,da=!1,e!==null&&Nd(t,e),t=yr(t,l),t.flags|=4096;return t}return e=Ya(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function wc(e,t,a,l,o){return ni(t),a=tc(e,t,a,l,void 0,o),l=ac(),e!==null&&!ft?(nc(e,t,o),Pa(e,t,o)):(Oe&&l&&Lo(t),t.flags|=1,Tt(e,t,a,o),t.child)}function Hf(e,t,a,l,o,u){return ni(t),t.updateQueue=null,a=Gd(t,l,a,o),$d(e),l=ac(),e!==null&&!ft?(nc(e,t,u),Pa(e,t,u)):(Oe&&l&&Lo(t),t.flags|=1,Tt(e,t,a,u),t.child)}function $f(e,t,a,l,o){if(ni(t),t.stateNode===null){var u=Di,m=a.contextType;typeof m=="object"&&m!==null&&(u=Nt(m)),u=new a(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=vc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},Qo(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?Nt(m):Di,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(bc(t,a,m,l),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&vc.enqueueReplaceState(u,u.state,null),Vs(t,l,u,o),Gs(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=ci(a,v);u.props=w;var k=u.context,M=a.contextType;m=Di,typeof M=="object"&&M!==null&&(m=Nt(M));var q=a.getDerivedStateFromProps;M=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,M||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||k!==m)&&Af(t,u,l,m),_n=!1;var C=t.memoizedState;u.state=C,Vs(t,l,u,o),Gs(),k=t.memoizedState,v||C!==k||_n?(typeof q=="function"&&(bc(t,a,q,l),k=t.memoizedState),(w=_n||jf(t,a,w,l,C,k,m))?(M||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=k),u.props=l,u.state=k,u.context=m,l=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,Xo(e,t),m=t.memoizedProps,M=ci(a,m),u.props=M,q=t.pendingProps,C=u.context,k=a.contextType,w=Di,typeof k=="object"&&k!==null&&(w=Nt(k)),v=a.getDerivedStateFromProps,(k=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==q||C!==w)&&Af(t,u,l,w),_n=!1,C=t.memoizedState,u.state=C,Vs(t,l,u,o),Gs();var R=t.memoizedState;m!==q||C!==R||_n||e!==null&&e.dependencies!==null&&tr(e.dependencies)?(typeof v=="function"&&(bc(t,a,v,l),R=t.memoizedState),(M=_n||jf(t,a,M,l,C,R,w)||e!==null&&e.dependencies!==null&&tr(e.dependencies))?(k||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,R,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,R,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=R),u.props=l,u.state=R,u.context=w,l=M):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,xr(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=ri(t,e.child,null,o),t.child=ri(t,null,a,o)):Tt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=Pa(e,t,o),e}function Gf(e,t,a,l){return ti(),t.flags|=256,Tt(e,t,a,l),t.child}var _c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ec(e){return{baseLanes:e,cachePool:Cd()}}function Sc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ea),e}function Vf(e,t,a){var l=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(o?Nn(t):Tn(),(e=Je)?(e=Fh(e,da),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vn!==null?{id:Ra,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},a=_d(e),a.return=t,t.child=a,St=t,Je=null)):e=null,e===null)throw xn(t);return lu(e)?t.lanes=32:t.lanes=536870912,null}var v=l.children;return l=l.fallback,o?(Tn(),o=t.mode,v=wr({mode:"hidden",children:v},o),l=ei(l,o,a,null),v.return=t,l.return=t,v.sibling=l,t.child=v,l=t.child,l.memoizedState=Ec(a),l.childLanes=Sc(e,m,a),t.memoizedState=_c,Js(null,l)):(Nn(t),Nc(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?(Nn(t),t.flags&=-257,t=Tc(e,t,a)):t.memoizedState!==null?(Tn(),t.child=e.child,t.flags|=128,t=null):(Tn(),v=l.fallback,o=t.mode,l=wr({mode:"visible",children:l.children},o),v=ei(v,o,a,null),v.flags|=2,l.return=t,v.return=t,l.sibling=v,t.child=l,ri(t,e.child,null,a),l=t.child,l.memoizedState=Ec(a),l.childLanes=Sc(e,m,a),t.memoizedState=_c,t=Js(null,l));else if(Nn(t),lu(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var k=m.dgst;m=k,l=Error(r(419)),l.stack="",l.digest=m,Ms({value:l,source:null,stack:null}),t=Tc(e,t,a)}else if(ft||Mi(e,t,a,!1),m=(a&e.childLanes)!==0,ft||m){if(m=Ve,m!==null&&(l=Qt(m,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,Wn(e,l),Yt(m,e,l),xc;su(v)||kr(),t=Tc(e,t,a)}else su(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Je=ha(v.nextSibling),St=t,Oe=!0,yn=null,da=!1,e!==null&&Nd(t,e),t=Nc(t,l.children),t.flags|=4096);return t}return o?(Tn(),v=l.fallback,o=t.mode,w=e.child,k=w.sibling,l=Ya(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,k!==null?v=Ya(k,v):(v=ei(v,o,a,null),v.flags|=2),v.return=t,l.return=t,l.sibling=v,t.child=l,Js(null,l),l=t.child,v=e.child.memoizedState,v===null?v=Ec(a):(o=v.cachePool,o!==null?(w=ut._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Cd(),v={baseLanes:v.baseLanes|a,cachePool:o}),l.memoizedState=v,l.childLanes=Sc(e,m,a),t.memoizedState=_c,Js(e.child,l)):(Nn(t),a=e.child,e=a.sibling,a=Ya(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Nc(e,t){return t=wr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wr(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function Tc(e,t,a){return ri(t,e.child,null,a),e=Nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yf(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ho(e.return,t,a)}function jc(e,t,a,l,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function Kf(e,t,a){var l=t.pendingProps,o=l.revealOrder,u=l.tail;l=l.children;var m=ot.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,X(ot,m),Tt(e,t,l,a),l=Oe?Ls:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,a,t);else if(e.tag===19)Yf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&cr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),jc(t,!1,o,a,u,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&cr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}jc(t,!0,a,null,u,l);break;case"together":jc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Pa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Mi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Ya(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ya(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ac(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&tr(e)))}function Jg(e,t,a){switch(t.tag){case 3:Be(t,t.stateNode.containerInfo),wn(t,ut,e.memoizedState.cache),ti();break;case 27:case 5:lt(t);break;case 4:Be(t,t.stateNode.containerInfo);break;case 10:wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Nn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Vf(e,t,a):(Nn(t),e=Pa(e,t,a),e!==null?e.sibling:null);Nn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Mi(e,t,a,!1),l=(a&t.childLanes)!==0),o){if(l)return Kf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(ot,ot.current),l)break;return null;case 22:return t.lanes=0,If(e,t,a,t.pendingProps);case 24:wn(t,ut,e.memoizedState.cache)}return Pa(e,t,a)}function Qf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ft=!0;else{if(!Ac(e,a)&&(t.flags&128)===0)return ft=!1,Jg(e,t,a);ft=(e.flags&131072)!==0}else ft=!1,Oe&&(t.flags&1048576)!==0&&Sd(t,Ls,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=si(t.elementType),t.type=e,typeof e=="function")Do(e)?(l=ci(e,l),t.tag=1,t=$f(null,t,e,l,a)):(t.tag=0,t=wc(null,t,e,l,a));else{if(e!=null){var o=e.$$typeof;if(o===te){t.tag=11,t=zf(null,t,e,l,a);break e}else if(o===J){t.tag=14,t=Lf(null,t,e,l,a);break e}}throw t=Qe(e)||e,Error(r(306,t,""))}}return t;case 0:return wc(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,o=ci(l,t.pendingProps),$f(e,t,l,o,a);case 3:e:{if(Be(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var u=t.memoizedState;o=u.element,Xo(e,t),Vs(t,l,null,a);var m=t.memoizedState;if(l=m.cache,wn(t,ut,l),l!==u.cache&&$o(t,[ut],a,!0),Gs(),l=m.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Gf(e,t,l,a);break e}else if(l!==o){o=oa(Error(r(424)),t),Ms(o),t=Gf(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=ha(e.firstChild),St=t,Oe=!0,yn=null,da=!0,a=Md(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ti(),l===o){t=Pa(e,t,a);break e}Tt(e,t,l,a)}t=t.child}return t;case 26:return xr(e,t),e===null?(a=im(t.type,null,t.pendingProps,null))?t.memoizedState=a:Oe||(a=t.type,e=t.pendingProps,l=Mr(pe.current).createElement(a),l[Xe]=t,l[kt]=e,jt(l,a,e),rt(l),t.stateNode=l):t.memoizedState=im(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return lt(t),e===null&&Oe&&(l=t.stateNode=tm(t.type,t.pendingProps,pe.current),St=t,da=!0,o=Je,Un(t.type)?(ru=o,Je=ha(l.firstChild)):Je=o),Tt(e,t,t.pendingProps.children,a),xr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((o=l=Je)&&(l=Np(l,t.type,t.pendingProps,da),l!==null?(t.stateNode=l,St=t,Je=ha(l.firstChild),da=!1,o=!0):o=!1),o||xn(t)),lt(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,l=u.children,au(o,u)?l=null:m!==null&&au(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=tc(e,t,qg,null,null,a),ul._currentValue=o),xr(e,t),Tt(e,t,l,a),t.child;case 6:return e===null&&Oe&&((e=a=Je)&&(a=Tp(a,t.pendingProps,da),a!==null?(t.stateNode=a,St=t,Je=null,e=!0):e=!1),e||xn(t)),null;case 13:return Vf(e,t,a);case 4:return Be(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ri(t,null,l,a):Tt(e,t,l,a),t.child;case 11:return zf(e,t,t.type,t.pendingProps,a);case 7:return Tt(e,t,t.pendingProps,a),t.child;case 8:return Tt(e,t,t.pendingProps.children,a),t.child;case 12:return Tt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,wn(t,t.type,l.value),Tt(e,t,l.children,a),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,ni(t),o=Nt(o),l=l(o),t.flags|=1,Tt(e,t,l,a),t.child;case 14:return Lf(e,t,t.type,t.pendingProps,a);case 15:return Mf(e,t,t.type,t.pendingProps,a);case 19:return Kf(e,t,a);case 31:return Xg(e,t,a);case 22:return If(e,t,a,t.pendingProps);case 24:return ni(t),l=Nt(ut),e===null?(o=Yo(),o===null&&(o=Ve,u=Go(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:l,cache:o},Qo(t),wn(t,ut,o)):((e.lanes&a)!==0&&(Xo(e,t),Vs(t,null,null,a),Gs()),o=e.memoizedState,u=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),wn(t,ut,l)):(l=u.cache,wn(t,ut,l),l!==o.cache&&$o(t,[ut],a,!0))),Tt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Fa(e){e.flags|=4}function Oc(e,t,a,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(xh())e.flags|=8192;else throw li=sr,Ko}else e.flags&=-16777217}function Xf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cm(t))if(xh())e.flags|=8192;else throw li=sr,Ko}function _r(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xt():536870912,e.lanes|=t,Ji|=t)}function Zs(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Zg(e,t,a){var l=t.pendingProps;switch(Mo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return Ze(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Xa(ut),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Li(t)?Fa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Bo())),Ze(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(Fa(t),u!==null?(Ze(t),Xf(t,u)):(Ze(t),Oc(t,o,null,l,a))):u?u!==e.memoizedState?(Fa(t),Ze(t),Xf(t,u)):(Ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Fa(t),Ze(t),Oc(t,o,e,l,a)),null;case 27:if(Dt(t),a=pe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Fa(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ze(t),null}e=Z.current,Li(t)?Td(t):(e=tm(o,l,a),t.stateNode=e,Fa(t))}return Ze(t),null;case 5:if(Dt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Fa(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ze(t),null}if(u=Z.current,Li(t))Td(t);else{var m=Mr(pe.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?m.createElement(o,{is:l.is}):m.createElement(o)}}u[Xe]=t,u[kt]=l;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(jt(u,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Fa(t)}}return Ze(t),Oc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Fa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=pe.current,Li(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,o=St,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[Xe]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vh(e.nodeValue,a)),e||xn(t,!0)}else e=Mr(e).createTextNode(l),e[Xe]=t,t.stateNode=e}return Ze(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Li(t),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Xe]=t}else ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),e=!1}else a=Bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ft(t),t):(Ft(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ze(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Li(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[Xe]=t}else ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),o=!1}else o=Bo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ft(t),t):(Ft(t),null)}return Ft(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),_r(t,t.updateQueue),Ze(t),null);case 4:return _e(),e===null&&Pc(t.stateNode.containerInfo),Ze(t),null;case 10:return Xa(t.type),Ze(t),null;case 19:if(L(ot),l=t.memoizedState,l===null)return Ze(t),null;if(o=(t.flags&128)!==0,u=l.rendering,u===null)if(o)Zs(l,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=cr(e),u!==null){for(t.flags|=128,Zs(l,!1),e=u.updateQueue,t.updateQueue=e,_r(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)wd(a,e),a=a.sibling;return X(ot,ot.current&1|2),Oe&&Ka(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Lt()>jr&&(t.flags|=128,o=!0,Zs(l,!1),t.lanes=4194304)}else{if(!o)if(e=cr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,_r(t,e),Zs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Oe)return Ze(t),null}else 2*Lt()-l.renderingStartTime>jr&&a!==536870912&&(t.flags|=128,o=!0,Zs(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Lt(),e.sibling=null,a=ot.current,X(ot,o?a&1|2:a&1),Oe&&Ka(t,l.treeForkCount),e):(Ze(t),null);case 22:case 23:return Ft(t),Fo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),a=t.updateQueue,a!==null&&_r(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&L(ii),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Xa(ut),Ze(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Pg(e,t){switch(Mo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xa(ut),_e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dt(t),null;case 31:if(t.memoizedState!==null){if(Ft(t),t.alternate===null)throw Error(r(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ft(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(ot),null;case 4:return _e(),null;case 10:return Xa(t.type),null;case 22:case 23:return Ft(t),Fo(),e!==null&&L(ii),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xa(ut),null;case 25:return null;default:return null}}function Jf(e,t){switch(Mo(t),t.tag){case 3:Xa(ut),_e();break;case 26:case 27:case 5:Dt(t);break;case 4:_e();break;case 31:t.memoizedState!==null&&Ft(t);break;case 13:Ft(t);break;case 19:L(ot);break;case 10:Xa(t.type);break;case 22:case 23:Ft(t),Fo(),e!==null&&L(ii);break;case 24:Xa(ut)}}function Ps(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var o=l.next;a=o;do{if((a.tag&e)===e){l=void 0;var u=a.create,m=a.inst;l=u(),m.destroy=l}a=a.next}while(a!==o)}}catch(v){Ie(t,t.return,v)}}function jn(e,t,a){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var u=o.next;l=u;do{if((l.tag&e)===e){var m=l.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,o=t;var w=a,k=v;try{k()}catch(M){Ie(o,w,M)}}}l=l.next}while(l!==u)}}catch(M){Ie(t,t.return,M)}}function Zf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Bd(t,a)}catch(l){Ie(e,e.return,l)}}}function Pf(e,t,a){a.props=ci(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ie(e,t,l)}}function Fs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(o){Ie(e,t,o)}}function Ua(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(o){Ie(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ie(e,t,o)}else a.current=null}function Ff(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(o){Ie(e,e.return,o)}}function kc(e,t,a){try{var l=e.stateNode;yp(l,e.type,a,t),l[kt]=t}catch(o){Ie(e,e.return,o)}}function Wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Un(e.type)||e.tag===4}function Cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Un(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ne));else if(l!==4&&(l===27&&Un(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Rc(e,t,a),e=e.sibling;e!==null;)Rc(e,t,a),e=e.sibling}function Er(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Un(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Er(e,t,a),e=e.sibling;e!==null;)Er(e,t,a),e=e.sibling}function eh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);jt(t,l,a),t[Xe]=e,t[kt]=a}catch(u){Ie(e,e.return,u)}}var Wa=!1,ht=!1,Dc=!1,th=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Fg(e,t){if(e=e.containerInfo,eu=Vr,e=fd(e),To(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var o=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,v=-1,w=-1,k=0,M=0,q=e,C=null;t:for(;;){for(var R;q!==a||o!==0&&q.nodeType!==3||(v=m+o),q!==u||l!==0&&q.nodeType!==3||(w=m+l),q.nodeType===3&&(m+=q.nodeValue.length),(R=q.firstChild)!==null;)C=q,q=R;for(;;){if(q===e)break t;if(C===a&&++k===o&&(v=m),C===u&&++M===l&&(w=m),(R=q.nextSibling)!==null)break;q=C,C=q.parentNode}q=R}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(tu={focusedElem:e,selectionRange:a},Vr=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,l=a.stateNode;try{var ae=ci(a.type,o);e=l.getSnapshotBeforeUpdate(ae,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(de){Ie(a,a.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)iu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function ah(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tn(e,a),l&4&&Ps(5,a);break;case 1:if(tn(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ie(a,a.return,m)}else{var o=ci(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ie(a,a.return,m)}}l&64&&Zf(a),l&512&&Fs(a,a.return);break;case 3:if(tn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Bd(e,t)}catch(m){Ie(a,a.return,m)}}break;case 27:t===null&&l&4&&eh(a);case 26:case 5:tn(e,a),t===null&&l&4&&Ff(a),l&512&&Fs(a,a.return);break;case 12:tn(e,a);break;case 31:tn(e,a),l&4&&sh(e,a);break;case 13:tn(e,a),l&4&&lh(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rp.bind(null,a),jp(e,a))));break;case 22:if(l=a.memoizedState!==null||Wa,!l){t=t!==null&&t.memoizedState!==null||ht,o=Wa;var u=ht;Wa=l,(ht=t)&&!u?an(e,a,(a.subtreeFlags&8772)!==0):tn(e,a),Wa=o,ht=u}break;case 30:break;default:tn(e,a)}}function nh(e){var t=e.alternate;t!==null&&(e.alternate=null,nh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ca(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Ht=!1;function en(e,t,a){for(a=a.child;a!==null;)ih(e,t,a),a=a.sibling}function ih(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ma,a)}catch{}switch(a.tag){case 26:ht||Ua(a,t),en(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||Ua(a,t);var l=Fe,o=Ht;Un(a.type)&&(Fe=a.stateNode,Ht=!1),en(e,t,a),rl(a.stateNode),Fe=l,Ht=o;break;case 5:ht||Ua(a,t);case 6:if(l=Fe,o=Ht,Fe=null,en(e,t,a),Fe=l,Ht=o,Fe!==null)if(Ht)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(a.stateNode)}catch(u){Ie(a,t,u)}else try{Fe.removeChild(a.stateNode)}catch(u){Ie(a,t,u)}break;case 18:Fe!==null&&(Ht?(e=Fe,Zh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ns(e)):Zh(Fe,a.stateNode));break;case 4:l=Fe,o=Ht,Fe=a.stateNode.containerInfo,Ht=!0,en(e,t,a),Fe=l,Ht=o;break;case 0:case 11:case 14:case 15:jn(2,a,t),ht||jn(4,a,t),en(e,t,a);break;case 1:ht||(Ua(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pf(a,t,l)),en(e,t,a);break;case 21:en(e,t,a);break;case 22:ht=(l=ht)||a.memoizedState!==null,en(e,t,a),ht=l;break;default:en(e,t,a)}}function sh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ns(e)}catch(a){Ie(t,t.return,a)}}}function lh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ns(e)}catch(a){Ie(t,t.return,a)}}function Wg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new th),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new th),t;default:throw Error(r(435,e.tag))}}function Sr(e,t){var a=Wg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var o=op.bind(null,e,l);l.then(o,o)}})}function $t(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var o=a[l],u=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Un(v.type)){Fe=v.stateNode,Ht=!1;break e}break;case 5:Fe=v.stateNode,Ht=!1;break e;case 3:case 4:Fe=v.stateNode.containerInfo,Ht=!0;break e}v=v.return}if(Fe===null)throw Error(r(160));ih(u,m,o),Fe=null,Ht=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}var _a=null;function rh(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),Gt(e),l&4&&(jn(3,e,e.return),Ps(3,e),jn(5,e,e.return));break;case 1:$t(t,e),Gt(e),l&512&&(ht||a===null||Ua(a,a.return)),l&64&&Wa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var o=_a;if($t(t,e),Gt(e),l&512&&(ht||a===null||Ua(a,a.return)),l&4){var u=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":u=o.getElementsByTagName("title")[0],(!u||u[ba]||u[Xe]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(l),o.head.insertBefore(u,o.querySelector("head > title"))),jt(u,l,a),u[Xe]=e,rt(u),l=u;break e;case"link":var m=rm("link","href",o).get(l+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(u=m[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}u=o.createElement(l),jt(u,l,a),o.head.appendChild(u);break;case"meta":if(m=rm("meta","content",o).get(l+(a.content||""))){for(v=0;v<m.length;v++)if(u=m[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}u=o.createElement(l),jt(u,l,a),o.head.appendChild(u);break;default:throw Error(r(468,l))}u[Xe]=e,rt(u),l=u}e.stateNode=l}else om(o,e.type,e.stateNode);else e.stateNode=lm(o,l,e.memoizedProps);else u!==l?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,l===null?om(o,e.type,e.stateNode):lm(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&kc(e,e.memoizedProps,a.memoizedProps)}break;case 27:$t(t,e),Gt(e),l&512&&(ht||a===null||Ua(a,a.return)),a!==null&&l&4&&kc(e,e.memoizedProps,a.memoizedProps);break;case 5:if($t(t,e),Gt(e),l&512&&(ht||a===null||Ua(a,a.return)),e.flags&32){o=e.stateNode;try{$a(o,"")}catch(ae){Ie(e,e.return,ae)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,kc(e,o,a!==null?a.memoizedProps:o)),l&1024&&(Dc=!0);break;case 6:if($t(t,e),Gt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ae){Ie(e,e.return,ae)}}break;case 3:if(qr=null,o=_a,_a=Ir(t.containerInfo),$t(t,e),_a=o,Gt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ns(t.containerInfo)}catch(ae){Ie(e,e.return,ae)}Dc&&(Dc=!1,oh(e));break;case 4:l=_a,_a=Ir(e.stateNode.containerInfo),$t(t,e),Gt(e),_a=l;break;case 12:$t(t,e),Gt(e);break;case 31:$t(t,e),Gt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sr(e,l)));break;case 13:$t(t,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tr=Lt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sr(e,l)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,k=Wa,M=ht;if(Wa=k||o,ht=M||w,$t(t,e),ht=M,Wa=k,Gt(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||Wa||ht||ui(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(u=w.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=w.stateNode;var q=w.memoizedProps.style,C=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(ae){Ie(w,w.return,ae)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(ae){Ie(w,w.return,ae)}}}else if(t.tag===18){if(a===null){w=t;try{var R=w.stateNode;o?Ph(R,!0):Ph(w.stateNode,!1)}catch(ae){Ie(w,w.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sr(e,a))));break;case 19:$t(t,e),Gt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sr(e,l)));break;case 30:break;case 21:break;default:$t(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Wf(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,u=Cc(e);Er(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&($a(m,""),a.flags&=-33);var v=Cc(e);Er(e,v,m);break;case 3:case 4:var w=a.stateNode.containerInfo,k=Cc(e);Rc(e,k,w);break;default:throw Error(r(161))}}catch(M){Ie(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;oh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ah(e,t.alternate,t),t=t.sibling}function ui(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jn(4,t,t.return),ui(t);break;case 1:Ua(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Pf(t,t.return,a),ui(t);break;case 27:rl(t.stateNode);case 26:case 5:Ua(t,t.return),ui(t);break;case 22:t.memoizedState===null&&ui(t);break;case 30:ui(t);break;default:ui(t)}e=e.sibling}}function an(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:an(o,u,a),Ps(4,u);break;case 1:if(an(o,u,a),l=u,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(k){Ie(l,l.return,k)}if(l=u,o=l.updateQueue,o!==null){var v=l.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Id(w[o],v)}catch(k){Ie(l,l.return,k)}}a&&m&64&&Zf(u),Fs(u,u.return);break;case 27:eh(u);case 26:case 5:an(o,u,a),a&&l===null&&m&4&&Ff(u),Fs(u,u.return);break;case 12:an(o,u,a);break;case 31:an(o,u,a),a&&m&4&&sh(o,u);break;case 13:an(o,u,a),a&&m&4&&lh(o,u);break;case 22:u.memoizedState===null&&an(o,u,a),Fs(u,u.return);break;case 30:break;default:an(o,u,a)}t=t.sibling}}function Uc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Is(a))}function zc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e))}function Ea(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ch(e,t,a,l),t=t.sibling}function ch(e,t,a,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ea(e,t,a,l),o&2048&&Ps(9,t);break;case 1:Ea(e,t,a,l);break;case 3:Ea(e,t,a,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e)));break;case 12:if(o&2048){Ea(e,t,a,l),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,v=u.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ie(t,t.return,w)}}else Ea(e,t,a,l);break;case 31:Ea(e,t,a,l);break;case 13:Ea(e,t,a,l);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Ea(e,t,a,l):Ws(e,t):u._visibility&2?Ea(e,t,a,l):(u._visibility|=2,Ki(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Uc(m,t);break;case 24:Ea(e,t,a,l),o&2048&&zc(t.alternate,t);break;default:Ea(e,t,a,l)}}function Ki(e,t,a,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,v=a,w=l,k=m.flags;switch(m.tag){case 0:case 11:case 15:Ki(u,m,v,w,o),Ps(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?Ki(u,m,v,w,o):Ws(u,m):(M._visibility|=2,Ki(u,m,v,w,o)),o&&k&2048&&Uc(m.alternate,m);break;case 24:Ki(u,m,v,w,o),o&&k&2048&&zc(m.alternate,m);break;default:Ki(u,m,v,w,o)}t=t.sibling}}function Ws(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,o=l.flags;switch(l.tag){case 22:Ws(a,l),o&2048&&Uc(l.alternate,l);break;case 24:Ws(a,l),o&2048&&zc(l.alternate,l);break;default:Ws(a,l)}t=t.sibling}}var el=8192;function Qi(e,t,a){if(e.subtreeFlags&el)for(e=e.child;e!==null;)uh(e,t,a),e=e.sibling}function uh(e,t,a){switch(e.tag){case 26:Qi(e,t,a),e.flags&el&&e.memoizedState!==null&&Bp(a,_a,e.memoizedState,e.memoizedProps);break;case 5:Qi(e,t,a);break;case 3:case 4:var l=_a;_a=Ir(e.stateNode.containerInfo),Qi(e,t,a),_a=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=el,el=16777216,Qi(e,t,a),el=l):Qi(e,t,a));break;default:Qi(e,t,a)}}function dh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function tl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];_t=l,hh(l,e)}dh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fh(e),e=e.sibling}function fh(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&jn(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Nr(e)):tl(e);break;default:tl(e)}}function Nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];_t=l,hh(l,e)}dh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jn(8,t,t.return),Nr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Nr(t));break;default:Nr(t)}e=e.sibling}}function hh(e,t){for(;_t!==null;){var a=_t;switch(a.tag){case 0:case 11:case 15:jn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Is(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,_t=l;else e:for(a=e;_t!==null;){l=_t;var o=l.sibling,u=l.return;if(nh(l),l===a){_t=null;break e}if(o!==null){o.return=u,_t=o;break e}_t=u}}}var ep={getCacheForType:function(e){var t=Nt(ut),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Nt(ut).controller.signal}},tp=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ve=null,Ee=null,Te=0,Me=0,Wt=null,An=!1,Xi=!1,Lc=!1,nn=0,it=0,On=0,di=0,Mc=0,ea=0,Ji=0,al=null,Vt=null,Ic=!1,Tr=0,mh=0,jr=1/0,Ar=null,kn=null,bt=0,Cn=null,Zi=null,sn=0,Bc=0,qc=null,gh=null,nl=0,Hc=null;function ta(){return(Le&2)!==0&&Te!==0?Te&-Te:D.T!==null?Qc():Ul()}function ph(){if(ea===0)if((Te&536870912)===0||Oe){var e=_i;_i<<=1,(_i&3932160)===0&&(_i=262144),ea=e}else ea=536870912;return e=Pt.current,e!==null&&(e.flags|=32),ea}function Yt(e,t,a){(e===Ve&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Pi(e,0),Rn(e,Te,ea,!1)),Ba(e,a),((Le&2)===0||e!==Ve)&&(e===Ve&&((Le&2)===0&&(di|=a),it===4&&Rn(e,Te,ea,!1)),za(e))}function bh(e,t,a){if((Le&6)!==0)throw Error(r(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ja(e,t),o=l?ip(e,t):Gc(e,t,!0),u=l;do{if(o===0){Xi&&!l&&Rn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!ap(a)){o=Gc(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;o=al;var w=v.current.memoizedState.isDehydrated;if(w&&(Pi(v,m).flags|=256),m=Gc(v,m,!1),m!==2){if(Lc&&!w){v.errorRecoveryDisabledLanes|=u,di|=u,o=4;break e}u=Vt,Vt=o,u!==null&&(Vt===null?Vt=u:Vt.push.apply(Vt,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){Pi(e,0),Rn(e,t,0,!0);break}e:{switch(l=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Rn(l,t,ea,!An);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Tr+300-Lt(),10<o)){if(Rn(l,t,ea,!An),Ia(l,0,!0)!==0)break e;sn=t,l.timeoutHandle=Xh(vh.bind(null,l,a,Vt,Ar,Ic,t,ea,di,Ji,An,u,"Throttled",-0,0),o);break e}vh(l,a,Vt,Ar,Ic,t,ea,di,Ji,An,u,null,-0,0)}}break}while(!0);za(e)}function vh(e,t,a,l,o,u,m,v,w,k,M,q,C,R){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ne},uh(t,u,q);var ae=(u&62914560)===u?Tr-Lt():(u&4194048)===u?mh-Lt():0;if(ae=qp(q,ae),ae!==null){sn=u,e.cancelPendingCommit=ae(Th.bind(null,e,t,u,a,l,o,m,v,w,M,q,null,C,R)),Rn(e,u,m,!k);return}}Th(e,t,u,a,l,o,m,v,w)}function ap(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var o=a[l],u=o.getSnapshot;o=o.value;try{if(!Jt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t,a,l){t&=~Mc,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var u=31-gt(o),m=1<<u;l[u]=-1,o&=~m}a!==0&&wt(e,a,t)}function Or(){return(Le&6)===0?(il(0),!1):!0}function $c(){if(Ee!==null){if(Me===0)var e=Ee.return;else e=Ee,Qa=ai=null,ic(e),Hi=null,qs=0,e=Ee;for(;e!==null;)Jf(e.alternate,e),e=e.return;Ee=null}}function Pi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_p(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sn=0,$c(),Ve=e,Ee=a=Ya(e.current,null),Te=t,Me=0,Wt=null,An=!1,Xi=ja(e,t),Lc=!1,Ji=ea=Mc=di=On=it=0,Vt=al=null,Ic=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-gt(l),u=1<<o;t|=e[o],l&=~u}return nn=t,Zl(),a}function yh(e,t){ve=null,D.H=Xs,t===qi||t===ir?(t=Ud(),Me=3):t===Ko?(t=Ud(),Me=4):Me=t===xc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Wt=t,Ee===null&&(it=1,vr(e,oa(t,e.current)))}function xh(){var e=Pt.current;return e===null?!0:(Te&4194048)===Te?fa===null:(Te&62914560)===Te||(Te&536870912)!==0?e===fa:!1}function wh(){var e=D.H;return D.H=Xs,e===null?Xs:e}function _h(){var e=D.A;return D.A=ep,e}function kr(){it=4,An||(Te&4194048)!==Te&&Pt.current!==null||(Xi=!0),(On&134217727)===0&&(di&134217727)===0||Ve===null||Rn(Ve,Te,ea,!1)}function Gc(e,t,a){var l=Le;Le|=2;var o=wh(),u=_h();(Ve!==e||Te!==t)&&(Ar=null,Pi(e,t)),t=!1;var m=it;e:do try{if(Me!==0&&Ee!==null){var v=Ee,w=Wt;switch(Me){case 8:$c(),m=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(t=!0);var k=Me;if(Me=0,Wt=null,Fi(e,v,w,k),a&&Xi){m=0;break e}break;default:k=Me,Me=0,Wt=null,Fi(e,v,w,k)}}np(),m=it;break}catch(M){yh(e,M)}while(!0);return t&&e.shellSuspendCounter++,Qa=ai=null,Le=l,D.H=o,D.A=u,Ee===null&&(Ve=null,Te=0,Zl()),m}function np(){for(;Ee!==null;)Eh(Ee)}function ip(e,t){var a=Le;Le|=2;var l=wh(),o=_h();Ve!==e||Te!==t?(Ar=null,jr=Lt()+500,Pi(e,t)):Xi=ja(e,t);e:do try{if(Me!==0&&Ee!==null){t=Ee;var u=Wt;t:switch(Me){case 1:Me=0,Wt=null,Fi(e,t,u,1);break;case 2:case 9:if(Rd(u)){Me=0,Wt=null,Sh(t);break}t=function(){Me!==2&&Me!==9||Ve!==e||(Me=7),za(e)},u.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Rd(u)?(Me=0,Wt=null,Sh(t)):(Me=0,Wt=null,Fi(e,t,u,7));break;case 5:var m=null;switch(Ee.tag){case 26:m=Ee.memoizedState;case 5:case 27:var v=Ee;if(m?cm(m):v.stateNode.complete){Me=0,Wt=null;var w=v.sibling;if(w!==null)Ee=w;else{var k=v.return;k!==null?(Ee=k,Cr(k)):Ee=null}break t}}Me=0,Wt=null,Fi(e,t,u,5);break;case 6:Me=0,Wt=null,Fi(e,t,u,6);break;case 8:$c(),it=6;break e;default:throw Error(r(462))}}sp();break}catch(M){yh(e,M)}while(!0);return Qa=ai=null,D.H=l,D.A=o,Le=a,Ee!==null?0:(Ve=null,Te=0,Zl(),it)}function sp(){for(;Ee!==null&&!Pe();)Eh(Ee)}function Eh(e){var t=Qf(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?Cr(e):Ee=t}function Sh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Hf(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Hf(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:ic(t);default:Jf(a,t),t=Ee=wd(t,nn),t=Qf(a,t,nn)}e.memoizedProps=e.pendingProps,t===null?Cr(e):Ee=t}function Fi(e,t,a,l){Qa=ai=null,ic(t),Hi=null,qs=0;var o=t.return;try{if(Qg(e,o,t,a,Te)){it=1,vr(e,oa(a,e.current)),Ee=null;return}}catch(u){if(o!==null)throw Ee=o,u;it=1,vr(e,oa(a,e.current)),Ee=null;return}t.flags&32768?(Oe||l===1?e=!0:Xi||(Te&536870912)!==0?e=!1:(An=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nh(t,e)):Cr(t)}function Cr(e){var t=e;do{if((t.flags&32768)!==0){Nh(t,An);return}e=t.return;var a=Zg(t.alternate,t,nn);if(a!==null){Ee=a;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);it===0&&(it=5)}function Nh(e,t){do{var a=Pg(e.alternate,e);if(a!==null){a.flags&=32767,Ee=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=a}while(e!==null);it=6,Ee=null}function Th(e,t,a,l,o,u,m,v,w){e.cancelPendingCommit=null;do Rr();while(bt!==0);if((Le&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Co,mo(e,a,u,m,v,w),e===Ve&&(Ee=Ve=null,Te=0),Zi=t,Cn=e,sn=a,Bc=u,qc=o,gh=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cp(xi,function(){return Ch(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,o=U.p,U.p=2,m=Le,Le|=4;try{Fg(e,t,a)}finally{Le=m,U.p=o,D.T=l}}bt=1,jh(),Ah(),Oh()}}function jh(){if(bt===1){bt=0;var e=Cn,t=Zi,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=U.p;U.p=2;var o=Le;Le|=4;try{rh(t,e);var u=tu,m=fd(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(m!==v&&v&&v.ownerDocument&&dd(v.ownerDocument.documentElement,v)){if(w!==null&&To(v)){var k=w.start,M=w.end;if(M===void 0&&(M=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min(M,v.value.length);else{var q=v.ownerDocument||document,C=q&&q.defaultView||window;if(C.getSelection){var R=C.getSelection(),ae=v.textContent.length,de=Math.min(w.start,ae),Ge=w.end===void 0?de:Math.min(w.end,ae);!R.extend&&de>Ge&&(m=Ge,Ge=de,de=m);var j=ud(v,de),S=ud(v,Ge);if(j&&S&&(R.rangeCount!==1||R.anchorNode!==j.node||R.anchorOffset!==j.offset||R.focusNode!==S.node||R.focusOffset!==S.offset)){var O=q.createRange();O.setStart(j.node,j.offset),R.removeAllRanges(),de>Ge?(R.addRange(O),R.extend(S.node,S.offset)):(O.setEnd(S.node,S.offset),R.addRange(O))}}}}for(q=[],R=v;R=R.parentNode;)R.nodeType===1&&q.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var I=q[v];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Vr=!!eu,tu=eu=null}finally{Le=o,U.p=l,D.T=a}}e.current=t,bt=2}}function Ah(){if(bt===2){bt=0;var e=Cn,t=Zi,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=U.p;U.p=2;var o=Le;Le|=4;try{ah(e,t.alternate,t)}finally{Le=o,U.p=l,D.T=a}}bt=3}}function Oh(){if(bt===4||bt===3){bt=0,vs();var e=Cn,t=Zi,a=sn,l=gh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?bt=5:(bt=0,Zi=Cn=null,kh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(kn=null),Kn(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ma,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=D.T,o=U.p,U.p=2,D.T=null;try{for(var u=e.onRecoverableError,m=0;m<l.length;m++){var v=l[m];u(v.value,{componentStack:v.stack})}}finally{D.T=t,U.p=o}}(sn&3)!==0&&Rr(),za(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Hc?nl++:(nl=0,Hc=e):nl=0,il(0)}}function kh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Is(t)))}function Rr(){return jh(),Ah(),Oh(),Ch()}function Ch(){if(bt!==5)return!1;var e=Cn,t=Bc;Bc=0;var a=Kn(sn),l=D.T,o=U.p;try{U.p=32>a?32:a,D.T=null,a=qc,qc=null;var u=Cn,m=sn;if(bt=0,Zi=Cn=null,sn=0,(Le&6)!==0)throw Error(r(331));var v=Le;if(Le|=4,fh(u.current),ch(u,u.current,m,a),Le=v,il(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ma,u)}catch{}return!0}finally{U.p=o,D.T=l,kh(e,t)}}function Rh(e,t,a){t=oa(a,t),t=yc(e.stateNode,t,2),e=Sn(e,t,2),e!==null&&(Ba(e,2),za(e))}function Ie(e,t,a){if(e.tag===3)Rh(e,e,a);else for(;t!==null;){if(t.tag===3){Rh(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kn===null||!kn.has(l))){e=oa(a,e),a=Df(2),l=Sn(t,a,2),l!==null&&(Uf(a,l,t,e),Ba(l,2),za(l));break}}t=t.return}}function Vc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new tp;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(a)||(Lc=!0,o.add(a),e=lp.bind(null,e,t,a),t.then(e,e))}function lp(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(Te&a)===a&&(it===4||it===3&&(Te&62914560)===Te&&300>Lt()-Tr?(Le&2)===0&&Pi(e,0):Mc|=a,Ji===Te&&(Ji=0)),za(e)}function Dh(e,t){t===0&&(t=xt()),e=Wn(e,t),e!==null&&(Ba(e,t),za(e))}function rp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Dh(e,a)}function op(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Dh(e,a)}function cp(e,t){return La(e,t)}var Dr=null,Wi=null,Yc=!1,Ur=!1,Kc=!1,Dn=0;function za(e){e!==Wi&&e.next===null&&(Wi===null?Dr=Wi=e:Wi=Wi.next=e),Ur=!0,Yc||(Yc=!0,dp())}function il(e,t){if(!Kc&&Ur){Kc=!0;do for(var a=!1,l=Dr;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var u=0;else{var m=l.suspendedLanes,v=l.pingedLanes;u=(1<<31-gt(42|e)+1)-1,u&=o&~(m&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Mh(l,u))}else u=Te,u=Ia(l,l===Ve?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||ja(l,u)||(a=!0,Mh(l,u));l=l.next}while(a);Kc=!1}}function up(){Uh()}function Uh(){Ur=Yc=!1;var e=0;Dn!==0&&wp()&&(e=Dn);for(var t=Lt(),a=null,l=Dr;l!==null;){var o=l.next,u=zh(l,t);u===0?(l.next=null,a===null?Dr=o:a.next=o,o===null&&(Wi=a)):(a=l,(e!==0||(u&3)!==0)&&(Ur=!0)),l=o}bt!==0&&bt!==5||il(e),Dn!==0&&(Dn=0)}function zh(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-gt(u),v=1<<m,w=o[m];w===-1?((v&a)===0||(v&l)!==0)&&(o[m]=ho(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=Ve,a=Te,a=Ia(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ce(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ja(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ce(l),Kn(a)){case 2:case 8:a=Vn;break;case 32:a=xi;break;case 268435456:a=wi;break;default:a=xi}return l=Lh.bind(null,e),a=La(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ce(l),e.callbackPriority=2,e.callbackNode=null,2}function Lh(e,t){if(bt!==0&&bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rr()&&e.callbackNode!==a)return null;var l=Te;return l=Ia(e,e===Ve?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(bh(e,l,t),zh(e,Lt()),e.callbackNode!=null&&e.callbackNode===a?Lh.bind(null,e):null)}function Mh(e,t){if(Rr())return null;bh(e,t,!0)}function dp(){Ep(function(){(Le&6)!==0?La(ys,up):Uh()})}function Qc(){if(Dn===0){var e=Ii;e===0&&(e=cn,cn<<=1,(cn&261888)===0&&(cn=256)),Dn=e}return Dn}function Ih(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:De(""+e)}function Bh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function fp(e,t,a,l,o){if(t==="submit"&&a&&a.stateNode===o){var u=Ih((o[kt]||null).action),m=l.submitter;m&&(t=(t=m[kt]||null)?Ih(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var v=new Kl("action","action",null,l,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Dn!==0){var w=m?Bh(o,m):new FormData(o);hc(a,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=m?Bh(o,m):new FormData(o),hc(a,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var Xc=0;Xc<ko.length;Xc++){var Jc=ko[Xc],hp=Jc.toLowerCase(),mp=Jc[0].toUpperCase()+Jc.slice(1);wa(hp,"on"+mp)}wa(gd,"onAnimationEnd"),wa(pd,"onAnimationIteration"),wa(bd,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(kg,"onTransitionRun"),wa(Cg,"onTransitionStart"),wa(Rg,"onTransitionCancel"),wa(vd,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function qh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],o=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var m=l.length-1;0<=m;m--){var v=l[m],w=v.instance,k=v.currentTarget;if(v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=k;try{u(o)}catch(M){Jl(M)}o.currentTarget=null,u=w}else for(m=0;m<l.length;m++){if(v=l[m],w=v.instance,k=v.currentTarget,v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=k;try{u(o)}catch(M){Jl(M)}o.currentTarget=null,u=w}}}}function Se(e,t){var a=t[fn];a===void 0&&(a=t[fn]=new Set);var l=e+"__bubble";a.has(l)||(Hh(t,e,2,!1),a.add(l))}function Zc(e,t,a){var l=0;t&&(l|=4),Hh(a,e,l,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Pc(e){if(!e[zr]){e[zr]=!0,zl.forEach(function(a){a!=="selectionchange"&&(gp.has(a)||Zc(a,!1,e),Zc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zr]||(t[zr]=!0,Zc("selectionchange",!1,t))}}function Hh(e,t,a,l){switch(pm(t)){case 2:var o=Gp;break;case 8:o=Vp;break;default:o=fu}a=o.bind(null,t,a,e),o=void 0,!bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Fc(e,t,a,l,o){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var v=l.stateNode.containerInfo;if(v===o)break;if(m===4)for(m=l.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;v!==null;){if(m=hn(v),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){l=u=m;continue e}v=v.parentNode}}l=l.return}at(function(){var k=u,M=la(a),q=[];e:{var C=yd.get(e);if(C!==void 0){var R=Kl,ae=e;switch(e){case"keypress":if(Vl(a)===0)break e;case"keydown":case"keyup":R=og;break;case"focusin":ae="focus",R=wo;break;case"focusout":ae="blur",R=wo;break;case"beforeblur":case"afterblur":R=wo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=dg;break;case gd:case pd:case bd:R=W0;break;case vd:R=hg;break;case"scroll":case"scrollend":R=X0;break;case"wheel":R=gg;break;case"copy":case"cut":case"paste":R=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Zu;break;case"toggle":case"beforetoggle":R=bg}var de=(t&4)!==0,Ge=!de&&(e==="scroll"||e==="scrollend"),j=de?C!==null?C+"Capture":null:C;de=[];for(var S=k,O;S!==null;){var I=S;if(O=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||O===null||j===null||(I=js(S,j),I!=null&&de.push(ll(S,I,O))),Ge)break;S=S.return}0<de.length&&(C=new R(C,ae,null,a,M),q.push({event:C,listeners:de}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",C&&a!==Et&&(ae=a.relatedTarget||a.fromElement)&&(hn(ae)||ae[Xt]))break e;if((R||C)&&(C=M.window===M?M:(C=M.ownerDocument)?C.defaultView||C.parentWindow:window,R?(ae=a.relatedTarget||a.toElement,R=k,ae=ae?hn(ae):null,ae!==null&&(Ge=f(ae),de=ae.tag,ae!==Ge||de!==5&&de!==27&&de!==6)&&(ae=null)):(R=null,ae=k),R!==ae)){if(de=Xu,I="onMouseLeave",j="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(de=Zu,I="onPointerLeave",j="onPointerEnter",S="pointer"),Ge=R==null?C:Xn(R),O=ae==null?C:Xn(ae),C=new de(I,S+"leave",R,a,M),C.target=Ge,C.relatedTarget=O,I=null,hn(M)===k&&(de=new de(j,S+"enter",ae,a,M),de.target=O,de.relatedTarget=Ge,I=de),Ge=I,R&&ae)t:{for(de=pp,j=R,S=ae,O=0,I=j;I;I=de(I))O++;I=0;for(var ue=S;ue;ue=de(ue))I++;for(;0<O-I;)j=de(j),O--;for(;0<I-O;)S=de(S),I--;for(;O--;){if(j===S||S!==null&&j===S.alternate){de=j;break t}j=de(j),S=de(S)}de=null}else de=null;R!==null&&$h(q,C,R,de,!1),ae!==null&&Ge!==null&&$h(q,Ge,ae,de,!0)}}e:{if(C=k?Xn(k):window,R=C.nodeName&&C.nodeName.toLowerCase(),R==="select"||R==="input"&&C.type==="file")var Ue=id;else if(ad(C))if(sd)Ue=jg;else{Ue=Ng;var se=Sg}else R=C.nodeName,!R||R.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?k&&qe(k.elementType)&&(Ue=id):Ue=Tg;if(Ue&&(Ue=Ue(e,k))){nd(q,Ue,a,M);break e}se&&se(e,C,k),e==="focusout"&&k&&C.type==="number"&&k.memoizedProps.value!=null&&Ns(C,"number",C.value)}switch(se=k?Xn(k):window,e){case"focusin":(ad(se)||se.contentEditable==="true")&&(ki=se,jo=k,zs=null);break;case"focusout":zs=jo=ki=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,hd(q,a,M);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":hd(q,a,M)}var ye;if(Eo)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Oi?ed(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Pu&&a.locale!=="ko"&&(Oi||je!=="onCompositionStart"?je==="onCompositionEnd"&&Oi&&(ye=Ku()):(bn=M,vo="value"in bn?bn.value:bn.textContent,Oi=!0)),se=Lr(k,je),0<se.length&&(je=new Ju(je,e,null,a,M),q.push({event:je,listeners:se}),ye?je.data=ye:(ye=td(a),ye!==null&&(je.data=ye)))),(ye=yg?xg(e,a):wg(e,a))&&(je=Lr(k,"onBeforeInput"),0<je.length&&(se=new Ju("onBeforeInput","beforeinput",null,a,M),q.push({event:se,listeners:je}),se.data=ye)),fp(q,e,k,a,M)}qh(q,t)})}function ll(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Lr(e,t){for(var a=t+"Capture",l=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=js(e,a),o!=null&&l.unshift(ll(e,o,u)),o=js(e,t),o!=null&&l.push(ll(e,o,u))),e.tag===3)return l;e=e.return}return[]}function pp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $h(e,t,a,l,o){for(var u=t._reactName,m=[];a!==null&&a!==l;){var v=a,w=v.alternate,k=v.stateNode;if(v=v.tag,w!==null&&w===l)break;v!==5&&v!==26&&v!==27||k===null||(w=k,o?(k=js(a,u),k!=null&&m.unshift(ll(a,k,w))):o||(k=js(a,u),k!=null&&m.push(ll(a,k,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var bp=/\r\n?/g,vp=/\u0000|\uFFFD/g;function Gh(e){return(typeof e=="string"?e:""+e).replace(bp,`
`).replace(vp,"")}function Vh(e,t){return t=Gh(t),Gh(e)===t}function $e(e,t,a,l,o,u){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||$a(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&$a(e,""+l);break;case"className":Ti(e,"class",l);break;case"tabIndex":Ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,a,l);break;case"style":oe(e,l,u);break;case"data":if(t!=="object"){Ti(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=De(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",o.name,o,null),$e(e,t,"formEncType",o.formEncType,o,null),$e(e,t,"formMethod",o.formMethod,o,null),$e(e,t,"formTarget",o.formTarget,o,null)):($e(e,t,"encType",o.encType,o,null),$e(e,t,"method",o.method,o,null),$e(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=De(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ne);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=De(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Ni(e,"popover",l);break;case"xlinkActuate":va(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":va(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":va(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":va(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":va(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":va(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":va(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ni(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=W.get(a)||a,Ni(e,a,l))}}function Wc(e,t,a,l,o,u){switch(a){case"style":oe(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?$a(e,l):(typeof l=="number"||typeof l=="bigint")&&$a(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ne);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[kt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof l=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,o);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ni(e,a,l)}}}function jt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,u,m,a,null)}}o&&$e(e,t,"srcSet",a.srcSet,a,null),l&&$e(e,t,"src",a.src,a,null);return;case"input":Se("invalid",e);var v=u=m=o=null,w=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var M=a[l];if(M!=null)switch(l){case"name":o=M;break;case"type":m=M;break;case"checked":w=M;break;case"defaultChecked":k=M;break;case"value":u=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:$e(e,t,l,M,a,null)}}Hl(e,u,v,w,k,m,o,!1);return;case"select":Se("invalid",e),l=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":m=v;break;case"multiple":l=v;default:$e(e,t,o,v,a,null)}t=u,a=m,e.multiple=!!l,t!=null?pn(e,!!l,t,!1):a!=null&&pn(e,!!l,a,!0);return;case"textarea":Se("invalid",e),u=o=l=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":l=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:$e(e,t,m,v,a,null)}Ts(e,l,o,u);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(e,t,w,l,a,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<sl.length;l++)Se(sl[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,k,l,a,null)}return;default:if(qe(t)){for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!==void 0&&Wc(e,t,M,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&$e(e,t,v,l,a,null))}function yp(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,v=null,w=null,k=null,M=null;for(R in a){var q=a[R];if(a.hasOwnProperty(R)&&q!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":w=q;default:l.hasOwnProperty(R)||$e(e,t,R,null,l,q)}}for(var C in l){var R=l[C];if(q=a[C],l.hasOwnProperty(C)&&(R!=null||q!=null))switch(C){case"type":u=R;break;case"name":o=R;break;case"checked":k=R;break;case"defaultChecked":M=R;break;case"value":m=R;break;case"defaultValue":v=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==q&&$e(e,t,C,R,l,q)}}Ai(e,m,v,w,k,M,u,o);return;case"select":R=m=v=C=null;for(u in a)if(w=a[u],a.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":R=w;default:l.hasOwnProperty(u)||$e(e,t,u,null,l,w)}for(o in l)if(u=l[o],w=a[o],l.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":C=u;break;case"defaultValue":v=u;break;case"multiple":m=u;default:u!==w&&$e(e,t,o,u,l,w)}t=v,a=m,l=R,C!=null?pn(e,!!a,C,!1):!!l!=!!a&&(t!=null?pn(e,!!a,t,!0):pn(e,!!a,a?[]:"",!1));return;case"textarea":R=C=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:$e(e,t,v,null,l,o)}for(m in l)if(o=l[m],u=a[m],l.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":C=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&$e(e,t,m,o,l,u)}$l(e,C,R);return;case"option":for(var ae in a)if(C=a[ae],a.hasOwnProperty(ae)&&C!=null&&!l.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:$e(e,t,ae,null,l,C)}for(w in l)if(C=l[w],R=a[w],l.hasOwnProperty(w)&&C!==R&&(C!=null||R!=null))switch(w){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:$e(e,t,w,C,l,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)C=a[de],a.hasOwnProperty(de)&&C!=null&&!l.hasOwnProperty(de)&&$e(e,t,de,null,l,C);for(k in l)if(C=l[k],R=a[k],l.hasOwnProperty(k)&&C!==R&&(C!=null||R!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:$e(e,t,k,C,l,R)}return;default:if(qe(t)){for(var Ge in a)C=a[Ge],a.hasOwnProperty(Ge)&&C!==void 0&&!l.hasOwnProperty(Ge)&&Wc(e,t,Ge,void 0,l,C);for(M in l)C=l[M],R=a[M],!l.hasOwnProperty(M)||C===R||C===void 0&&R===void 0||Wc(e,t,M,C,l,R);return}}for(var j in a)C=a[j],a.hasOwnProperty(j)&&C!=null&&!l.hasOwnProperty(j)&&$e(e,t,j,null,l,C);for(q in l)C=l[q],R=a[q],!l.hasOwnProperty(q)||C===R||C==null&&R==null||$e(e,t,q,C,l,R)}function Yh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var o=a[l],u=o.transferSize,m=o.initiatorType,v=o.duration;if(u&&v&&Yh(m)){for(m=0,v=o.responseEnd,l+=1;l<a.length;l++){var w=a[l],k=w.startTime;if(k>v)break;var M=w.transferSize,q=w.initiatorType;M&&Yh(q)&&(w=w.responseEnd,m+=M*(w<v?1:(v-k)/(w-k)))}if(--l,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eu=null,tu=null;function Mr(e){return e.nodeType===9?e:e.ownerDocument}function Kh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nu=null;function wp(){var e=window.event;return e&&e.type==="popstate"?e===nu?!1:(nu=e,!0):(nu=null,!1)}var Xh=typeof setTimeout=="function"?setTimeout:void 0,_p=typeof clearTimeout=="function"?clearTimeout:void 0,Jh=typeof Promise=="function"?Promise:void 0,Ep=typeof queueMicrotask=="function"?queueMicrotask:typeof Jh<"u"?function(e){return Jh.resolve(null).then(e).catch(Sp)}:Xh;function Sp(e){setTimeout(function(){throw e})}function Un(e){return e==="head"}function Zh(e,t){var a=t,l=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(o),ns(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")rl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,rl(a);for(var u=a.firstChild;u;){var m=u.nextSibling,v=u.nodeName;u[ba]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&rl(e.ownerDocument.body);a=o}while(a);ns(t)}function Ph(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function iu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":iu(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Np(e,t,a,l){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ba])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ha(e.nextSibling),e===null)break}return null}function Tp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ha(e.nextSibling),e===null))return null;return e}function Fh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ha(e.nextSibling),e===null))return null;return e}function su(e){return e.data==="$?"||e.data==="$~"}function lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ru=null;function Wh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ha(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function tm(e,t,a){switch(t=Mr(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function rl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ca(e)}var ma=new Map,am=new Set;function Ir(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ln=U.d;U.d={f:Ap,r:Op,D:kp,C:Cp,L:Rp,m:Dp,X:zp,S:Up,M:Lp};function Ap(){var e=ln.f(),t=Or();return e||t}function Op(e){var t=mn(e);t!==null&&t.tag===5&&t.type==="form"?yf(t):ln.r(e)}var es=typeof document>"u"?null:document;function nm(e,t,a){var l=es;if(l&&typeof t=="string"&&t){var o=We(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),am.has(o)||(am.add(o),e={rel:e,crossOrigin:a,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),jt(t,"link",e),rt(t),l.head.appendChild(t)))}}function kp(e){ln.D(e),nm("dns-prefetch",e,null)}function Cp(e,t){ln.C(e,t),nm("preconnect",e,t)}function Rp(e,t,a){ln.L(e,t,a);var l=es;if(l&&e&&t){var o='link[rel="preload"][as="'+We(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+We(a.imageSizes)+'"]')):o+='[href="'+We(e)+'"]';var u=o;switch(t){case"style":u=ts(e);break;case"script":u=as(e)}ma.has(u)||(e=E({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ma.set(u,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(ol(u))||t==="script"&&l.querySelector(cl(u))||(t=l.createElement("link"),jt(t,"link",e),rt(t),l.head.appendChild(t)))}}function Dp(e,t){ln.m(e,t);var a=es;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(e)+'"]',u=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=as(e)}if(!ma.has(u)&&(e=E({rel:"modulepreload",href:e},t),ma.set(u,e),a.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(u)))return}l=a.createElement("link"),jt(l,"link",e),rt(l),a.head.appendChild(l)}}}function Up(e,t,a){ln.S(e,t,a);var l=es;if(l&&e){var o=qa(l).hoistableStyles,u=ts(e);t=t||"default";var m=o.get(u);if(!m){var v={loading:0,preload:null};if(m=l.querySelector(ol(u)))v.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ma.get(u))&&ou(e,a);var w=m=l.createElement("link");rt(w),jt(w,"link",e),w._p=new Promise(function(k,M){w.onload=k,w.onerror=M}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Br(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:v},o.set(u,m)}}}function zp(e,t){ln.X(e,t);var a=es;if(a&&e){var l=qa(a).hoistableScripts,o=as(e),u=l.get(o);u||(u=a.querySelector(cl(o)),u||(e=E({src:e,async:!0},t),(t=ma.get(o))&&cu(e,t),u=a.createElement("script"),rt(u),jt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function Lp(e,t){ln.M(e,t);var a=es;if(a&&e){var l=qa(a).hoistableScripts,o=as(e),u=l.get(o);u||(u=a.querySelector(cl(o)),u||(e=E({src:e,async:!0,type:"module"},t),(t=ma.get(o))&&cu(e,t),u=a.createElement("script"),rt(u),jt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function im(e,t,a,l){var o=(o=pe.current)?Ir(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ts(a.href),a=qa(o).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ts(a.href);var u=qa(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(ol(e)))&&!u._p&&(m.instance=u,m.state.loading=5),ma.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ma.set(e,a),u||Mp(o,e,a,m.state))),t&&l===null)throw Error(r(528,""));return m}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=as(a),a=qa(o).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ts(e){return'href="'+We(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function sm(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Mp(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),jt(t,"link",a),rt(t),e.head.appendChild(t))}function as(e){return'[src="'+We(e)+'"]'}function cl(e){return"script[async]"+e}function lm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return t.instance=l,rt(l),l;var o=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),jt(l,"style",o),Br(l,a.precedence,e),t.instance=l;case"stylesheet":o=ts(a.href);var u=e.querySelector(ol(o));if(u)return t.state.loading|=4,t.instance=u,rt(u),u;l=sm(a),(o=ma.get(o))&&ou(l,o),u=(e.ownerDocument||e).createElement("link"),rt(u);var m=u;return m._p=new Promise(function(v,w){m.onload=v,m.onerror=w}),jt(u,"link",l),t.state.loading|=4,Br(u,a.precedence,e),t.instance=u;case"script":return u=as(a.src),(o=e.querySelector(cl(u)))?(t.instance=o,rt(o),o):(l=a,(o=ma.get(u))&&(l=E({},a),cu(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),rt(o),jt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Br(l,a.precedence,e));return t.instance}function Br(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,u=o,m=0;m<l.length;m++){var v=l[m];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var qr=null;function rm(e,t,a){if(qr===null){var l=new Map,o=qr=new Map;o.set(a,l)}else o=qr,l=o.get(a),l||(l=new Map,o.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[ba]||u[Xe]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var v=l.get(m);v?v.push(u):l.set(m,[u])}}return l}function om(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ip(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bp(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=ts(l.href),u=t.querySelector(ol(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,rt(u);return}u=t.ownerDocument||t,l=sm(l),(o=ma.get(o))&&ou(l,o),u=u.createElement("link"),rt(u);var m=u;m._p=new Promise(function(v,w){m.onload=v,m.onerror=w}),jt(u,"link",l),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Hr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var uu=0;function qp(e,t){return e.stylesheets&&e.count===0&&Gr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Gr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&uu===0&&(uu=62500*xp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>uu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function Hr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $r=null;function Gr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$r=new Map,t.forEach(Hp,e),$r=null,Hr.call(e))}function Hp(e,t){if(!(t.state.loading&4)){var a=$r.get(e);if(a)var l=a.get(null);else{a=new Map,$r.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||l,u===l&&a.set(null,o),a.set(m,o),this.count++,l=Hr.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ul={$$typeof:$,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function $p(e,t,a,l,o,u,m,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function um(e,t,a,l,o,u,m,v,w,k,M,q){return e=new $p(e,t,a,m,w,k,M,q,v),t=1,u===!0&&(t|=24),u=Zt(3,null,null,t),e.current=u,u.stateNode=e,t=Go(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:a,cache:t},Qo(u),e}function dm(e){return e?(e=Di,e):Di}function fm(e,t,a,l,o,u){o=dm(o),l.context===null?l.context=o:l.pendingContext=o,l=En(t),l.payload={element:a},u=u===void 0?null:u,u!==null&&(l.callback=u),a=Sn(e,l,t),a!==null&&(Yt(a,e,t),$s(a,e,t))}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function du(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function mm(e){if(e.tag===13||e.tag===31){var t=Wn(e,67108864);t!==null&&Yt(t,e,67108864),du(e,67108864)}}function gm(e){if(e.tag===13||e.tag===31){var t=ta();t=_s(t);var a=Wn(e,t);a!==null&&Yt(a,e,t),du(e,t)}}var Vr=!0;function Gp(e,t,a,l){var o=D.T;D.T=null;var u=U.p;try{U.p=2,fu(e,t,a,l)}finally{U.p=u,D.T=o}}function Vp(e,t,a,l){var o=D.T;D.T=null;var u=U.p;try{U.p=8,fu(e,t,a,l)}finally{U.p=u,D.T=o}}function fu(e,t,a,l){if(Vr){var o=hu(l);if(o===null)Fc(e,t,l,Yr,a),bm(e,l);else if(Kp(o,e,t,a,l))l.stopPropagation();else if(bm(e,l),t&4&&-1<Yp.indexOf(e)){for(;o!==null;){var u=mn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=pt(u.pendingLanes);if(m!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var w=1<<31-gt(m);v.entanglements[1]|=w,m&=~w}za(u),(Le&6)===0&&(jr=Lt()+500,il(0))}}break;case 31:case 13:v=Wn(u,2),v!==null&&Yt(v,u,2),Or(),du(u,2)}if(u=hu(l),u===null&&Fc(e,t,l,Yr,a),u===o)break;o=u}o!==null&&l.stopPropagation()}else Fc(e,t,l,null,a)}}function hu(e){return e=la(e),mu(e)}var Yr=null;function mu(e){if(Yr=null,e=hn(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yr=e,null}function pm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cl()){case ys:return 2;case Vn:return 8;case xi:case xs:return 32;case wi:return 268435456;default:return 32}default:return 32}}var gu=!1,zn=null,Ln=null,Mn=null,dl=new Map,fl=new Map,In=[],Yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(t.pointerId)}}function hl(e,t,a,l,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:u,targetContainers:[o]},t!==null&&(t=mn(t),t!==null&&mm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Kp(e,t,a,l,o){switch(t){case"focusin":return zn=hl(zn,e,t,a,l,o),!0;case"dragenter":return Ln=hl(Ln,e,t,a,l,o),!0;case"mouseover":return Mn=hl(Mn,e,t,a,l,o),!0;case"pointerover":var u=o.pointerId;return dl.set(u,hl(dl.get(u)||null,e,t,a,l,o)),!0;case"gotpointercapture":return u=o.pointerId,fl.set(u,hl(fl.get(u)||null,e,t,a,l,o)),!0}return!1}function vm(e){var t=hn(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Oa(e.priority,function(){gm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Oa(e.priority,function(){gm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=hu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Et=l,a.target.dispatchEvent(l),Et=null}else return t=mn(a),t!==null&&mm(t),e.blockedOn=a,!1;t.shift()}return!0}function ym(e,t,a){Kr(e)&&a.delete(t)}function Qp(){gu=!1,zn!==null&&Kr(zn)&&(zn=null),Ln!==null&&Kr(Ln)&&(Ln=null),Mn!==null&&Kr(Mn)&&(Mn=null),dl.forEach(ym),fl.forEach(ym)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,gu||(gu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qp)))}var Xr=null;function xm(e){Xr!==e&&(Xr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xr===e&&(Xr=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(mu(l||a)===null)continue;break}var u=mn(a);u!==null&&(e.splice(t,3),t-=3,hc(u,{pending:!0,data:o,method:a.method,action:l},l,o))}}))}function ns(e){function t(w){return Qr(w,e)}zn!==null&&Qr(zn,e),Ln!==null&&Qr(Ln,e),Mn!==null&&Qr(Mn,e),dl.forEach(t),fl.forEach(t);for(var a=0;a<In.length;a++){var l=In[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<In.length&&(a=In[0],a.blockedOn===null);)vm(a),a.blockedOn===null&&In.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var o=a[l],u=a[l+1],m=o[kt]||null;if(typeof u=="function")m||xm(a);else if(m){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[kt]||null)v=m.formAction;else if(mu(o)!==null)continue}else v=m.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),xm(a)}}}function wm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function pu(e){this._internalRoot=e}Jr.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=ta();fm(a,l,e,t,null,null)},Jr.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fm(e.current,2,null,e,null,null),Or(),t[Xt]=null}};function Jr(e){this._internalRoot=e}Jr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ul();e={blockedOn:null,target:e,priority:t};for(var a=0;a<In.length&&t!==0&&t<In[a].priority;a++);In.splice(a,0,e),a===0&&vm(e)}};var _m=n.version;if(_m!=="19.2.4")throw Error(r(527,_m,"19.2.4"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=b(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Xp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zr.isDisabled&&Zr.supportsFiber)try{Ma=Zr.inject(Xp),yt=Zr}catch{}}return gl.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,l="",o=Of,u=kf,m=Cf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=um(e,1,!1,null,null,a,l,null,o,u,m,wm),e[Xt]=t.current,Pc(e),new pu(t)},gl.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var l=!1,o="",u=Of,m=kf,v=Cf,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=um(e,1,!0,t,a??null,l,o,w,u,m,v,wm),t.context=dm(null),a=t.current,l=ta(),l=_s(l),o=En(l),o.callback=null,Sn(a,o,l),a=l,t.current.lanes=a,Ba(t,a),za(t),e[Xt]=t.current,Pc(e),new Jr(t)},gl.version="19.2.4",gl}var Rm;function ib(){if(Rm)return yu.exports;Rm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),yu.exports=nb(),yu.exports}var sb=ib();const lb=_0(sb);function oo(i,n){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(i);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(i,r[c])&&(s[r[c]]=i[r[c]]);return s}function rb(i,n,s,r){function c(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function g(x){try{b(r.next(x))}catch(E){h(E)}}function p(x){try{b(r.throw(x))}catch(E){h(E)}}function b(x){x.done?f(x.value):c(x.value).then(g,p)}b((r=r.apply(i,n||[])).next())})}const ob=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class Gu extends Error{constructor(n,s="FunctionsError",r){super(n),this.name=s,this.context=r}}class cb extends Gu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Dm extends Gu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Um extends Gu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var ku;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(ku||(ku={}));class ub{constructor(n,{headers:s={},customFetch:r,region:c=ku.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=ob(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return rb(this,arguments,void 0,function*(s,r={}){var c;let f,h;try{const{headers:g,method:p,body:b,signal:x,timeout:E}=r;let N={},{region:T}=r;T||(T=this.region);const A=new URL(`${this.url}/${s}`);T&&T!=="any"&&(N["x-region"]=T,A.searchParams.set("forceFunctionRegion",T));let B;b&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",B=b):typeof b=="string"?(N["Content-Type"]="text/plain",B=b):typeof FormData<"u"&&b instanceof FormData?B=b:(N["Content-Type"]="application/json",B=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?B=JSON.stringify(b):B=b;let V=x;E&&(h=new AbortController,f=setTimeout(()=>h.abort(),E),x?(V=h.signal,x.addEventListener("abort",()=>h.abort())):V=h.signal);const Y=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),g),body:B,signal:V}).catch(ee=>{throw new cb(ee)}),K=Y.headers.get("x-relay-error");if(K&&K==="true")throw new Dm(Y);if(!Y.ok)throw new Um(Y);let $=((c=Y.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),te;return $==="application/json"?te=yield Y.json():$==="application/octet-stream"||$==="application/pdf"?te=yield Y.blob():$==="text/event-stream"?te=Y:$==="multipart/form-data"?te=yield Y.formData():te=yield Y.text(),{data:te,error:null,response:Y}}catch(g){return{data:null,error:g,response:g instanceof Um||g instanceof Dm?g.context:void 0}}finally{f&&clearTimeout(f)}})}}var db=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},fb=class{constructor(i){var n,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let h=null,g=null,p=null,b=f.status,x=f.statusText;if(f.ok){var E,N;if(s.method!=="HEAD"){var T;const Y=await f.text();Y===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((T=s.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?g=Y:g=JSON.parse(Y))}const B=(E=s.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),V=(N=f.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");B&&V&&V.length>1&&(p=parseInt(V[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,b=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var A;const B=await f.text();try{h=JSON.parse(B),Array.isArray(h)&&f.status===404&&(g=[],h=null,b=200,x="OK")}catch{f.status===404&&B===""?(b=204,x="No Content"):h={message:B}}if(h&&s.isMaybeSingle&&(!(h==null||(A=h.details)===null||A===void 0)&&A.includes("0 rows"))&&(h=null,b=200,x="OK"),h&&s.shouldThrowOnError)throw new db(h)}return{error:h,data:g,count:p,status:b,statusText:x}});return this.shouldThrowOnError||(c=c.catch(f=>{var h;let g="";const p=f==null?void 0:f.cause;if(p){var b,x,E,N;const A=(b=p==null?void 0:p.message)!==null&&b!==void 0?b:"",B=(x=p==null?void 0:p.code)!==null&&x!==void 0?x:"";g=`${(E=f==null?void 0:f.name)!==null&&E!==void 0?E:"FetchError"}: ${f==null?void 0:f.message}`,g+=`

Caused by: ${(N=p==null?void 0:p.name)!==null&&N!==void 0?N:"Error"}: ${A}`,B&&(g+=` (${B})`),p!=null&&p.stack&&(g+=`
${p.stack}`)}else{var T;g=(T=f==null?void 0:f.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,n)}returns(){return this}overrideTypes(){return this}},hb=class extends fb{select(i){let n=!1;const s=(i??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:c=r}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:s,referencedTable:r=s}={}){const c=typeof r>"u"?"offset":`${r}.offset`,f=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:c=!1,format:f="text"}={}){var h;const g=[i?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${p}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const zm=new RegExp("[,()]");var ds=class extends hb{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&zm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}notIn(i,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&zm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${s})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:s,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const f=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${c}fts${f}.${n}`),this}match(i){return Object.entries(i).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(i,n,s){return this.url.searchParams.append(i,`not.${n}.${s}`),this}or(i,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,s){return this.url.searchParams.append(i,`${n}.${s}`),this}},mb=class{constructor(i,{headers:n={},schema:s,fetch:r}){this.url=i,this.headers=new Headers(n),this.schema=s,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:s=!1,count:r}=n??{},c=s?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(b=>/\s/.test(b)&&!f?"":(b==='"'&&(f=!f),b)).join(""),{url:g,headers:p}=this.cloneRequestState();return g.searchParams.set("select",h),r&&p.append("Prefer",`count=${r}`),new ds({method:c,url:g,headers:p,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:s=!0}={}){var r;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(n&&h.append("Prefer",`count=${n}`),s||h.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(g.length>0){const p=[...new Set(g)].map(b=>`"${b}"`);f.searchParams.set("columns",p.join(","))}}return new ds({method:c,url:f,headers:h,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:c=!0}={}){var f;const h="POST",{url:g,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),r&&p.append("Prefer",`count=${r}`),c||p.append("Prefer","missing=default"),Array.isArray(i)){const b=i.reduce((x,E)=>x.concat(Object.keys(E)),[]);if(b.length>0){const x=[...new Set(b)].map(E=>`"${E}"`);g.searchParams.set("columns",x.join(","))}}return new ds({method:h,url:g,headers:p,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:n}={}){var s;const r="PATCH",{url:c,headers:f}=this.cloneRequestState();return n&&f.append("Prefer",`count=${n}`),new ds({method:r,url:c,headers:f,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var n;const s="DELETE",{url:r,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new ds({method:s,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},gb=class S0{constructor(n,{headers:s={},schema:r,fetch:c}={}){this.url=n,this.headers=new Headers(s),this.schemaName=r,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new mb(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new S0(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,s={},{head:r=!1,get:c=!1,count:f}={}){var h;let g;const p=new URL(`${this.url}/rpc/${n}`);let b;const x=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(x)),E=r&&Object.values(s).some(x);E?(g="POST",b=s):r||c?(g=r?"HEAD":"GET",Object.entries(s).filter(([T,A])=>A!==void 0).map(([T,A])=>[T,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([T,A])=>{p.searchParams.append(T,A)})):(g="POST",b=s);const N=new Headers(this.headers);return E?N.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&N.set("Prefer",`count=${f}`),new ds({method:g,url:p,headers:N,schema:this.schemaName,body:b,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class pb{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const c=r.node,f=parseInt(c.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const r=this.getWebSocketConstructor();return new r(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const bb="2.93.3",vb=`realtime-js/${bb}`,yb="1.0.0",N0="2.0.0",Lm=N0,Cu=1e4,xb=1e3,wb=100;var qn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(qn||(qn={}));var vt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(vt||(vt={}));var Ta;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ta||(Ta={}));var Ru;(function(i){i.websocket="websocket"})(Ru||(Ru={}));var pi;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(pi||(pi={}));class _b{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,s,r){var c,f;const h=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",p=(f=n.join_ref)!==null&&f!==void 0?f:"",b=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},E=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+h.length+b.length+E.length,T=new ArrayBuffer(this.HEADER_LENGTH+N);let A=new DataView(T),B=0;A.setUint8(B++,this.KINDS.userBroadcastPush),A.setUint8(B++,p.length),A.setUint8(B++,g.length),A.setUint8(B++,h.length),A.setUint8(B++,b.length),A.setUint8(B++,E.length),A.setUint8(B++,s),Array.from(p,Y=>A.setUint8(B++,Y.charCodeAt(0))),Array.from(g,Y=>A.setUint8(B++,Y.charCodeAt(0))),Array.from(h,Y=>A.setUint8(B++,Y.charCodeAt(0))),Array.from(b,Y=>A.setUint8(B++,Y.charCodeAt(0))),Array.from(E,Y=>A.setUint8(B++,Y.charCodeAt(0)));var V=new Uint8Array(T.byteLength+r.byteLength);return V.set(new Uint8Array(T),0),V.set(new Uint8Array(r),T.byteLength),V.buffer}decode(n,s){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return s(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,f,h,g,p]=r;return s({join_ref:c,ref:f,topic:h,event:g,payload:p})}return s({})}_binaryDecode(n){const s=new DataView(n),r=s.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,c)}}_decodeUserBroadcast(n,s,r){const c=s.getUint8(1),f=s.getUint8(2),h=s.getUint8(3),g=s.getUint8(4);let p=this.HEADER_LENGTH+4;const b=r.decode(n.slice(p,p+c));p=p+c;const x=r.decode(n.slice(p,p+f));p=p+f;const E=r.decode(n.slice(p,p+h));p=p+h;const N=n.slice(p,n.byteLength),T=g===this.JSON_ENCODING?JSON.parse(r.decode(N)):N,A={type:this.BROADCAST_EVENT,event:x,payload:T};return h>0&&(A.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>s.includes(r)))}}let T0=class{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ye;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ye||(Ye={}));const Mm=(i,n,s={})=>{var r;const c=(r=s.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((f,h)=>(f[h]=Eb(h,i,n,c),f),{}):{}},Eb=(i,n,s,r)=>{const c=n.find(g=>g.name===i),f=c==null?void 0:c.type,h=s[i];return f&&!r.includes(f)?j0(f,h):Du(h)},j0=(i,n)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return jb(n,s)}switch(i){case Ye.bool:return Sb(n);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return Nb(n);case Ye.json:case Ye.jsonb:return Tb(n);case Ye.timestamp:return Ab(n);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return Du(n);default:return Du(n)}},Du=i=>i,Sb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Nb=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},Tb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},jb=(i,n)=>{if(typeof i!="string")return i;const s=i.length-1,r=i[s];if(i[0]==="{"&&r==="}"){let f;const h=i.slice(1,s);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(g=>j0(n,g))}return i},Ab=i=>typeof i=="string"?i.replace(" ","T"):i,A0=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Eu{constructor(n,s,r={},c=Cu){this.channel=n,this.event=s,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var r;return this._hasReceived(n)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Im;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Im||(Im={}));class vl{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:f,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vl.syncState(this.state,c,f,h),this.pendingDiffs.forEach(p=>{this.state=vl.syncDiff(this.state,p,f,h)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:f,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=vl.syncDiff(this.state,c,f,h),g())}),this.onJoin((c,f,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:h})}),this.onLeave((c,f,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,r,c){const f=this.cloneDeep(n),h=this.transformState(s),g={},p={};return this.map(f,(b,x)=>{h[b]||(p[b]=x)}),this.map(h,(b,x)=>{const E=f[b];if(E){const N=x.map(V=>V.presence_ref),T=E.map(V=>V.presence_ref),A=x.filter(V=>T.indexOf(V.presence_ref)<0),B=E.filter(V=>N.indexOf(V.presence_ref)<0);A.length>0&&(g[b]=A),B.length>0&&(p[b]=B)}else g[b]=x}),this.syncDiff(f,{joins:g,leaves:p},r,c)}static syncDiff(n,s,r,c){const{joins:f,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(f,(g,p)=>{var b;const x=(b=n[g])!==null&&b!==void 0?b:[];if(n[g]=this.cloneDeep(p),x.length>0){const E=n[g].map(T=>T.presence_ref),N=x.filter(T=>E.indexOf(T.presence_ref)<0);n[g].unshift(...N)}r(g,x,p)}),this.map(h,(g,p)=>{let b=n[g];if(!b)return;const x=p.map(E=>E.presence_ref);b=b.filter(E=>x.indexOf(E.presence_ref)<0),n[g]=b,c(g,b,p),b.length===0&&delete n[g]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(r=>s(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,r)=>{const c=n[r];return"metas"in c?s[r]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):s[r]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Bm||(Bm={}));var yl;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(yl||(yl={}));var rn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(rn||(rn={}));class ms{constructor(n,s={config:{}},r){var c,f;if(this.topic=n,this.params=s,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Eu(this,Ta.join,this.params,this.timeout),this.rejoinTimer=new T0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ta.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new vl(this),this.broadcastEndpointURL=A0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var r,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:h,presence:g,private:p}}=this.params,b=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(T=>T.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[yl.PRESENCE]&&this.bindings[yl.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,E={},N={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:x}),postgres_changes:b,private:p};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(T=>n==null?void 0:n(rn.CHANNEL_ERROR,T)),this._onClose(()=>n==null?void 0:n(rn.CLOSED)),this.updateJoinPayload(Object.assign({config:N},E)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:T})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){n==null||n(rn.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,V=(A=B==null?void 0:B.length)!==null&&A!==void 0?A:0,Y=[];for(let K=0;K<V;K++){const $=B[K],{filter:{event:te,schema:ee,table:P,filter:J}}=$,le=T&&T[K];if(le&&le.event===te&&ms.isFilterValueEqual(le.schema,ee)&&ms.isFilterValueEqual(le.table,P)&&ms.isFilterValueEqual(le.filter,J))Y.push(Object.assign(Object.assign({},$),{id:le.id}));else{this.unsubscribe(),this.state=vt.errored,n==null||n(rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,n&&n(rn.SUBSCRIBED);return}}).receive("error",T=>{this.state=vt.errored,n==null||n(rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,r){return this.state===vt.joined&&n===yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,r)}async httpSend(n,s,r={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const b=await g.json();p=b.error||b.message||p}catch{}return Promise.reject(new Error(p))}async send(n,s={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=b.body)===null||c===void 0?void 0:c.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,g,p;const b=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&f("ok"),b.receive("ok",()=>f("ok")),b.receive("error",()=>f("error")),b.receive("timeout",()=>f("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=vt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ta.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Eu(this,Ta.leave,{},n),r.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(n,s,r){const c=new AbortController,f=setTimeout(()=>c.abort(),r),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(f),h}_push(n,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Eu(this,n,s,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>wb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,r){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,r){var c,f;const h=n.toLocaleLowerCase(),{close:g,error:p,leave:b,join:x}=Ta;if(r&&[g,p,b,x].indexOf(h)>=0&&r!==this._joinRef())return;let N=this._onMessage(h,s,r);if(s&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var A,B,V;return((A=T.filter)===null||A===void 0?void 0:A.event)==="*"||((V=(B=T.filter)===null||B===void 0?void 0:B.event)===null||V===void 0?void 0:V.toLocaleLowerCase())===h}).map(T=>T.callback(N,r)):(f=this.bindings[h])===null||f===void 0||f.filter(T=>{var A,B,V,Y,K,$;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in T){const te=T.id,ee=(A=T.filter)===null||A===void 0?void 0:A.event;return te&&((B=s.ids)===null||B===void 0?void 0:B.includes(te))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((V=s.data)===null||V===void 0?void 0:V.type.toLocaleLowerCase()))}else{const te=(K=(Y=T==null?void 0:T.filter)===null||Y===void 0?void 0:Y.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return te==="*"||te===(($=s==null?void 0:s.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===h}).map(T=>{if(typeof N=="object"&&"ids"in N){const A=N.data,{schema:B,table:V,commit_timestamp:Y,type:K,errors:$}=A;N=Object.assign(Object.assign({},{schema:B,table:V,commit_timestamp:Y,eventType:K,new:{},old:{},errors:$}),this._getPayloadRecords(A))}T.callback(N,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,r){const c=n.toLocaleLowerCase(),f={type:c,filter:s,callback:r};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(n,s){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&ms.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(n[r]!==s[r])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ta.close,{},n)}_onError(n){this._on(Ta.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Mm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Mm(n.columns,n.old_record)),s}}const Su=()=>{},Pr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ob=[1e3,2e3,5e3,1e4],kb=1e4,Cb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rb{constructor(n,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cu,this.transport=null,this.heartbeatIntervalMs=Pr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Su,this.ref=0,this.reconnectTimer=null,this.vsn=Lm,this.logger=Su,this.conn=null,this.sendBuffer=[],this.serializer=new _b,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Ru.websocket}`,this.httpEndpoint=A0(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,r){this.logger(n,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return pi.Connecting;case qn.open:return pi.Open;case qn.closing:return pi.Closing;default:return pi.Closed}}isConnected(){return this.connectionState()===pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(f=>f.topic===r);if(c)return c;{const f=new ms(`realtime:${n}`,s,this);return this.channels.push(f),f}}push(n){const{topic:s,event:r,payload:c,ref:f}=n,h=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${s} ${r} (${f})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(xb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Pr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",b)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:f,ref:h}=s,g=h?`(${h})`:"",p=f.status||"";this.log("receive",`${p} ${r} ${c} ${g}`.trim(),f),this.channels.filter(b=>b._isMember(r)).forEach(b=>b._trigger(c,f,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===qn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qn.open||this.conn.readyState===qn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ta.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${r}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const r=new Blob([Cb],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,r=!1;if(n)s=n,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const f={access_token:s,version:vb};s&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(Ta.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new T0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,r,c,f,h,g,p,b,x,E,N,T;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:Cu,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Pr.HEARTBEAT_INTERVAL,this.worker=(f=n==null?void 0:n.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=n==null?void 0:n.heartbeatCallback)!==null&&g!==void 0?g:Su,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:Lm,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=n==null?void 0:n.reconnectAfterMs)!==null&&b!==void 0?b:(A=>Ob[A-1]||kb),this.vsn){case yb:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:((A,B)=>B(JSON.stringify(A))),this.decode=(E=n==null?void 0:n.decode)!==null&&E!==void 0?E:((A,B)=>B(JSON.parse(A)));break;case N0:this.encode=(N=n==null?void 0:n.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(T=n==null?void 0:n.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var wl=class extends Error{constructor(i,n){var s;super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Db(i,n,s){const r=new URL(n,i);if(s)for(const[c,f]of Object.entries(s))f!==void 0&&r.searchParams.set(c,f);return r.toString()}async function Ub(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function zb(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:c,body:f,headers:h}){const g=Db(i.baseUrl,r,c),p=await Ub(i.auth),b=await n(g,{method:s,headers:{...f?{"Content-Type":"application/json"}:{},...p,...h},body:f?JSON.stringify(f):void 0}),x=await b.text(),E=(b.headers.get("content-type")||"").includes("application/json"),N=E&&x?JSON.parse(x):x;if(!b.ok){const T=E?N:void 0,A=T==null?void 0:T.error;throw new wl((A==null?void 0:A.message)??`Request failed with status ${b.status}`,{status:b.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:T})}return{status:b.status,headers:b.headers,data:N}}}}function Fr(i){return i.join("")}var Lb=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:Fr(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,n){const s={namespace:i.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fr(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fr(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fr(i.namespace)}`}),!0}catch(n){if(n instanceof wl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(s){if(s instanceof wl&&s.status===409)return;throw s}}};function is(i){return i.join("")}var Mb=class{constructor(i,n="",s){this.client=i,this.prefix=n,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${is(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${is(i.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(i,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${is(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${is(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${is(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${is(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(s){if(s instanceof wl&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(s){if(s instanceof wl&&s.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw s}}},Ib=class{constructor(i){var r;let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=zb({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Lb(this.client,n),this.tableOps=new Mb(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},co=class extends Error{constructor(i,n="storage",s,r){super(i),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function uo(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Wr=class extends co{constructor(i,n,s,r="storage"){super(i,r,n,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},O0=class extends co{constructor(i,n,s="storage"){super(i,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Bb=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),qb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Uu=i=>{if(Array.isArray(i))return i.map(s=>Uu(s));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([s,r])=>{const c=s.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));n[c]=Uu(r)}),n},Hb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function _l(i){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_l(i)}function $b(i,n){if(_l(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,n);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Gb(i){var n=$b(i,"string");return _l(n)=="symbol"?n:n+""}function Vb(i,n,s){return(n=Gb(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function qm(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,r)}return s}function ge(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?qm(Object(s),!0).forEach(function(r){Vb(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):qm(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const Hm=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Yb=async(i,n,s,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(s!=null&&s.noResolveJson)){const c=i,f=c.status||500;if(typeof c.json=="function")c.json().then(h=>{const g=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||f+"";n(new Wr(Hm(h),f,g,r))}).catch(()=>{if(r==="vectors"){const h=f+"";n(new Wr(c.statusText||`HTTP ${f} error`,f,h,r))}else{const h=f+"";n(new Wr(c.statusText||`HTTP ${f} error`,f,h,r))}});else{const h=f+"";n(new Wr(c.statusText||`HTTP ${f} error`,f,h,r))}}else n(new O0(Hm(i),i,r))},Kb=(i,n,s,r)=>{const c={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||i==="HEAD"||!r?ge(ge({},c),s):(qb(r)?(c.headers=ge({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(r)):c.body=r,n!=null&&n.duplex&&(c.duplex=n.duplex),ge(ge({},c),s))};async function pl(i,n,s,r,c,f,h){return new Promise((g,p)=>{i(s,Kb(n,r,c,f)).then(b=>{if(!b.ok)throw b;if(r!=null&&r.noResolveJson)return b;if(h==="vectors"){const x=b.headers.get("content-type");if(b.headers.get("content-length")==="0"||b.status===204)return{};if(!x||!x.includes("application/json"))return{}}return b.json()}).then(b=>g(b)).catch(b=>Yb(b,p,r,h))})}function k0(i="storage"){return{get:async(n,s,r,c)=>pl(n,"GET",s,r,c,void 0,i),post:async(n,s,r,c,f)=>pl(n,"POST",s,c,f,r,i),put:async(n,s,r,c,f)=>pl(n,"PUT",s,c,f,r,i),head:async(n,s,r,c)=>pl(n,"HEAD",s,ge(ge({},r),{},{noResolveJson:!0}),c,void 0,i),remove:async(n,s,r,c,f)=>pl(n,"DELETE",s,c,f,r,i)}}const Qb=k0("storage"),{get:El,post:Na,put:zu,head:Xb,remove:Vu}=Qb,na=k0("vectors");var ps=class{constructor(i,n={},s,r="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.fetch=Bb(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var n=this;try{return{data:await i(),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(uo(s))return{data:null,error:s};throw s}}},Jb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(uo(n))return{data:null,error:n};throw n}}};let C0;C0=Symbol.toStringTag;var Zb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[C0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jb(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(uo(n))return{data:null,error:n};throw n}}};const Pb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$m={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Fb=class extends ps{constructor(i,n={},s,r){super(i,n,r,"storage"),this.bucketId=s}async uploadOrUpdate(i,n,s,r){var c=this;return c.handleOperation(async()=>{let f;const h=ge(ge({},$m),r);let g=ge(ge({},c.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),p&&f.append("metadata",c.encodeMetadata(p)),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),p&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(p))):(f=s,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,p&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),r!=null&&r.headers&&(g=ge(ge({},g),r.headers));const b=c._removeEmptyFolders(n),x=c._getFinalPath(b),E=await(i=="PUT"?zu:Na)(c.fetch,`${c.url}/object/${x}`,f,ge({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:b,id:E.Id,fullPath:E.Key}})}async upload(i,n,s){return this.uploadOrUpdate("POST",i,n,s)}async uploadToSignedUrl(i,n,s,r){var c=this;const f=c._removeEmptyFolders(i),h=c._getFinalPath(f),g=new URL(c.url+`/object/upload/sign/${h}`);return g.searchParams.set("token",n),c.handleOperation(async()=>{let p;const b=ge({upsert:$m.upsert},r),x=ge(ge({},c.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",b.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",b.cacheControl)):(p=s,x["cache-control"]=`max-age=${b.cacheControl}`,x["content-type"]=b.contentType),{path:f,fullPath:(await zu(c.fetch,g.toString(),p,{headers:x})).Key}})}async createSignedUploadUrl(i,n){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(i);const c=ge({},s.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const f=await Na(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:c}),h=new URL(s.url+f.url),g=h.searchParams.get("token");if(!g)throw new co("No token returned by API");return{signedUrl:h.toString(),path:i,token:g}})}async update(i,n,s){return this.uploadOrUpdate("PUT",i,n,s)}async move(i,n,s){var r=this;return r.handleOperation(async()=>await Na(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(i,n,s){var r=this;return r.handleOperation(async()=>({path:(await Na(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(i,n,s){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(i),f=await Na(r.fetch,`${r.url}/object/sign/${c}`,ge({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${f.signedURL}${h}`)}})}async createSignedUrls(i,n,s){var r=this;return r.handleOperation(async()=>{const c=await Na(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c.map(h=>ge(ge({},h),{},{signedUrl:h.signedURL?encodeURI(`${r.url}${h.signedURL}${f}`):null}))})}download(i,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=r?`?${r}`:"",f=this._getFinalPath(i),h=()=>El(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new Zb(h,this.shouldThrowOnError)}async info(i){var n=this;const s=n._getFinalPath(i);return n.handleOperation(async()=>Uu(await El(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})))}async exists(i){var n=this;const s=n._getFinalPath(i);try{return await Xb(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(uo(r)&&r instanceof O0){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,n){const s=this._getFinalPath(i),r=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&r.push(h);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${g}`)}}}async remove(i){var n=this;return n.handleOperation(async()=>await Vu(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}))}async list(i,n,s){var r=this;return r.handleOperation(async()=>{const c=ge(ge(ge({},Pb),n),{},{prefix:i||""});return await Na(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},s)})}async listV2(i,n){var s=this;return s.handleOperation(async()=>{const r=ge({},i);return await Na(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},n)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const Wb="2.93.3",Ol={"X-Client-Info":`storage-js/${Wb}`};var ev=class extends ps{constructor(i,n={},s,r){const c=new URL(i);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const f=c.href.replace(/\/$/,""),h=ge(ge({},Ol),n);super(f,h,s,"storage")}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const s=n.listBucketOptionsToQueryString(i);return await El(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers})})}async getBucket(i){var n=this;return n.handleOperation(async()=>await El(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}))}async createBucket(i,n={public:!1}){var s=this;return s.handleOperation(async()=>await Na(s.fetch,`${s.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async updateBucket(i,n){var s=this;return s.handleOperation(async()=>await zu(s.fetch,`${s.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(i){var n=this;return n.handleOperation(async()=>await Na(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Vu(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},tv=class extends ps{constructor(i,n={},s){const r=i.replace(/\/$/,""),c=ge(ge({},Ol),n);super(r,c,s,"storage")}async createBucket(i){var n=this;return n.handleOperation(async()=>await Na(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}))}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const s=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&s.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&s.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&s.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&s.set("sortOrder",i.sortOrder),i!=null&&i.search&&s.set("search",i.search);const r=s.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await El(n.fetch,c,{headers:n.headers})})}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Vu(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}from(i){var n=this;if(!Hb(i))throw new co("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Ib({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(c,f){const h=c[f];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(c,g),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}},av=class extends ps{constructor(i,n={},s){const r=i.replace(/\/$/,""),c=ge(ge({},Ol),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async createIndex(i){var n=this;return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{})}async getIndex(i,n){var s=this;return s.handleOperation(async()=>await na.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:s.headers}))}async listIndexes(i){var n=this;return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}))}async deleteIndex(i,n){var s=this;return s.handleOperation(async()=>await na.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:s.headers})||{})}},nv=class extends ps{constructor(i,n={},s){const r=i.replace(/\/$/,""),c=ge(ge({},Ol),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async putVectors(i){var n=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{})}async getVectors(i){var n=this;return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}))}async listVectors(i){var n=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}))}async queryVectors(i){var n=this;return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}))}async deleteVectors(i){var n=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{})}},iv=class extends ps{constructor(i,n={},s){const r=i.replace(/\/$/,""),c=ge(ge({},Ol),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async createBucket(i){var n=this;return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}async getBucket(i){var n=this;return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}))}async listBuckets(i={}){var n=this;return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await na.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}},sv=class extends iv{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new lv(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,s=this;return n().call(s,i)}async getBucket(i){var n=()=>super.getBucket,s=this;return n().call(s,i)}async listBuckets(i={}){var n=()=>super.listBuckets,s=this;return n().call(s,i)}async deleteBucket(i){var n=()=>super.deleteBucket,s=this;return n().call(s,i)}},lv=class extends av{constructor(i,n,s,r){super(i,n,r),this.vectorBucketName=s}async createIndex(i){var n=()=>super.createIndex,s=this;return n().call(s,ge(ge({},i),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,s=this;return n().call(s,ge(ge({},i),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,i)}index(i){return new rv(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},rv=class extends nv{constructor(i,n,s,r,c){super(i,n,c),this.vectorBucketName=s,this.indexName=r}async putVectors(i){var n=()=>super.putVectors,s=this;return n().call(s,ge(ge({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(i){var n=()=>super.getVectors,s=this;return n().call(s,ge(ge({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,s=this;return n().call(s,ge(ge({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,s=this;return n().call(s,ge(ge({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,s=this;return n().call(s,ge(ge({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},ov=class extends ev{constructor(i,n={},s,r){super(i,n,s,r)}from(i){return new Fb(this.url,this.headers,i,this.fetch)}get vectors(){return new sv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tv(this.url+"/iceberg",this.headers,this.fetch)}};const R0="2.93.3",fs=30*1e3,Lu=3,Nu=Lu*fs,cv="http://localhost:9999",uv="supabase.auth.token",dv={"X-Client-Info":`gotrue-js/${R0}`},Mu="X-Supabase-Api-Version",D0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hv=600*1e3;class Sl extends Error{constructor(n,s,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function re(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class mv extends Sl{constructor(n,s,r){super(n,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function gv(i){return re(i)&&i.name==="AuthApiError"}class bi extends Sl{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class on extends Sl{constructor(n,s,r,c){super(n,r,c),this.name=s,this.status=r}}class aa extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tu(i){return re(i)&&i.name==="AuthSessionMissingError"}class ss extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eo extends on{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class to extends on{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pv(i){return re(i)&&i.name==="AuthImplicitGrantRedirectError"}class Gm extends on{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bv extends on{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Iu extends on{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function ju(i){return re(i)&&i.name==="AuthRetryableFetchError"}class Vm extends on{constructor(n,s,r){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Bu extends on{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ym=` 	
\r=`.split(""),vv=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Ym.length;n+=1)i[Ym[n].charCodeAt(0)]=-2;for(let n=0;n<io.length;n+=1)i[io[n].charCodeAt(0)]=n;return i})();function Km(i,n,s){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(io[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(io[r]),n.queuedBits-=6}}function U0(i,n,s){const r=vv[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Qm(i){const n=[],s=h=>{n.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=h=>{wv(h,r,s)};for(let h=0;h<i.length;h+=1)U0(i.charCodeAt(h),c,f);return n.join("")}function yv(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function xv(i,n){for(let s=0;s<i.length;s+=1){let r=i.charCodeAt(s);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(i.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}yv(r,n)}}function wv(i,n,s){if(n.utf8seq===0){if(i<=127){s(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function gs(i){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)U0(i.charCodeAt(c),s,r);return new Uint8Array(n)}function _v(i){const n=[];return xv(i,s=>n.push(s)),new Uint8Array(n)}function vi(i){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};return i.forEach(c=>Km(c,s,r)),Km(null,s,r),n.join("")}function Ev(i){return Math.round(Date.now()/1e3)+i}function Sv(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",fi={tested:!1,writable:!1},z0=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fi.tested)return fi.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),fi.tested=!0,fi.writable=!0}catch{fi.tested=!0,fi.writable=!1}return fi.writable};function Nv(i){const n={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,f)=>{n[f]=c})}catch{}return s.searchParams.forEach((r,c)=>{n[c]=r}),n}const L0=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Tv=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",hs=async(i,n,s)=>{await i.setItem(n,JSON.stringify(s))},hi=async(i,n)=>{const s=await i.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},At=async(i,n)=>{await i.removeItem(n)};class fo{constructor(){this.promise=new fo.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}fo.promiseConstructor=Promise;function ao(i){const n=i.split(".");if(n.length!==3)throw new Bu("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!fv.test(n[r]))throw new Bu("JWT not in base64url format");return{header:JSON.parse(Qm(n[0])),payload:JSON.parse(Qm(n[1])),signature:gs(n[2]),raw:{header:n[0],payload:n[1]}}}async function jv(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Av(i,n){return new Promise((r,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await i(f);if(!n(f,null,h)){r(h);return}}catch(h){if(!n(f,h)){c(h);return}}})()})}function Ov(i){return("0"+i.toString(16)).substr(-2)}function kv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let c="";for(let f=0;f<56;f++)c+=s.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,Ov).join("")}async function Cv(i){const s=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(r);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function Rv(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await Cv(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(i,n,s=!1){const r=kv();let c=r;s&&(c+="/PASSWORD_RECOVERY"),await hs(i,`${n}-code-verifier`,c);const f=await Rv(r);return[f,r===f?"plain":"s256"]}const Dv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uv(i){const n=i.headers.get(Mu);if(!n||!n.match(Dv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function zv(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Lv(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(i){if(!Mv.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Au(){const i={};return new Proxy(i,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Iv(i,n){return new Proxy(i,{get:(s,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const f=r.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,r,c)}})}function Xm(i){return JSON.parse(JSON.stringify(i))}const mi=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Bv=[502,503,504];async function Jm(i){var n;if(!Tv(i))throw new Iu(mi(i),0);if(Bv.includes(i.status))throw new Iu(mi(i),i.status);let s;try{s=await i.json()}catch(f){throw new bi(mi(f),f)}let r;const c=Uv(i);if(c&&c.getTime()>=D0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Vm(mi(s),i.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new aa}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new Vm(mi(s),i.status,s.weak_password.reasons);throw new mv(mi(s),i.status||500,r)}const qv=(i,n,s,r)=>{const c={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),s))};async function fe(i,n,s,r){var c;const f=Object.assign({},r==null?void 0:r.headers);f[Mu]||(f[Mu]=D0["2024-01-01"].name),r!=null&&r.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const h=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await Hv(i,n,s+g,{headers:f,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function Hv(i,n,s,r,c,f){const h=qv(n,r,c,f);let g;try{g=await i(s,Object.assign({},h))}catch(p){throw console.error(p),new Iu(mi(p),0)}if(g.ok||await Jm(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(p){await Jm(p)}}function Sa(i){var n;let s=null;Vv(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=Ev(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:s,user:r},error:null}}function Zm(i){const n=Sa(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function $n(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function $v(i){return{data:i,error:null}}function Gv(i){const{action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:f}=i,h=oo(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:f},p=Object.assign({},h);return{data:{properties:g,user:p},error:null}}function Pm(i){return i}function Vv(i){return i.access_token&&i.refresh_token&&i.expires_in}const Ou=["global","local","others"];class Yv{constructor({url:n="",headers:s={},fetch:r}){this.url=n,this.headers=s,this.fetch=L0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Ou[0]){if(Ou.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ou.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,s={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:$n})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:s}=n,r=oo(n,["options"]),c=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Gv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:$n})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,r,c,f,h,g,p;try{const b={nextPage:null,lastPage:0,total:0},x=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Pm});if(x.error)throw x.error;const E=await x.json(),N=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(p=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(A=>{const B=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),V=JSON.parse(A.split(";")[1].split("=")[1]);b[`${V}Page`]=B}),b.total=parseInt(N)),{data:Object.assign(Object.assign({},E),b),error:null}}catch(b){if(re(b))return{data:{users:[]},error:b};throw b}}async getUserById(n){rs(n);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:$n})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){rs(n);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:$n})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,s=!1){rs(n);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:$n})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){rs(n.userId);try{const{data:s,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:r}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(n){rs(n.userId),rs(n.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,r,c,f,h,g,p;try{const b={nextPage:null,lastPage:0,total:0},x=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Pm});if(x.error)throw x.error;const E=await x.json(),N=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(p=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(A=>{const B=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),V=JSON.parse(A.split(";")[1].split("=")[1]);b[`${V}Page`]=B}),b.total=parseInt(N)),{data:Object.assign(Object.assign({},E),b),error:null}}catch(b){if(re(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(n){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}}function Fm(i={}){return{getItem:n=>i[n]||null,setItem:(n,s)=>{i[n]=s},removeItem:n=>{delete i[n]}}}const os={debug:!!(globalThis&&z0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class M0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Kv extends M0{}async function Qv(i,n,s){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await s()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(n===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Kv(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(os.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Xv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function I0(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Jv(i){return parseInt(i,16)}function Zv(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function Pv(i){var n;const{chainId:s,domain:r,expirationTime:c,issuedAt:f=new Date,nonce:h,notBefore:g,requestId:p,resources:b,scheme:x,uri:E,version:N}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const T=I0(i.address),A=x?`${x}://${r}`:r,B=i.statement?`${i.statement}
`:"",V=`${A} wants you to sign in with your Ethereum account:
${T}

${B}`;let Y=`URI: ${E}
Version: ${N}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(c&&(Y+=`
Expiration Time: ${c.toISOString()}`),g&&(Y+=`
Not Before: ${g.toISOString()}`),p&&(Y+=`
Request ID: ${p}`),b){let K=`
Resources:`;for(const $ of b){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);K+=`
- ${$}`}Y+=K}return`${V}
${Y}`}class mt extends Error{constructor({message:n,code:s,cause:r,name:c}){var f;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(f=c??(r instanceof Error?r.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=s}}class so extends mt{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function Fv({error:i,options:n}){var s,r,c;const{publicKey:f}=n;if(!f)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=f.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=f.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new mt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return f.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(B0(h)){if(f.rp.id!==h)return new mt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Wv({error:i,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new mt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(B0(r)){if(s.rpId!==r)return new mt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class ey{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const ty=new ey;function ay(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:s,excludeCredentials:r}=i,c=oo(i,["challenge","user","excludeCredentials"]),f=gs(n).buffer,h=Object.assign(Object.assign({},s),{id:gs(s.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:f,user:h});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const b=r[p];g.excludeCredentials[p]=Object.assign(Object.assign({},b),{id:gs(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return g}function ny(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:s}=i,r=oo(i,["challenge","allowCredentials"]),c=gs(n).buffer,f=Object.assign(Object.assign({},r),{challenge:c});if(s&&s.length>0){f.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const g=s[h];f.allowCredentials[h]=Object.assign(Object.assign({},g),{id:gs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function iy(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:vi(new Uint8Array(i.response.attestationObject)),clientDataJSON:vi(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function sy(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,r=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:vi(new Uint8Array(c.authenticatorData)),clientDataJSON:vi(new Uint8Array(c.clientDataJSON)),signature:vi(new Uint8Array(c.signature)),userHandle:c.userHandle?vi(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function B0(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Wm(){var i,n;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function ly(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new so("Browser returned unexpected credential type",n)}:{data:null,error:new so("Empty credential response",n)}}catch(n){return{data:null,error:Fv({error:n,options:i})}}}async function ry(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new so("Browser returned unexpected credential type",n)}:{data:null,error:new so("Empty credential response",n)}}catch(n){return{data:null,error:Wv({error:n,options:i})}}}const oy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lo(...i){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of i)if(c)for(const f in c){const h=c[f];if(h!==void 0)if(Array.isArray(h))r[f]=h;else if(s(h))r[f]=h;else if(n(h)){const g=r[f];n(g)?r[f]=lo(g,h):r[f]=lo(h)}else r[f]=h}return r}function uy(i,n){return lo(oy,i,n||{})}function dy(i,n){return lo(cy,i,n||{})}class fy{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:r,signal:c},f){var h;try{const{data:g,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!g)return{data:null,error:p};const b=c??ty.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:x}=g.webauthn.credential_options.publicKey;if(!x.name){const E=r;if(E)x.name=`${x.id}:${E}`;else{const T=(await this.client.getUser()).data.user,A=((h=T==null?void 0:T.user_metadata)===null||h===void 0?void 0:h.name)||(T==null?void 0:T.email)||(T==null?void 0:T.id)||"User";x.name=`${x.id}:${A}`}}x.displayName||(x.displayName=x.name)}switch(g.webauthn.type){case"create":{const x=uy(g.webauthn.credential_options.publicKey,f==null?void 0:f.create),{data:E,error:N}=await ly({publicKey:x,signal:b});return E?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:E}},error:null}:{data:null,error:N}}case"request":{const x=dy(g.webauthn.credential_options.publicKey,f==null?void 0:f.request),{data:E,error:N}=await ry(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:x,signal:b}));return E?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:E}},error:null}:{data:null,error:N}}}}catch(g){return re(g)?{data:null,error:g}:{data:null,error:new bi("Unexpected error in challenge",g)}}}async _verify({challengeId:n,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!s)return{data:null,error:new Sl("rpId is required for WebAuthn authentication")};try{if(!Wm())return{data:null,error:new bi("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:r},signal:c},{request:f});if(!h)return{data:null,error:g};const{webauthn:p}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:r,credential_response:p.credential_response}})}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new bi("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!s)return{data:null,error:new Sl("rpId is required for WebAuthn registration")};try{if(!Wm())return{data:null,error:new bi("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(x=>{var E;return(E=x.data)===null||E===void 0?void 0:E.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===n&&N.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:g};const{data:p,error:b}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:c},{create:f});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:b}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new bi("Unexpected error in register",h)}}}}Xv();const hy={url:cv,storageKey:uv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function e0(i,n,s){return await s()}const cs={};class Nl{get jwks(){var n,s;return(s=(n=cs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=cs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{cachedAt:n})}constructor(n){var s,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},hy),n);if(this.storageKey=f.storageKey,this.instanceID=(s=Nl.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Nl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&Ot()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new Yv({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=L0(f.fetch),this.lock=f.lock||e0,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&Ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Qv:this.lock=e0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:z0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fm(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Fm(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${R0}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},r="none";if(Ot()&&(s=Nv(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Ot()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:f}=await this._getSessionFromURL(s,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),pv(f)){const p=(n=f.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?this._returnResult({error:s}):this._returnResult({error:new bi("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,r,c;try{const f=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:Sa}),{data:h,error:g}=f;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const p=h.session,b=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(f){if(re(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(n){var s,r,c;try{let f;if("email"in n){const{email:x,password:E,options:N}=n;let T=null,A=null;this.flowType==="pkce"&&([T,A]=await ls(this.storage,this.storageKey)),f=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:x,password:E,data:(s=N==null?void 0:N.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:T,code_challenge_method:A},xform:Sa})}else if("phone"in n){const{phone:x,password:E,options:N}=n;f=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:E,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},channel:(c=N==null?void 0:N.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:Sa})}else throw new eo("You must provide either an email or phone number and a password");const{data:h,error:g}=f;if(g||!h)return await At(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=h.session,b=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(f){if(await At(this.storage,`${this.storageKey}-code-verifier`),re(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(n){try{let s;if("email"in n){const{email:f,password:h,options:g}=n;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Zm})}else if("phone"in n){const{phone:f,password:h,options:g}=n;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Zm})}else throw new eo("You must provide either an email or phone number and a password");const{data:r,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const f=new ss;return this._returnResult({data:{user:null,session:null},error:f})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,r,c,f;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=n.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,r,c,f,h,g,p,b,x,E,N;let T,A;if("message"in n)T=n.message,A=n.signature;else{const{chain:B,wallet:V,statement:Y,options:K}=n;let $;if(Ot())if(typeof V=="object")$=V;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")$=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(K!=null&&K.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=V}const te=new URL((s=K==null?void 0:K.url)!==null&&s!==void 0?s:window.location.href),ee=await $.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=I0(ee[0]);let J=(r=K==null?void 0:K.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!J){const ne=await $.request({method:"eth_chainId"});J=Jv(ne)}const le={domain:te.host,address:P,statement:Y,uri:te.href,version:"1",chainId:J,nonce:(c=K==null?void 0:K.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(f=K==null?void 0:K.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=K==null?void 0:K.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=K==null?void 0:K.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(b=K==null?void 0:K.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(x=K==null?void 0:K.signInWithEthereum)===null||x===void 0?void 0:x.resources};T=Pv(le),A=await $.request({method:"personal_sign",params:[Zv(T),P]})}try{const{data:B,error:V}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:A},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Sa});if(V)throw V;if(!B||!B.session||!B.user){const Y=new ss;return this._returnResult({data:{user:null,session:null},error:Y})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:V})}catch(B){if(re(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async signInWithSolana(n){var s,r,c,f,h,g,p,b,x,E,N,T;let A,B;if("message"in n)A=n.message,B=n.signature;else{const{chain:V,wallet:Y,statement:K,options:$}=n;let te;if(Ot())if(typeof Y=="object")te=Y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))te=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=Y}const ee=new URL((s=$==null?void 0:$.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in te&&te.signIn){const P=await te.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$==null?void 0:$.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),K?{statement:K}:null));let J;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")J=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)J=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)A=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),B=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in te)||typeof te.signMessage!="function"||!("publicKey"in te)||typeof te!="object"||!te.publicKey||!("toBase58"in te.publicKey)||typeof te.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${ee.host} wants you to sign in with your Solana account:`,te.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(c=(r=$==null?void 0:$.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=$==null?void 0:$.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((h=$==null?void 0:$.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((g=$==null?void 0:$.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((p=$==null?void 0:$.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((b=$==null?void 0:$.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((E=(x=$==null?void 0:$.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||E===void 0)&&E.length?["Resources",...$.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const P=await te.signMessage(new TextEncoder().encode(A),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=P}}try{const{data:V,error:Y}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:vi(B)},!((N=n.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Sa});if(Y)throw Y;if(!V||!V.session||!V.user){const K=new ss;return this._returnResult({data:{user:null,session:null},error:K})}return V.session&&(await this._saveSession(V.session),await this._notifyAllSubscribers("SIGNED_IN",V.session)),this._returnResult({data:Object.assign({},V),error:Y})}catch(V){if(re(V))return this._returnResult({data:{user:null,session:null},error:V});throw V}}async _exchangeCodeForSession(n){const s=await hi(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new bv;const{data:f,error:h}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Sa});if(await At(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const g=new ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:h})}catch(f){if(await At(this.storage,`${this.storageKey}-code-verifier`),re(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(n){try{const{options:s,provider:r,token:c,access_token:f,nonce:h}=n,g=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Sa}),{data:p,error:b}=g;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!p||!p.session||!p.user){const x=new ss;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:b})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,r,c,f,h;try{if("email"in n){const{email:g,options:p}=n;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await ls(this.storage,this.storageKey));const{error:E}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:b,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in n){const{phone:g,options:p}=n,{data:b,error:x}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(f=p==null?void 0:p.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:x})}throw new eo("You must provide either an email or phone number.")}catch(g){if(await At(this.storage,`${this.storageKey}-code-verifier`),re(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var s,r;try{let c,f;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,f=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:g}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:Sa});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,b=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:b,session:p},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var s,r,c,f,h;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await ls(this.storage,this.storageKey));const b=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:$v});return!((f=b.data)===null||f===void 0)&&f.url&&Ot()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(g){if(await At(this.storage,`${this.storageKey}-code-verifier`),re(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)throw r;if(!s)throw new aa;const{error:c}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:f}=n,{error:h}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:r,type:c,options:f}=n,{data:h,error:g}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new eo("You must provide either an email or phone number and a type")}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Nu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const h=await hi(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Au()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=Iv(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:$n}):await this._useSession(async s=>{var r,c,f;const{data:h,error:g}=s;if(g)throw g;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:$n})})}catch(s){if(re(s))return Tu(s)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async r=>{const{data:c,error:f}=r;if(f)throw f;if(!c.session)throw new aa;const h=c.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await ls(this.storage,this.storageKey));const{data:b,error:x}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:h.access_token,xform:$n});if(x)throw x;return h.user=b.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(r){if(await At(this.storage,`${this.storageKey}-code-verifier`),re(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new aa;const s=Date.now()/1e3;let r=s,c=!0,f=null;const{payload:h}=ao(n.access_token);if(h.exp&&(r=h.exp,c=r<=s),c){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};f=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});f={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(s){if(re(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var r;if(!n){const{data:h,error:g}=s;if(g)throw g;n=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new aa;const{data:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!Ot())throw new to("No browser detected.");if(n.error||n.error_description||n.error_code)throw new to(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new to("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Gm("No code detected.");const{data:K,error:$}=await this._exchangeCodeForSession(n.code);if($)throw $;const te=new URL(window.location.href);return te.searchParams.delete("code"),window.history.replaceState(window.history.state,"",te.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:f,refresh_token:h,expires_in:g,expires_at:p,token_type:b}=n;if(!f||!g||!h||!b)throw new to("No session defined in URL");const x=Math.round(Date.now()/1e3),E=parseInt(g);let N=x+E;p&&(N=parseInt(p));const T=N-x;T*1e3<=fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${E}s`);const A=N-E;x-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,N,x):x-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,N,x);const{data:B,error:V}=await this._getUser(f);if(V)throw V;const Y={provider_token:r,provider_refresh_token:c,access_token:f,expires_in:E,expires_at:N,refresh_token:h,token_type:b,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:n.type},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await hi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:c,error:f}=s;if(f&&!Tu(f))return this._returnResult({error:f});const h=(r=c.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:g}=await this.admin.signOut(h,n);if(g&&!(gv(g)&&(g.status===404||g.status===401||g.status===403)||Tu(g)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=Sv(),r={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async s=>{var r,c;try{const{data:{session:f},error:h}=s;if(h)throw h;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",n,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",f),console.error(f)}})}async resetPasswordForEmail(n,s={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ls(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(f){if(await At(this.storage,`${this.storageKey}-code-verifier`),re(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var n;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:r,error:c}=await this._useSession(async f=>{var h,g,p,b,x;const{data:E,error:N}=f;if(N)throw N;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",T,{headers:this.headers,jwt:(x=(b=E.session)===null||b===void 0?void 0:b.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return Ot()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(re(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var r;try{const{error:c,data:{session:f}}=s;if(c)throw c;const{options:h,provider:g,token:p,access_token:b,nonce:x}=n,E=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=f==null?void 0:f.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:p,access_token:b,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Sa}),{data:N,error:T}=E;return T?this._returnResult({data:{user:null,session:null},error:T}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new ss}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:T}))}catch(c){if(await At(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var r,c;const{data:f,error:h}=s;if(h)throw h;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Av(async c=>(c>0&&await jv(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Sa})),(c,f)=>{const h=200*Math.pow(2,c);return f&&ju(f)&&Date.now()+h-r<fs})}catch(r){if(this._debug(s,"error",r),re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",r),Ot()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await hi(this.storage,this.storageKey);if(c&&this.userStorage){let h=await hi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await hs(this.userStorage,this.storageKey+"-user",h)),c.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Au()}else if(c&&!c.user&&!c.user){const h=await hi(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await At(this.storage,this.storageKey+"-user"),await hs(this.storage,this.storageKey,c)):c.user=Au()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const f=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Nu;if(this._debug(r,`session has${f?"":" not"} expired with margin of ${Nu}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),ju(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var s,r;if(!n)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new fo;const{data:f,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!f.session)throw new aa;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const g={data:f.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(f){if(this._debug(c,"error",f),re(f)){const h={data:null,error:f};return ju(f)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:s});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,s)}catch(p){f.push(p)}});if(await Promise.all(h),f.length>0){for(let g=0;g<f.length;g+=1)console.error(f[g]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await At(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await hs(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const f=Xm(c);await hs(this.storage,this.storageKey,f)}else{const c=Xm(s);await hs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),fs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${fs}ms, refresh threshold is ${Lu} ticks`),c<=Lu&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof M0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,r){const c=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,h]=await ls(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(r!=null&&r.queryParams){const f=new URLSearchParams(r.queryParams);c.push(f.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var r;const{data:c,error:f}=s;return f?this._returnResult({data:null,error:f}):await fe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var r,c;const{data:f,error:h}=s;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:b}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=f==null?void 0:f.session)===null||r===void 0?void 0:r.access_token});return b?this._returnResult({data:null,error:b}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?iy(n.webauthn.credential_response):sy(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const h=await fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:ay(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:ny(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var s,r,c,f;if(n)try{const{payload:T}=ao(n);let A=null;T.aal&&(A=T.aal);let B=A;const{data:{user:V},error:Y}=await this.getUser(n);if(Y)return this._returnResult({data:null,error:Y});((r=(s=V==null?void 0:V.factors)===null||s===void 0?void 0:s.filter(te=>te.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(B="aal2");const $=T.amr||[];return{data:{currentLevel:A,nextLevel:B,currentAuthenticationMethods:$},error:null}}catch(T){if(re(T))return this._returnResult({data:null,error:T});throw T}const{data:{session:h},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=ao(h.access_token);let b=null;p.aal&&(b=p.aal);let x=b;((f=(c=h.user.factors)===null||c===void 0?void 0:c.filter(T=>T.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(x="aal2");const N=p.amr||[];return{data:{currentLevel:b,nextLevel:x,currentAuthenticationMethods:N},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new aa})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new aa});const h=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&Ot()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new aa});const h=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&Ot()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new aa})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new aa})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let r=s.keys.find(g=>g.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===n),r&&this.jwks_cached_at+hv>c)return r;const{data:f,error:h}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,r=f.keys.find(g=>g.kid===n),!r)?null:r}async getClaims(n,s={}){try{let r=n;if(!r){const{data:T,error:A}=await this.getSession();if(A||!T.session)return this._returnResult({data:null,error:A});r=T.session.access_token}const{header:c,payload:f,signature:h,raw:{header:g,payload:p}}=ao(r);s!=null&&s.allowExpired||zv(f.exp);const b=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!b){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:f,header:c,signature:h},error:null}}const x=Lv(c.alg),E=await crypto.subtle.importKey("jwk",b,x,!0,["verify"]);if(!await crypto.subtle.verify(x,E,h,_v(`${g}.${p}`)))throw new Bu("Invalid JWT signature");return{data:{claims:f,header:c,signature:h},error:null}}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}}Nl.nextInstanceID={};const my=Nl,gy="2.93.3";let bl="";typeof Deno<"u"?bl="deno":typeof document<"u"?bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bl="react-native":bl="node";const py={"X-Client-Info":`supabase-js-${bl}/${gy}`},by={headers:py},vy={schema:"public"},yy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xy={};function Tl(i){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tl(i)}function wy(i,n){if(Tl(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,n);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function _y(i){var n=wy(i,"string");return Tl(n)=="symbol"?n:n+""}function Ey(i,n,s){return(n=_y(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function t0(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,r)}return s}function st(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?t0(Object(s),!0).forEach(function(r){Ey(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):t0(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const Sy=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Ny=()=>Headers,Ty=(i,n,s)=>{const r=Sy(s),c=Ny();return async(f,h)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:i;let b=new c(h==null?void 0:h.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${p}`),r(f,st(st({},h),{},{headers:b}))}};function jy(i){return i.endsWith("/")?i:i+"/"}function Ay(i,n){var s,r;const{db:c,auth:f,realtime:h,global:g}=i,{db:p,auth:b,realtime:x,global:E}=n,N={db:st(st({},p),c),auth:st(st({},b),f),realtime:st(st({},x),h),storage:{},global:st(st(st({},E),g),{},{headers:st(st({},(s=E==null?void 0:E.headers)!==null&&s!==void 0?s:{}),(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?N.accessToken=i.accessToken:delete N.accessToken,N}function Oy(i){const n=i==null?void 0:i.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jy(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ky=class extends my{constructor(i){super(i)}},Cy=class{constructor(i,n,s){var r,c;this.supabaseUrl=i,this.supabaseKey=n;const f=Oy(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:vy,realtime:xy,auth:st(st({},yy),{},{storageKey:h}),global:by},p=Ay(s??{},g);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=p.auth)!==null&&b!==void 0?b:{},this.headers,p.global.fetch)}this.fetch=Ty(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new gb(new URL("rest/v1",f).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new ov(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new ub(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,s)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,s;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(n=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,storageKey:f,flowType:h,lock:g,debug:p,throwOnError:b},x,E){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ky({url:this.authUrl.href,headers:st(st({},N),x),storageKey:f,autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,flowType:h,lock:g,debug:p,throwOnError:b,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Rb(this.realtimeUrl.href,st(st({},i),{},{params:st(st({},{apikey:this.supabaseKey}),i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(i,n,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ry=(i,n,s)=>new Cy(i,n,s);function Dy(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const s=n.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Dy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ro={URL:"https://mevpmrswkravkqngflvi.supabase.co",ANON_KEY:"sb_publishable_PET-e9e6MiKhFCfNByedJw_TCpTSpzI"},Uy="modulepreload",zy=function(i){return"/tools/evaluate/"+i},a0={},Ly=function(n,s,r){let c=Promise.resolve();if(s&&s.length>0){let h=function(b){return Promise.all(b.map(x=>Promise.resolve(x).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),p=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=h(s.map(b=>{if(b=zy(b),b in a0)return;a0[b]=!0;const x=b.endsWith(".css"),E=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${E}`))return;const N=document.createElement("link");if(N.rel=x?"stylesheet":Uy,x||(N.as="script"),N.crossOrigin="",N.href=b,p&&N.setAttribute("nonce",p),document.head.appendChild(N),x)return new Promise((T,A)=>{N.addEventListener("load",T),N.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${b}`)))})}))}function f(h){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h}return c.then(h=>{for(const g of h||[])g.status==="rejected"&&f(g.reason);return n().catch(f)})};var n0;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(n0||(n0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i0;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(i0||(i0={}));var s0;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(s0||(s0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=["user","model","function","system"];var r0;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(r0||(r0={}));var o0;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(o0||(o0={}));var c0;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(c0||(c0={}));var u0;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(u0||(u0={}));var xl;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(xl||(xl={}));var d0;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(d0||(d0={}));var f0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(f0||(f0={}));var h0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(h0||(h0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class us extends Rt{constructor(n,s){super(n),this.response=s}}class q0 extends Rt{constructor(n,s,r,c){super(n),this.status=s,this.statusText=r,this.errorDetails=c}}class Gn extends Rt{}class H0 extends Rt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="https://generativelanguage.googleapis.com",Iy="v1beta",By="0.24.1",qy="genai-js";var yi;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})(yi||(yi={}));class Hy{constructor(n,s,r,c,f){this.model=n,this.task=s,this.apiKey=r,this.stream=c,this.requestOptions=f}toString(){var n,s;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||Iy;let f=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||My}/${r}/${this.model}:${this.task}`;return this.stream&&(f+="?alt=sse"),f}}function $y(i){const n=[];return i!=null&&i.apiClient&&n.push(i.apiClient),n.push(`${qy}/${By}`),n.join(" ")}async function Gy(i){var n;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",$y(i.requestOptions)),s.append("x-goog-api-key",i.apiKey);let r=(n=i.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(c){throw new Gn(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${c.message}`)}for(const[c,f]of r.entries()){if(c==="x-goog-api-key")throw new Gn(`Cannot set reserved header name ${c}`);if(c==="x-goog-api-client")throw new Gn(`Header name ${c} can only be set using the apiClient field`);s.append(c,f)}}return s}async function Vy(i,n,s,r,c,f){const h=new Hy(i,n,s,r,f);return{url:h.toString(),fetchOptions:Object.assign(Object.assign({},Xy(f)),{method:"POST",headers:await Gy(h),body:c})}}async function kl(i,n,s,r,c,f={},h=fetch){const{url:g,fetchOptions:p}=await Vy(i,n,s,r,c,f);return Yy(g,p,h)}async function Yy(i,n,s=fetch){let r;try{r=await s(i,n)}catch(c){Ky(c,i)}return r.ok||await Qy(r,i),r}function Ky(i,n){let s=i;throw s.name==="AbortError"?(s=new H0(`Request aborted when fetching ${n.toString()}: ${i.message}`),s.stack=i.stack):i instanceof q0||i instanceof Gn||(s=new Rt(`Error fetching from ${n.toString()}: ${i.message}`),s.stack=i.stack),s}async function Qy(i,n){let s="",r;try{const c=await i.json();s=c.error.message,c.error.details&&(s+=` ${JSON.stringify(c.error.details)}`,r=c.error.details)}catch{}throw new q0(`Error fetching from ${n.toString()}: [${i.status} ${i.statusText}] ${s}`,i.status,i.statusText,r)}function Xy(i){const n={};if((i==null?void 0:i.signal)!==void 0||(i==null?void 0:i.timeout)>=0){const s=new AbortController;(i==null?void 0:i.timeout)>=0&&setTimeout(()=>s.abort(),i.timeout),i!=null&&i.signal&&i.signal.addEventListener("abort",()=>{s.abort()}),n.signal=s.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),no(i.candidates[0]))throw new us(`${Hn(i)}`,i);return Jy(i)}else if(i.promptFeedback)throw new us(`Text not available. ${Hn(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),no(i.candidates[0]))throw new us(`${Hn(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),m0(i)[0]}else if(i.promptFeedback)throw new us(`Function call not available. ${Hn(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),no(i.candidates[0]))throw new us(`${Hn(i)}`,i);return m0(i)}else if(i.promptFeedback)throw new us(`Function call not available. ${Hn(i)}`,i)},i}function Jy(i){var n,s,r,c;const f=[];if(!((s=(n=i.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0)&&s.parts)for(const h of(c=(r=i.candidates)===null||r===void 0?void 0:r[0].content)===null||c===void 0?void 0:c.parts)h.text&&f.push(h.text),h.executableCode&&f.push("\n```"+h.executableCode.language+`
`+h.executableCode.code+"\n```\n"),h.codeExecutionResult&&f.push("\n```\n"+h.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}function m0(i){var n,s,r,c;const f=[];if(!((s=(n=i.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0)&&s.parts)for(const h of(c=(r=i.candidates)===null||r===void 0?void 0:r[0].content)===null||c===void 0?void 0:c.parts)h.functionCall&&f.push(h.functionCall);if(f.length>0)return f}const Zy=[xl.RECITATION,xl.SAFETY,xl.LANGUAGE];function no(i){return!!i.finishReason&&Zy.includes(i.finishReason)}function Hn(i){var n,s,r;let c="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)c+="Response was blocked",!((n=i.promptFeedback)===null||n===void 0)&&n.blockReason&&(c+=` due to ${i.promptFeedback.blockReason}`),!((s=i.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(c+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((r=i.candidates)===null||r===void 0)&&r[0]){const f=i.candidates[0];no(f)&&(c+=`Candidate was blocked due to ${f.finishReason}`,f.finishMessage&&(c+=`: ${f.finishMessage}`))}return c}function jl(i){return this instanceof jl?(this.v=i,this):new jl(i)}function Py(i,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(i,n||[]),c,f=[];return c={},h("next"),h("throw"),h("return"),c[Symbol.asyncIterator]=function(){return this},c;function h(N){r[N]&&(c[N]=function(T){return new Promise(function(A,B){f.push([N,T,A,B])>1||g(N,T)})})}function g(N,T){try{p(r[N](T))}catch(A){E(f[0][3],A)}}function p(N){N.value instanceof jl?Promise.resolve(N.value.v).then(b,x):E(f[0][2],N)}function b(N){g("next",N)}function x(N){g("throw",N)}function E(N,T){N(T),f.shift(),f.length&&g(f[0][0],f[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Fy(i){const n=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=tx(n),[r,c]=s.tee();return{stream:ex(r),response:Wy(c)}}async function Wy(i){const n=[],s=i.getReader();for(;;){const{done:r,value:c}=await s.read();if(r)return Yu(ax(n));n.push(c)}}function ex(i){return Py(this,arguments,function*(){const s=i.getReader();for(;;){const{value:r,done:c}=yield jl(s.read());if(c)break;yield yield jl(Yu(r))}})}function tx(i){const n=i.getReader();return new ReadableStream({start(r){let c="";return f();function f(){return n.read().then(({value:h,done:g})=>{if(g){if(c.trim()){r.error(new Rt("Failed to parse stream"));return}r.close();return}c+=h;let p=c.match(g0),b;for(;p;){try{b=JSON.parse(p[1])}catch{r.error(new Rt(`Error parsing JSON response: "${p[1]}"`));return}r.enqueue(b),c=c.substring(p[0].length),p=c.match(g0)}return f()}).catch(h=>{let g=h;throw g.stack=h.stack,g.name==="AbortError"?g=new H0("Request aborted when reading from the stream"):g=new Rt("Error reading from the stream"),g})}}})}function ax(i){const n=i[i.length-1],s={promptFeedback:n==null?void 0:n.promptFeedback};for(const r of i){if(r.candidates){let c=0;for(const f of r.candidates)if(s.candidates||(s.candidates=[]),s.candidates[c]||(s.candidates[c]={index:c}),s.candidates[c].citationMetadata=f.citationMetadata,s.candidates[c].groundingMetadata=f.groundingMetadata,s.candidates[c].finishReason=f.finishReason,s.candidates[c].finishMessage=f.finishMessage,s.candidates[c].safetyRatings=f.safetyRatings,f.content&&f.content.parts){s.candidates[c].content||(s.candidates[c].content={role:f.content.role||"user",parts:[]});const h={};for(const g of f.content.parts)g.text&&(h.text=g.text),g.functionCall&&(h.functionCall=g.functionCall),g.executableCode&&(h.executableCode=g.executableCode),g.codeExecutionResult&&(h.codeExecutionResult=g.codeExecutionResult),Object.keys(h).length===0&&(h.text=""),s.candidates[c].content.parts.push(h)}c++}r.usageMetadata&&(s.usageMetadata=r.usageMetadata)}return s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(i,n,s,r){const c=await kl(n,yi.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(s),r);return Fy(c)}async function G0(i,n,s,r){const f=await(await kl(n,yi.GENERATE_CONTENT,i,!1,JSON.stringify(s),r)).json();return{response:Yu(f)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function Al(i){let n=[];if(typeof i=="string")n=[{text:i}];else for(const s of i)typeof s=="string"?n.push({text:s}):n.push(s);return nx(n)}function nx(i){const n={role:"user",parts:[]},s={role:"function",parts:[]};let r=!1,c=!1;for(const f of i)"functionResponse"in f?(s.parts.push(f),c=!0):(n.parts.push(f),r=!0);if(r&&c)throw new Rt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!c)throw new Rt("No content is provided for sending chat message.");return r?n:s}function ix(i,n){var s;let r={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(s=n==null?void 0:n.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const c=i.generateContentRequest!=null;if(i.contents){if(c)throw new Gn("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=i.contents}else if(c)r=Object.assign(Object.assign({},r),i.generateContentRequest);else{const f=Al(i);r.contents=[f]}return{generateContentRequest:r}}function p0(i){let n;return i.contents?n=i:n={contents:[Al(i)]},i.systemInstruction&&(n.systemInstruction=V0(i.systemInstruction)),n}function sx(i){return typeof i=="string"||Array.isArray(i)?{content:Al(i)}:i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],lx={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function rx(i){let n=!1;for(const s of i){const{role:r,parts:c}=s;if(!n&&r!=="user")throw new Rt(`First content should be with role 'user', got ${r}`);if(!l0.includes(r))throw new Rt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(l0)}`);if(!Array.isArray(c))throw new Rt("Content should have 'parts' property with an array of Parts");if(c.length===0)throw new Rt("Each Content should have at least one part");const f={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const g of c)for(const p of b0)p in g&&(f[p]+=1);const h=lx[r];for(const g of b0)if(!h.includes(g)&&f[g]>0)throw new Rt(`Content with role '${r}' can't contain '${g}' part`);n=!0}}function v0(i){var n;if(i.candidates===void 0||i.candidates.length===0)return!1;const s=(n=i.candidates[0])===null||n===void 0?void 0:n.content;if(s===void 0||s.parts===void 0||s.parts.length===0)return!1;for(const r of s.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="SILENT_ERROR";class ox{constructor(n,s,r,c={}){this.model=s,this.params=r,this._requestOptions=c,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r!=null&&r.history&&(rx(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,s={}){var r,c,f,h,g,p;await this._sendPromise;const b=Al(n),x={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(c=this.params)===null||c===void 0?void 0:c.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,b]},E=Object.assign(Object.assign({},this._requestOptions),s);let N;return this._sendPromise=this._sendPromise.then(()=>G0(this._apiKey,this.model,x,E)).then(T=>{var A;if(v0(T.response)){this._history.push(b);const B=Object.assign({parts:[],role:"model"},(A=T.response.candidates)===null||A===void 0?void 0:A[0].content);this._history.push(B)}else{const B=Hn(T.response);B&&console.warn(`sendMessage() was unsuccessful. ${B}. Inspect response object for details.`)}N=T}).catch(T=>{throw this._sendPromise=Promise.resolve(),T}),await this._sendPromise,N}async sendMessageStream(n,s={}){var r,c,f,h,g,p;await this._sendPromise;const b=Al(n),x={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(c=this.params)===null||c===void 0?void 0:c.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,b]},E=Object.assign(Object.assign({},this._requestOptions),s),N=$0(this._apiKey,this.model,x,E);return this._sendPromise=this._sendPromise.then(()=>N).catch(T=>{throw new Error(y0)}).then(T=>T.response).then(T=>{if(v0(T)){this._history.push(b);const A=Object.assign({},T.candidates[0].content);A.role||(A.role="model"),this._history.push(A)}else{const A=Hn(T);A&&console.warn(`sendMessageStream() was unsuccessful. ${A}. Inspect response object for details.`)}}).catch(T=>{T.message!==y0&&console.error(T)}),N}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(i,n,s,r){return(await kl(n,yi.COUNT_TOKENS,i,!1,JSON.stringify(s),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(i,n,s,r){return(await kl(n,yi.EMBED_CONTENT,i,!1,JSON.stringify(s),r)).json()}async function dx(i,n,s,r){const c=s.requests.map(h=>Object.assign(Object.assign({},h),{model:n}));return(await kl(n,yi.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:c}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(n,s,r={}){this.apiKey=n,this._requestOptions=r,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=V0(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(n,s={}){var r;const c=p0(n),f=Object.assign(Object.assign({},this._requestOptions),s);return G0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},c),f)}async generateContentStream(n,s={}){var r;const c=p0(n),f=Object.assign(Object.assign({},this._requestOptions),s);return $0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},c),f)}startChat(n){var s;return new ox(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},n),this._requestOptions)}async countTokens(n,s={}){const r=ix(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),c=Object.assign(Object.assign({},this._requestOptions),s);return cx(this.apiKey,this.model,r,c)}async embedContent(n,s={}){const r=sx(n),c=Object.assign(Object.assign({},this._requestOptions),s);return ux(this.apiKey,this.model,r,c)}async batchEmbedContents(n,s={}){const r=Object.assign(Object.assign({},this._requestOptions),s);return dx(this.apiKey,this.model,n,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(n){this.apiKey=n}getGenerativeModel(n,s){if(!n.model)throw new Rt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new x0(this.apiKey,n,s)}getGenerativeModelFromCachedContent(n,s,r){if(!n.name)throw new Gn("Cached content must contain a `name` field.");if(!n.model)throw new Gn("Cached content must contain a `model` field.");const c=["model","systemInstruction"];for(const h of c)if(s!=null&&s[h]&&n[h]&&(s==null?void 0:s[h])!==n[h]){if(h==="model"){const g=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,p=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(g===p)continue}throw new Gn(`Different value for "${h}" specified in modelParams (${s[h]}) and cachedContent (${n[h]})`)}const f=Object.assign(Object.assign({},s),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new x0(this.apiKey,f,r)}}const qu={async generateText(i,n,s){var h,g,p;const{provider:r,model:c,apiKey:f}=n;if(!f)throw new Error(`API Key for ${r} is missing. Please configure it in Settings.`);if(s)try{const{apiService:b}=await Ly(async()=>{const{apiService:E}=await Promise.resolve().then(()=>hx);return{apiService:E}},void 0);if(!await b.checkAiUsageLimit(s))throw new Error("AI requests consumed for the day for this organization.");b.incrementAiUsage(s).catch(E=>console.error("AI Usage Tracking failed:",E))}catch(b){throw b}try{switch(r){case"gemini":return(await(await new fx(f).getGenerativeModel({model:c}).generateContent(i)).response).text();case"openai":{const x=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({model:c,messages:[{role:"user",content:i}]})})).json();if(x.error)throw new Error(x.error.message);return((g=(h=x.choices[0])==null?void 0:h.message)==null?void 0:g.content)||""}case"claude":{const x=await(await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":f,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:c,max_tokens:4096,messages:[{role:"user",content:i}]})})).json();if(x.error)throw new Error(x.error.message);return((p=x.content[0])==null?void 0:p.text)||""}default:throw new Error(`Unsupported provider: ${r}`)}}catch(b){throw console.error(`AI Generation failed (${r}):`,b),new Error(b.message||`${r} generation failed`)}},async generateJSON(i,n,s){try{const r=`${i}

IMPORTANT: Return ONLY raw JSON code. No markdown formatting like \`\`\`json.`;let f=(await this.generateText(r,n,s)).trim();if(f.includes("```")){const h=f.match(/```(?:json)?\s*([\s\S]*?)\s*```/);f=h?h[1].trim():f.replace(/```json/g,"").replace(/```/g,"").trim()}return JSON.parse(f)}catch(r){console.error("AI JSON Generation failed",r);try{const c=(r.message||"").match(/{[\s\S]*}/);if(c)return JSON.parse(c[0])}catch{}throw new Error(r.message||"AI JSON generation failed")}}};console.log("%c Evaluate.ai API Service v2.2 Loaded ","background: #002b49; color: #d4af37; padding: 4px; border-radius: 4px; font-weight: bold");let gi=null;const xe=()=>{if(gi)return gi;if(typeof window<"u"&&window._supabaseInstance)return gi=window._supabaseInstance,gi;const i=ro.URL,n=ro.ANON_KEY;try{const s=Ry(i,n,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});return gi=s,typeof window<"u"&&(window._supabaseInstance=s),gi}catch(s){return console.error("Failed to initialize Supabase client",s),null}return null},he={setSupabaseConfig(i,n){localStorage.setItem("supabase_url",i),localStorage.setItem("supabase_key",n),gi=null},getConfig(){return{url:ro.URL,key:ro.ANON_KEY}},async signIn(i,n){var h;const s=xe();if(!s)throw new Error("Database not connected");const{data:r,error:c}=await s.auth.signInWithPassword({email:i,password:n});if(c)throw c;const f=await this.getUserProfile(i);return this.logAuditEvent({eventType:"login",userEmail:i,userId:(h=r.user)==null?void 0:h.id,organizationId:f==null?void 0:f.organizationId}).catch(g=>console.error("Audit log failed:",g)),r},async signOut(){var n,s;const i=xe();if(i){const r=await this.getSession(),c=(n=r==null?void 0:r.user)==null?void 0:n.email,f=c?await this.getUserProfile(c):null;await i.auth.signOut(),c&&this.logAuditEvent({eventType:"logout",userEmail:c,userId:(s=r==null?void 0:r.user)==null?void 0:s.id,organizationId:f==null?void 0:f.organizationId}).catch(h=>console.error("Audit log failed:",h))}},async getSession(){const i=xe();if(!i)return null;const{data:{session:n}}=await i.auth.getSession();return n},async getUserProfile(i){const n=xe();if(!n)return null;const{data:s,error:r}=await n.from("users").select("*").eq("email",i).single();if(r||!s)return null;const{data:c}=await n.from("organizations").select("id").eq("admin_email",i.toLowerCase()).maybeSingle();return{id:s.id,email:s.email,fullName:s.full_name,role:s.role,createdAt:s.created_at,organizationId:(c==null?void 0:c.id)||s.organization_id}},async getSections(i){const n=xe();if(!n)return[];try{let s=n.from("sections").select("*").order("name");i&&(s=s.eq("organization_id",i));const{data:r,error:c}=await s;if(c)throw c;return(r||[]).map(f=>({name:f.name,isActive:f.is_active,createdAt:f.created_at,organizationId:f.organization_id}))}catch(s){return console.error("Failed to fetch sections",s),[]}},async saveSection(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("sections").upsert({name:i.name,is_active:i.isActive,organization_id:i.organizationId||"55147170-54ed-4fdd-840b-66f81cbc1883"},{onConflict:"name,organization_id"});if(s)throw s;return!0}catch(s){return console.error("Failed to save section",s),!1}},async getSettings(i){const n=xe();if(!n)return null;try{let s=n.from("settings").select("*");i&&(s=s.eq("organization_id",i));const{data:r,error:c}=await s;if(c)throw c;const f={};return r.forEach(h=>{f[h.key]=h.value}),r.length===0?{organizationId:i,overallTimeLimitMins:20,questionTimeLimitSecs:60,totalQuestions:20,questionsPerSection:{"SQL Basics":5,IQ:5,Behavioural:5,"Analytical Ability":5}}:{organizationId:i,overallTimeLimitMins:Number(f.overall_time??20),questionTimeLimitSecs:Number(f.per_question_time??60),totalQuestions:Number(f.total_questions??20),questionsPerSection:f.section_config??{"SQL Basics":5,IQ:5,Behavioural:5,"Analytical Ability":5},aiSettings:f.genai_config??{provider:"gemini",model:"gemini-2.0-flash",apiKey:""}}}catch(s){return console.error("Failed to fetch settings",s),null}},async getOrganizations(){const i=xe();if(!i)return[];try{const{data:n,error:s}=await i.from("organizations").select("*").order("name");if(s)throw s;return(n||[]).map(r=>({id:r.id,name:r.name,adminName:r.admin_name,adminEmail:r.admin_email,aiLimit:r.ai_limit||0,createdBy:r.created_by,createdAt:r.created_at}))}catch(n){return console.error("Failed to fetch organizations",n),[]}},async validateOrganization(i){const n=xe();if(!n)return null;try{const s=i.trim().toLowerCase(),{data:r,error:c}=await n.from("organizations").select("id").eq("name",s).single();return c||!r?null:r.id}catch{return null}},async addOrganization(i,n,s,r=0,c="system"){const f=xe();if(!f)return!1;try{const h=i.trim().toLowerCase(),{error:g}=await f.from("organizations").insert([{name:h,admin_name:n,admin_email:s,ai_limit:r,created_by:c}]);if(g)throw g;return!0}catch(h){return console.error("Failed to add organization",h),!1}},async updateOrganization(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("organizations").update({admin_name:i.adminName,admin_email:i.adminEmail,ai_limit:i.aiLimit}).eq("id",i.id);if(s)throw s;return!0}catch(s){return console.error("Failed to update organization",s),!1}},async deleteOrganization(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("organizations").delete().eq("id",i);return!s}catch(s){return console.error("Failed to delete organization",s),!1}},async updateSettings(i){var s;const n=xe();if(!n)return!1;try{const r=i.organizationId||"55147170-54ed-4fdd-840b-66f81cbc1883",c=[{key:"overall_time",value:i.overallTimeLimitMins,organization_id:r},{key:"per_question_time",value:i.questionTimeLimitSecs,organization_id:r},{key:"total_questions",value:i.totalQuestions,organization_id:r},{key:"section_config",value:i.questionsPerSection,organization_id:r},{key:"genai_config",value:i.aiSettings,organization_id:r}],{error:f}=await n.from("settings").upsert(c,{onConflict:"key,organization_id"});if(!f){const h=await this.getSession();this.logAuditEvent({eventType:"update",entityType:"settings",userEmail:(s=h==null?void 0:h.user)==null?void 0:s.email,organizationId:r,actionDetails:{overallTime:i.overallTimeLimitMins,perQuestionTime:i.questionTimeLimitSecs,totalQuestions:i.totalQuestions}}).catch(g=>console.error("Audit log failed:",g))}if(f)throw f;return!0}catch(r){return console.error("Failed to update settings:",JSON.stringify(r,null,2)),!1}},async incrementAiUsage(i){var s;const n=xe();if(!n)return!1;try{const r=new Date().toISOString().split("T")[0],{error:c}=await n.rpc("increment_ai_usage",{org_id:i,usage_date_val:r});if(c){if(c.code==="P0001"||(s=c.message)!=null&&s.includes("does not exist"))return console.warn("AI Usage tracking RPC not found. Please run the SQL migration."),!1;throw c}return!0}catch(r){return console.error("Failed to increment AI usage:",r),!1}},async checkAiUsageLimit(i){const n=xe();if(!n)return!0;try{const s=new Date().toISOString().split("T")[0],{data:r}=await n.from("organizations").select("ai_limit").eq("id",i).maybeSingle(),{data:c}=await n.from("ai_usage").select("requests_made").eq("organization_id",i).eq("usage_date",s).maybeSingle(),f=(r==null?void 0:r.ai_limit)||0;return((c==null?void 0:c.requests_made)||0)<f}catch(s){return console.error("Failed to check AI usage limit:",s),!0}},async getUsers(i){const n=xe();if(!n)return[];try{let s=n.from("users").select("*").order("created_at",{ascending:!1});i&&(s=s.eq("organization_id",i));const{data:r,error:c}=await s;if(c)throw c;return(r||[]).map(f=>({id:f.id,organizationId:f.organization_id,email:f.email,fullName:f.full_name,role:f.role,createdAt:f.created_at}))}catch(s){return console.error("Failed to fetch users",s),[]}},async addUser(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("users").insert([{email:i.email,full_name:i.fullName,role:i.role,organization_id:i.organizationId||"55147170-54ed-4fdd-840b-66f81cbc1883"}]);if(s)throw s;return!0}catch(s){return console.error("Failed to add user",s),!1}},async updateUser(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("users").update({email:i.email,full_name:i.fullName,role:i.role}).eq("id",i.id);if(s)throw s;return!0}catch(s){return console.error("Failed to update user",s),!1}},async deleteUser(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("users").delete().eq("id",i);return!s}catch(s){return console.error("Failed to delete user",s),!1}},async checkInfrastructure(){const i=xe();if(!i)return{connected:!1,tables:{}};const n=["questions","results","evaluations","settings","sections","organizations","users"],s={};for(const r of n)try{const{error:c}=await i.from(r).select("*",{count:"exact",head:!0}).limit(1);s[r]=!(c&&c.code==="42P01")}catch{s[r]=!1}return{connected:!0,tables:s}},async checkResultExists(i){const n=xe();if(!n)return!1;try{const{data:s}=await n.from("results").select("id").eq("candidate_id",i).limit(1);return!!s&&s.length>0}catch{return!1}},async getQuestions(i=!0,n=1,s=10,r="",c="",f){const h=xe();if(!h)return{data:[],count:0};try{let g=h.from("questions").select("*",{count:"exact"});i&&(g=g.eq("is_active",!0)),r&&(g=g.eq("category",r)),c&&(g=g.ilike("text",`%${c}%`)),f&&(g=g.eq("organization_id",f));const p=(n-1)*s,b=p+s-1,{data:x,error:E,count:N}=await g.order("created_at",{ascending:!1}).range(p,b);if(E)throw E;return{data:(x||[]).map(A=>({id:A.id,category:A.category,difficulty:A.difficulty,text:A.text,options:A.options,correctOption:A.correct_option,isActive:A.is_active,organizationId:A.organization_id})),count:N||0}}catch(g){return console.error("Supabase fetch questions error:",g),{data:[],count:0}}},async saveQuestion(i){var s;const n=xe();if(!n)return!1;try{const{data:r}=await n.from("questions").select("id").eq("id",i.id).maybeSingle(),c=!!r,{error:f}=await n.from("questions").upsert({id:i.id,category:i.category,difficulty:i.difficulty,text:i.text,options:i.options,correct_option:i.correctOption,is_active:i.isActive,organization_id:i.organizationId||"55147170-54ed-4fdd-840b-66f81cbc1883"},{onConflict:"id"});if(!f){const h=await this.getSession();this.logAuditEvent({eventType:c?"update":"create",entityType:"question",entityId:i.id,userEmail:(s=h==null?void 0:h.user)==null?void 0:s.email,organizationId:i.organizationId,actionDetails:{category:i.category,difficulty:i.difficulty,isActive:i.isActive}}).catch(g=>console.error("Audit log failed:",g))}if(f)throw f;return!0}catch(r){return console.error("Supabase save question error:",r),!1}},async deleteQuestion(i){var s;const n=xe();if(!n)return!1;try{const{error:r}=await n.from("questions").delete().eq("id",i);if(!r){const c=await this.getSession();this.logAuditEvent({eventType:"delete",entityType:"question",entityId:i,userEmail:(s=c==null?void 0:c.user)==null?void 0:s.email}).catch(f=>console.error("Audit log failed:",f))}return!r}catch{return!1}},async submitResult(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("results").insert([{id:i.attemptId,started_at:i.startedAt,submitted_at:i.submittedAt,total_time_taken_sec:i.totalTimeTakenSec,total_questions:i.totalQuestions,attempted_count:i.attemptedCount,missed_count:i.missedCount,correct_count:i.correctCount,wrong_count:i.wrongCount,avg_time_per_answered_sec:i.avgTimePerAnsweredSec,score_percent:i.scorePercent,answers_json:JSON.parse(i.answersJson),organization_id:i.organizationId||"55147170-54ed-4fdd-840b-66f81cbc1883",candidate_id:i.candidateId,is_deleted:0}]);return s||this.logAuditEvent({eventType:"exam_submit",entityType:"result",entityId:i.attemptId,userEmail:i.candidateEmail,organizationId:i.organizationId,actionDetails:{candidateName:i.candidateName,score:i.scorePercent,totalQuestions:i.totalQuestions}}).catch(r=>console.error("Audit log failed:",r)),!s}catch{return!1}},async deleteResult(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("results").delete().eq("id",i);return!s}catch{return!1}},async getCandidates(i){const n=xe();if(!n)return[];try{let s=n.from("candidates").select("*").order("created_at",{ascending:!1});i&&(s=s.eq("organization_id",i));const{data:r,error:c}=await s;if(c)throw c;return(r||[]).map(f=>({id:f.id,email:f.email,fullName:f.full_name,organizationId:f.organization_id,status:f.status,createdAt:f.created_at}))}catch(s){return console.error("Get candidates error:",s),[]}},async addCandidate(i){var r;const n=xe();if(!n)return!1;const{error:s}=await n.from("candidates").insert([{email:i.email,full_name:i.fullName,organization_id:i.organizationId||"55147170-54ed-4fdd-840b-66f81cbc1883",status:"Registered"}]);if(!s){const c=await this.getSession();this.logAuditEvent({eventType:"create",entityType:"candidate",entityId:i.email,userEmail:(r=c==null?void 0:c.user)==null?void 0:r.email,organizationId:i.organizationId,actionDetails:{candidateEmail:i.email,candidateName:i.fullName}}).catch(f=>console.error("Audit log failed:",f))}return s?(console.error("Add candidate error:",s),!1):!0},async updateCandidate(i,n){var f;const s=xe();if(!s)return!1;const{data:r}=await s.from("candidates").select("*").eq("id",i).single(),{error:c}=await s.from("candidates").update({email:n.email,full_name:n.fullName}).eq("id",i);if(!c){const h=await this.getSession();this.logAuditEvent({eventType:"update",entityType:"candidate",entityId:n.email,userEmail:(f=h==null?void 0:h.user)==null?void 0:f.email,organizationId:n.organizationId,actionDetails:{candidateId:i,from:{email:r==null?void 0:r.email,name:r==null?void 0:r.full_name},to:{email:n.email,name:n.fullName}}}).catch(g=>console.error("Audit log failed:",g))}return c?(console.error("Update candidate error:",c),!1):!0},async deleteCandidate(i){const n=xe();if(!n)return!1;const{error:s}=await n.from("candidates").delete().eq("id",i);return!s},async submitInterviewEvaluation(i){const n=xe();if(!n)return!1;try{const{error:s}=await n.from("evaluations").upsert([{id:i.id,interviewer_name:i.interviewerName,level:i.level,ratings:i.ratings,notes:i.notes,final_outcome:i.finalOutcome,final_comments:i.finalComments,submitted_at:i.submittedAt,organization_id:i.organizationId||"55147170-54ed-4fdd-840b-66f81cbc1883",candidate_id:i.candidateId,is_deleted:0}],{onConflict:"id"});return s||this.logAuditEvent({eventType:"eval_submit",entityType:"evaluation",entityId:i.id,userEmail:i.interviewerName,organizationId:i.organizationId,actionDetails:{candidateEmail:i.candidateEmail,level:i.level,outcome:i.finalOutcome}}).catch(r=>console.error("Audit log failed:",r)),!s}catch{return!1}},async verifyCandidateRegistration(i,n){const s=xe();if(!s)return null;try{const{data:r,error:c}=await s.from("candidates").select("id").eq("email",i).eq("organization_id",n).single();return c||!r?null:r.id}catch{return null}},async updateCandidateStatus(i,n,s){const r=xe();if(!r)return!1;try{const{error:c}=await r.from("candidates").update({status:s}).eq("email",i).eq("organization_id",n);return c||this.logAuditEvent({eventType:"update",entityType:"candidate",entityId:i,organizationId:n,actionDetails:{candidateEmail:i,newStatus:s}}).catch(f=>console.error("Audit log failed:",f)),!c}catch{return!1}},async getCandidateStatus(i,n){const s=xe();if(!s)return null;try{const{data:r,error:c}=await s.from("candidates").select("status").eq("email",i).eq("organization_id",n).single();return c||!r?null:r.status}catch{return null}},async resetCandidate(i){var s;const n=xe();if(!n)return!1;try{const{data:r}=await n.from("candidates").select("email, organization_id").eq("id",i).single(),{error:c}=await n.from("candidates").update({status:"Registered"}).eq("id",i);if(c)throw c;if(await n.from("results").update({is_deleted:1}).eq("candidate_id",i),await n.from("evaluations").update({is_deleted:1}).eq("candidate_id",i),r){const f=await this.getSession();this.logAuditEvent({eventType:"reset",entityType:"candidate",entityId:i,userEmail:(s=f==null?void 0:f.user)==null?void 0:s.email,organizationId:r.organization_id,actionDetails:{candidateEmail:r.email}}).catch(h=>console.error("Audit log failed:",h))}return!0}catch(r){return console.error("Reset candidate failed",r),!1}},async getAllResults(i){var r;const n=xe();if(!n)return[];const s=async c=>{let f=n.from("results").select("*, candidates!candidate_id(full_name, email)").order("submitted_at",{ascending:!1});return c&&(f=f.neq("is_deleted",1)),i&&(f=f.eq("organization_id",i)),await f};try{const{data:c,error:f}=await s(!0);if(f)throw f;return(c||[]).map(h=>{var g,p;return{attemptId:h.id,candidateName:((g=h.candidates)==null?void 0:g.full_name)||"Unknown",candidateEmail:((p=h.candidates)==null?void 0:p.email)||"Unknown",startedAt:h.started_at,submittedAt:h.submitted_at,totalTimeTakenSec:h.total_time_taken_sec,totalQuestions:h.total_questions,attemptedCount:h.attempted_count,missedCount:h.missed_count,correctCount:h.correct_count,wrongCount:h.wrong_count,avgTimePerAnsweredSec:h.avg_time_per_answered_sec,scorePercent:h.score_percent,answersJson:JSON.stringify(h.answers_json),organizationId:h.organization_id,candidateId:h.candidate_id}})}catch(c){if(c.code==="42703"||c.code==="400"||c.status===400||(r=c.message)!=null&&r.includes("is_deleted")){console.warn("Soft-delete column missing, fetching all results.");try{const{data:f}=await s(!1);return(f||[]).map(h=>{var g,p;return{attemptId:h.id,candidateName:((g=h.candidates)==null?void 0:g.full_name)||"Unknown",candidateEmail:((p=h.candidates)==null?void 0:p.email)||"Unknown",startedAt:h.started_at,submittedAt:h.submitted_at,totalTimeTakenSec:h.total_time_taken_sec,totalQuestions:h.total_questions,attemptedCount:h.attempted_count,missedCount:h.missed_count,correctCount:h.correct_count,wrongCount:h.wrong_count,avgTimePerAnsweredSec:h.avg_time_per_answered_sec,scorePercent:h.score_percent,answersJson:JSON.stringify(h.answers_json),organizationId:h.organization_id,candidateId:h.candidate_id}})}catch{return[]}}return[]}},async getAllEvaluations(i){var r;const n=xe();if(!n)return[];const s=async c=>{let f=n.from("evaluations").select("*, candidates!candidate_id(email, full_name)").order("submitted_at",{ascending:!1});return c&&(f=f.neq("is_deleted",1)),i&&(f=f.eq("organization_id",i)),await f};try{const{data:c,error:f}=await s(!0);if(f)throw f;return(c||[]).map(h=>{var g,p,b;return{id:h.id,candidateEmail:((g=h.candidates)==null?void 0:g.email)||"Unknown",candidateName:(p=h.candidates)==null?void 0:p.full_name,interviewerName:h.interviewer_name,level:h.level,ratings:h.ratings,notes:h.notes,finalOutcome:h.final_outcome,finalComments:h.final_comments,submittedAt:h.submitted_at,organizationId:h.organization_id,aiVerdict:(b=h.notes)!=null&&b._AI_VERDICT?JSON.parse(h.notes._AI_VERDICT):void 0}})}catch(c){if(c.code==="42703"||c.code==="400"||c.status===400||(r=c.message)!=null&&r.includes("is_deleted")){console.warn("Soft-delete column missing, fetching all evaluations.");try{const{data:f}=await s(!1);return(f||[]).map(h=>{var g,p,b;return{id:h.id,candidateEmail:((g=h.candidates)==null?void 0:g.email)||"Unknown",candidateName:(p=h.candidates)==null?void 0:p.full_name,interviewerName:h.interviewer_name,level:h.level,ratings:h.ratings,notes:h.notes,finalOutcome:h.final_outcome,finalComments:h.final_comments,submittedAt:h.submitted_at,organizationId:h.organization_id,aiVerdict:(b=h.notes)!=null&&b._AI_VERDICT?JSON.parse(h.notes._AI_VERDICT):void 0}})}catch{return[]}}return[]}},async getEvaluation(i,n){var r,c,f;const s=xe();if(!s)return null;try{const h=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(i);let g=s.from("evaluations").select("*, candidates!candidate_id(email, full_name)");if(h)g=g.eq("candidate_id",i);else return console.warn("getEvaluation called with non-UUID, likely email. Legacy lookup not supported without candidate_email column."),null;n&&(g=g.eq("organization_id",n));const{data:p,error:b}=await g.maybeSingle();return b||!p?null:{id:p.id,candidateEmail:((r=p.candidates)==null?void 0:r.email)||"Unknown",candidateName:(c=p.candidates)==null?void 0:c.full_name,interviewerName:p.interviewer_name||"",level:p.level,ratings:p.ratings,notes:p.notes,finalOutcome:p.final_outcome,finalComments:p.final_comments,submittedAt:p.submitted_at,organizationId:p.organization_id,aiVerdict:(f=p.notes)!=null&&f._AI_VERDICT?JSON.parse(p.notes._AI_VERDICT):void 0}}catch(h){return console.error("getEvaluation failed",h),null}},async generateProbeQuestions(i,n,s,r){try{const c=`
            You are an expert interviewer. Generate 3 specific, behavioral probe questions to assess a candidate for the leadership standard "${i}" at level "${n}".
            
            Context - Positive Indicators for this standard:
            ${s.map(p=>`- ${p}`).join(`
`)}

            Output EXACTLY 3 questions, one per line. Do not include numbering or prefixes like "1.".
          `,f=await this.getSettings(r),h=(f==null?void 0:f.aiSettings)||{provider:"gemini",model:"gemini-2.0-flash",apiKey:""};return(await qu.generateText(c,h,r)).split(`
`).filter(p=>p.trim().length>0).slice(0,3)}catch(c){return console.error("AI Generation failed",c),["Failed to generate questions. Please try again."]}},async generateVerdict(i,n,s,r){try{const c=`
        Act as a Hiring Manager. Evaluate this candidate:
        Name: ${i}
        Technical Score: ${n.toFixed(2)}%
        
        Leadership Evidence:
        ${Object.entries(s).map(([g,p])=>`- ${g}: ${p}`).join(`
`)}

        Provide a hiring verdict in valid JSON format ONLY:
        {
          "decision": "Hire" | "No Hire" | "Review",
          "confidence": <number 0-100>,
          "rationale": "<short concise justification>"
        }
      `,f=await this.getSettings(r),h=(f==null?void 0:f.aiSettings)||{provider:"gemini",model:"gemini-2.0-flash",apiKey:""};return await qu.generateJSON(c,h,r)}catch(c){return console.error("Verdict Generation failed",c),{decision:"Review",confidence:0,rationale:"AI failed to generate verdict."}}},async saveVerdict(i,n,s){const r=xe();if(!r)return!1;const c={...s||{},_AI_VERDICT:JSON.stringify(n)};try{const{error:f}=await r.from("evaluations").update({notes:c}).eq("id",i);return!f}catch(f){return console.error("Failed to save verdict",f),!1}},parseDeviceInfo(i){const n=i.toLowerCase(),s={};if(n.includes("chrome")&&!n.includes("edge")){s.browser="Chrome";const r=n.match(/chrome\/([\d.]+)/);r&&(s.browserVersion=r[1])}else if(n.includes("firefox")){s.browser="Firefox";const r=n.match(/firefox\/([\d.]+)/);r&&(s.browserVersion=r[1])}else if(n.includes("safari")&&!n.includes("chrome")){s.browser="Safari";const r=n.match(/version\/([\d.]+)/);r&&(s.browserVersion=r[1])}else if(n.includes("edge")){s.browser="Edge";const r=n.match(/edg\/([\d.]+)/);r&&(s.browserVersion=r[1])}else(n.includes("opera")||n.includes("opr"))&&(s.browser="Opera");if(n.includes("windows nt"))s.os="Windows",n.includes("windows nt 10.0")?s.osVersion="10/11":n.includes("windows nt 6.3")?s.osVersion="8.1":n.includes("windows nt 6.2")?s.osVersion="8":n.includes("windows nt 6.1")&&(s.osVersion="7");else if(n.includes("mac os x")){s.os="macOS";const r=n.match(/mac os x ([\d_]+)/);r&&(s.osVersion=r[1].replace(/_/g,"."))}else if(n.includes("linux"))s.os="Linux";else if(n.includes("android")){s.os="Android";const r=n.match(/android ([\d.]+)/);r&&(s.osVersion=r[1])}else if(n.includes("iphone")||n.includes("ipad")){s.os="iOS";const r=n.match(/os ([\d_]+)/);r&&(s.osVersion=r[1].replace(/_/g,"."))}return n.includes("mobile")||n.includes("android")||n.includes("iphone")?s.deviceType="mobile":n.includes("tablet")||n.includes("ipad")?s.deviceType="tablet":s.deviceType="desktop",s},async getClientIP(){try{return(await(await fetch("https://api.ipify.org?format=json",{signal:AbortSignal.timeout(2e3)})).json()).ip}catch{return}},async logAuditEvent(i){const n=xe();if(!n)return!1;try{const s=navigator.userAgent,r=this.parseDeviceInfo(s),c=await this.getClientIP(),f={event_type:i.eventType,entity_type:i.entityType,entity_id:i.entityId,action_details:i.actionDetails?JSON.stringify(i.actionDetails):void 0,user_email:i.userEmail,user_id:i.userId,organization_id:i.organizationId,ip_address:c,user_agent:s,device_info:JSON.stringify(r),is_deleted:0},{error:h}=await n.from("audit_logs").insert([f]);return h?(console.error("Failed to log audit event:",h),!1):!0}catch(s){return console.error("Audit logging error:",s),!1}},async getAuditLogs(i){const n=xe();if(!n)return[];try{let s=n.from("audit_logs").select("*").eq("is_deleted",0).order("timestamp",{ascending:!1});i!=null&&i.organizationId&&(s=s.eq("organization_id",i.organizationId)),i!=null&&i.eventType&&(s=s.eq("event_type",i.eventType)),i!=null&&i.entityType&&(s=s.eq("entity_type",i.entityType)),i!=null&&i.userEmail&&(s=s.eq("user_email",i.userEmail)),i!=null&&i.startDate&&(s=s.gte("timestamp",i.startDate)),i!=null&&i.endDate&&(s=s.lte("timestamp",i.endDate)),i!=null&&i.limit&&(s=s.limit(i.limit));const{data:r,error:c}=await s;if(c)throw c;return(r||[]).map(f=>({id:f.id,organizationId:f.organization_id,userId:f.user_id,userEmail:f.user_email,eventType:f.event_type,entityType:f.entity_type,entityId:f.entity_id,actionDetails:f.action_details,ipAddress:f.ip_address,userAgent:f.user_agent,deviceInfo:f.device_info,timestamp:f.timestamp}))}catch(s){return console.error("Failed to fetch audit logs:",s),[]}},async exportAuditLogs(i){const n=["Timestamp","User Email","Event Type","Entity Type","Entity ID","IP Address","Device Type","Browser","OS","Details"],s=i.map(c=>{let f={};try{f=JSON.parse(c.deviceInfo||"{}")}catch{}return[c.timestamp,c.userEmail||"",c.eventType,c.entityType||"",c.entityId||"",c.ipAddress||"",f.deviceType||"",f.browser||"",f.os||"",c.actionDetails||""]});return[n.join(","),...s.map(c=>c.map(f=>`"${String(f).replace(/"/g,'""')}"`).join(","))].join(`
`)}},hx=Object.freeze(Object.defineProperty({__proto__:null,apiService:he},Symbol.toStringTag,{value:"Module"})),mx=20,Y0=1200,K0=60,Hu=[{id:"win-execution",title:"Win Through Execution",subtitle:"Lead bold execution in a fast moving world",positives:["Sets and delivers against stretch goals","Holds self and others to account","Quickly adapts plans in the face of change","Builds coherent plans and prioritises resources","Simplifies and drives efficiencies","Makes timely decisions and acts quickly"],watchOuts:["Sets unrealistic or conservative goals","Deflects when things don't go to plan","Gets stuck when things change","Executes without a clear plan","Adds in complexity","Steps away from key decisions"],questions:{L4:["Can you give me an example of a recent goal that you set? How did you achieve it?","Tell me about a time where you needed to work through others to successfully deliver a project.","Tell me about a time where you have had to change your plans to get a better outcome."],"L5-L7":["Can you give me an example of when you had to make difficult choices when delivering against plans?","How do you hold yourself and others to account for high performance?","Tell me about a time you adapted plans because of a change in the external environment."]}},{id:"inspire-purpose",title:"Inspire Through Purpose",subtitle:"Amplify our purpose internally and externally",positives:["Understands what drives and motivates them","Shows interest in what motivates others","Takes thoughtful risks based on good judgement","Maintains positive outlook during challenges","Builds meaningful relationships","Connects with the impact of Organization purpose"],watchOuts:["Lacks self-insight into motivations","Doesn't invest time to deeply understand others","Risk averse or takes risks without consideration","Comes across as being negative","Shies away from difficult stakeholder relationships","Does not recognise impact of Organization's purpose"],questions:{L4:["Where do you find connection with your own purpose in your current role?","Give an example of a time where you were working as part of a team that was struggling to deliver.","Give an example of when you had to adapt your style to influence someone."],"L5-L7":["Give an example of a time where you identified an area of significant development for an individual/team.","Give an example of how you have helped someone else explore or unlock their purpose.","Give me an example of when you have led a highly effective team."]}},{id:"shape-future",title:"Shape the Future",subtitle:"Creates focus and ownership for shaping Organization's future ambition",positives:["Future orientated, sets bold plans","Embraces uncertainty and thrives on ambiguity","Communicates in clear and credible manner","Seeks internal and external insights","Draws meaningful insights from data points","Generates and experiments with new ideas"],watchOuts:["Plans framed around current performance only","Enjoys clarity and uncomfortable with ambiguity","Struggles to communicate ideas simply","Focuses only on internal insights","Over-analyses without focus on meaning","Reluctant to try new approaches"],questions:{L4:["Tell me about an improvement opportunity you identified and delivered recently?","Where have you pushed yourself to deliver something challenging/out of comfort zone?","How do you keep up-to-date with developments in your market/function?"],"L5-L7":["What emerging trends of practices could impact your current strategy?","Tell me about a significant need for change you identified and implemented?","What has been the most innovative thing you've done at work?"]}},{id:"invest-talent",title:"Invest in Talent",subtitle:"Harness the full extent of Organization's talent and diversity",positives:["Articulates own and team strengths/priorities","Continuously looking for growth opportunities","Provides and acts on feedback","Understands value of diversity","Aware of own biases and preferences","Resilient in the face of adversity"],watchOuts:["Narrow and simplistic view on strengths","Focused only on own development","Concerned only about own feedback","Dismissive of ideas different to own","Limited self awareness of impact of biases","Gets disheartened or worn down by challenges"],questions:{L4:["Give an example of when you had to share a difficult message or feedback.","Tell me about a time you sought out a diverse viewpoint to help overcome a challenge.","How do you ensure you continue to develop within your role?"],"L5-L7":["What have you done to ensure that you have a diverse and inclusive culture in your team?","How do you ensure your team adapt quickly in the face of new challenges?","Give an example of when you have had to deliver difficult feedback to someone."]}}],w0=({seconds:i,label:n,isUrgent:s})=>{const r=Math.floor(i/60),c=i%60;return d.jsxs("div",{className:`flex flex-col items-center p-3 rounded-lg border transition-colors ${s?"bg-red-50 border-red-200 text-red-600":"bg-white border-slate-200 text-slate-600"}`,children:[d.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider mb-1 opacity-70",children:n}),d.jsxs("span",{className:"text-2xl font-mono font-bold leading-none",children:[String(r).padStart(2,"0"),":",String(c).padStart(2,"0")]})]})},gx=({questions:i,onFinish:n,onCancel:s,overallTimeLimitSec:r=1200,questionTimeLimitSec:c=60})=>{const[f,h]=G.useState(0),[g,p]=G.useState(null),[b,x]=G.useState([]),[E,N]=G.useState(r),[T,A]=G.useState(c),[B,V]=G.useState(!1),Y=G.useRef(Date.now()),K=G.useRef(Date.now()),$=i[f],te=G.useMemo(()=>{const P=[];i.forEach(ne=>{(P.length===0||P[P.length-1]!==ne.category)&&P.push(ne.category)}),i[f].category;let J=0,le="";for(let ne=0;ne<=f;ne++)i[ne].category!==le&&(le=i[ne].category,ne>0&&J++);return{currentSection:J+1,totalSections:P.length}},[i,f]),ee=G.useCallback((P=!1,J=!1)=>{const le=Math.floor((Date.now()-K.current)/1e3),ne=J?"AUTO_MISSED_OVERALL_TIMEOUT":P||!g?"MISSED":"ANSWERED",Re={questionId:$.id,selectedOption:P||J?null:g,isCorrect:P||J||!g?!1:g===$.correctOption,timeSpentSec:Math.min(le,c),status:ne,questionIndex:f+1},Ke=[...b,Re];if(x(Ke),f<i.length-1&&!J)h(ke=>ke+1),p(null),A(c),K.current=Date.now();else{const ke=Math.floor((Date.now()-Y.current)/1e3);if(J){const et=i.length-Ke.length;for(let Qe=0;Qe<et;Qe++){const tt=i[f+1+Qe];tt&&Ke.push({questionId:tt.id,selectedOption:null,isCorrect:!1,timeSpentSec:0,status:"AUTO_MISSED_OVERALL_TIMEOUT",questionIndex:f+2+Qe})}}n(Ke,ke)}},[f,i,g,b,n,$,c]);return G.useEffect(()=>{const P=setInterval(()=>{N(J=>J<=1?(clearInterval(P),ee(!1,!0),0):J-1)},1e3);return()=>clearInterval(P)},[ee]),G.useEffect(()=>{const P=setInterval(()=>{A(J=>J<=1?(ee(!0),c):J-1)},1e3);return()=>clearInterval(P)},[ee,f,c]),d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4 sticky top-0 bg-slate-50 py-4 z-10 border-b border-slate-200",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"bg-slate-800 text-white px-4 py-2 rounded-lg font-bold",children:["Question ",f+1," / ",i.length]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:["Section ",te.currentSection," of ",te.totalSections]}),d.jsx("h1",{className:"text-lg font-bold text-slate-800",children:$.category})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx(w0,{label:"Per Question",seconds:T,isUrgent:T<10}),d.jsx(w0,{label:"Total Remaining",seconds:E,isUrgent:E<120})]})]}),d.jsx("div",{className:"w-full bg-slate-200 h-2 rounded-full mb-8 overflow-hidden",children:d.jsx("div",{className:"bg-indigo-600 h-full transition-all duration-500 ease-out",style:{width:`${(f+1)/i.length*100}%`}})}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl shadow-indigo-100/20 border border-slate-100 p-8 mb-8",children:[d.jsx("p",{className:"text-xl font-medium text-slate-800 mb-8 leading-relaxed",children:$.text}),d.jsx("div",{className:"grid gap-4",children:["A","B","C","D"].map(P=>d.jsxs("button",{onClick:()=>p(P),className:`group flex items-center w-full p-4 rounded-xl border-2 transition-all duration-200 text-left ${g===P?"border-indigo-600 bg-indigo-50/50 ring-4 ring-indigo-50":"border-slate-100 hover:border-slate-300 hover:bg-slate-50"}`,children:[d.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-lg font-bold text-lg mr-4 transition-colors ${g===P?"bg-indigo-600 text-white":"bg-slate-100 text-slate-500 group-hover:bg-slate-200"}`,children:P}),d.jsx("span",{className:`text-lg ${g===P?"text-indigo-900 font-medium":"text-slate-700"}`,children:$.options[P]})]},P))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{onClick:()=>V(!0),className:"px-6 py-4 rounded-xl font-bold text-sm text-slate-400 hover:text-red-500 uppercase tracking-widest transition-colors",children:"Cancel Exam"}),d.jsx("button",{onClick:()=>ee(),disabled:!g,className:`px-10 py-4 rounded-xl font-bold text-lg transition-all transform active:scale-95 ${g?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 hover:bg-indigo-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:f===i.length-1?"Finish Exam":"Submit Answer & Next"})]}),B&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-md rounded-[32px] p-8 shadow-2xl animate-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-black",children:"!"}),d.jsx("h3",{className:"text-xl font-black text-slate-900 mb-2 uppercase tracking-tight",children:"Abort Session?"}),d.jsxs("p",{className:"text-slate-500 font-medium text-sm leading-relaxed",children:["If you cancel now, your progress will be lost and you will ",d.jsx("span",{className:"text-red-600 font-bold",children:"not be able to retake the exam"}),"."]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-4 bg-slate-100 text-slate-600 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-slate-200 transition-colors",children:"No, Continue"}),d.jsx("button",{onClick:s,className:"flex-1 py-4 bg-red-500 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-red-600 shadow-lg shadow-red-200 active:scale-95 transition-all",children:"Yes, Cancel"})]})]})})]})},px=({existingCategories:i,onSaveQuestions:n,onClose:s,organizationId:r,aiSettings:c})=>{const[f,h]=G.useState(i[0]||"General"),[g,p]=G.useState(!1),[b,x]=G.useState(""),[E,N]=G.useState("Medium"),[T,A]=G.useState(!1),[B,V]=G.useState(null),[Y,K]=G.useState([]),[$,te]=G.useState(new Set),ee=async()=>{const le=g?b.trim():f;if(g&&!le){V("Please enter a custom category name.");return}if(!c.apiKey){V(`API Key for ${c.provider} is missing. Configure it in Settings.`);return}V(null),A(!0),K([]),te(new Set);try{const ne=`Generate exactly 5 distinct and professional multiple-choice questions for a corporate technical assessment.
          Category: ${le}
          Difficulty Level: ${E}
          Context: Evaluate.ai, Analytics, and Engineering roles. Ensure options are plausible but only one is clearly correct.
          
          Return the response as a valid JSON array of objects with the following structure:
          [
            {
              "text": "Question text here",
              "options": { "A": "...", "B": "...", "C": "...", "D": "..." },
              "correctOption": "A"
            }
          ]
          Do not include markdown formatting like \`\`\`json. Return raw JSON only.`,Re=await qu.generateJSON(ne,c,r);if(!Array.isArray(Re))throw new Error("Invalid response format.");const Ke=Re.map((ke,et)=>({id:`ai_${Date.now()}_${et}`,category:le,difficulty:E,text:ke.text,options:ke.options,correctOption:(ke.correctOption||"A").toUpperCase(),isActive:!0}));K(Ke),te(new Set(Ke.map((ke,et)=>et)))}catch(ne){console.error("AI Error:",ne),V(`AI Architect failed: ${ne.message||"Unknown error"}`)}finally{A(!1)}},P=le=>{const ne=new Set($);ne.has(le)?ne.delete(le):ne.add(le),te(ne)},J=()=>{const le=Y.filter((ne,Re)=>$.has(Re));n(le)};return d.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-xl",children:d.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[40px] p-10 shadow-2xl flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-start mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-black text-[#002b49] uppercase tracking-tighter leading-none",children:"AI Question Architect"}),d.jsx("p",{className:"text-[#d4af37] text-[10px] font-black uppercase tracking-[0.4em] mt-3",children:"Synthesizing Data Integrity via Gemini 3 Pro"})]}),d.jsx("button",{onClick:s,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:d.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 items-end bg-slate-50 p-6 rounded-3xl border border-slate-100",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Topic Domain"}),d.jsx("button",{onClick:()=>p(!g),className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest hover:underline",children:g?"Use Existing":"Define New"})]}),g?d.jsx("input",{placeholder:"Custom Domain Name",value:b,onChange:le=>x(le.target.value),className:"p-4 bg-white border-2 border-indigo-50 rounded-2xl font-bold outline-none shadow-sm focus:border-indigo-400"}):d.jsx("select",{value:f,onChange:le=>h(le.target.value),className:"p-4 bg-white border-2 border-slate-200 rounded-2xl font-bold outline-none cursor-pointer",children:i.map(le=>d.jsx("option",{value:le,children:le},le))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Difficulty Grade"}),d.jsxs("select",{value:E,onChange:le=>N(le.target.value),className:"w-full p-4 bg-white border-2 border-slate-200 rounded-2xl font-bold outline-none cursor-pointer",children:[d.jsx("option",{value:"Easy",children:"Foundational (Easy)"}),d.jsx("option",{value:"Medium",children:"Professional (Medium)"}),d.jsx("option",{value:"Hard",children:"Expert (Hard)"})]})]}),d.jsx("button",{onClick:ee,disabled:T,className:"bg-[#002b49] text-[#d4af37] p-5 rounded-2xl font-black uppercase text-[11px] tracking-widest shadow-xl shadow-[#002b49]/20 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 h-[62px]",children:T?"Processing Neural Model...":"Initiate Synthesis"})]}),B&&d.jsxs("div",{className:"mb-8 p-6 bg-red-50 border-2 border-red-100 rounded-3xl flex items-center justify-between animate-in slide-in-from-top-4 duration-300",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 bg-red-500 text-white rounded-2xl flex items-center justify-center text-xl shadow-lg shadow-red-500/20",children:"!"}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest leading-none mb-1",children:"Neural Fault Detected"}),d.jsx("p",{className:"text-red-900 font-bold text-sm leading-tight",children:B})]})]}),d.jsx("button",{onClick:()=>V(null),className:"text-red-400 hover:text-red-600 font-black uppercase text-[10px] tracking-widest",children:"Clear"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto pr-4 space-y-6 custom-scrollbar min-h-[300px]",children:[T&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-6",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-slate-100 border-t-indigo-600 rounded-full animate-spin"}),d.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em] animate-pulse",children:"Calculating Probabilities..."})]}),!T&&Y.length===0&&d.jsxs("div",{className:"py-24 text-center border-4 border-dashed border-slate-50 rounded-[40px] text-slate-200",children:[d.jsx("div",{className:"text-4xl mb-4 opacity-20",children:""}),d.jsx("p",{className:"text-[11px] font-black uppercase tracking-[0.3em]",children:"Configure parameters and initiate synthesis"})]}),Y.map((le,ne)=>d.jsxs("div",{onClick:()=>P(ne),className:`p-8 rounded-[32px] border-2 cursor-pointer transition-all ${$.has(ne)?"bg-white border-indigo-600 shadow-xl ring-8 ring-indigo-50/30":"bg-slate-50 border-transparent hover:border-slate-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("span",{className:"text-[9px] font-black uppercase text-indigo-500 tracking-widest mb-2 block",children:["Proposed Entry ",ne+1]}),d.jsx("p",{className:"text-lg font-bold text-slate-900 leading-tight",children:le.text})]}),d.jsx("div",{className:`w-10 h-10 rounded-2xl border-2 flex items-center justify-center transition-all ${$.has(ne)?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-white border-slate-200 text-transparent"}`,children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["A","B","C","D"].map(Re=>d.jsxs("div",{className:`p-3 rounded-xl border text-[11px] font-bold flex items-center gap-3 ${le.correctOption===Re?"bg-green-50 border-green-200 text-green-700":"bg-white border-slate-100 text-slate-500"}`,children:[d.jsx("span",{className:`w-6 h-6 flex items-center justify-center rounded-lg font-black shrink-0 ${le.correctOption===Re?"bg-green-600 text-white":"bg-slate-100 text-slate-400"}`,children:Re}),d.jsx("span",{className:"truncate",children:le.options[Re]})]},Re))})]},ne))]}),Y.length>0&&d.jsxs("div",{className:"mt-8 pt-8 border-t flex justify-between items-center",children:[d.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["Queueing ",d.jsx("span",{className:"text-indigo-600",children:$.size})," selections for deployment"]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:s,className:"px-8 py-4 font-black uppercase text-[10px] text-slate-400 tracking-widest hover:text-slate-900 transition-colors",children:"Abort"}),d.jsx("button",{onClick:J,disabled:$.size===0,className:"bg-[#002b49] text-[#d4af37] px-12 py-4 rounded-2xl font-black uppercase text-[11px] tracking-widest shadow-2xl hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:"Commit to Bank"})]})]})]})})},bx=({onEvaluate:i,onLogout:n,currentUser:s,selectedOrgId:r,onOrganizationSelect:c,initialActiveTab:f,onTabChange:h})=>{var Ts,$a;const[g,p]=G.useState([]),[b,x]=G.useState([]),[E,N]=G.useState([]),[T,A]=G.useState({}),[B,V]=G.useState([]),[Y,K]=G.useState([]),[$,te]=G.useState([]),[ee,P]=G.useState(f||"leaderboard"),[J,le]=G.useState([]),[ne,Re]=G.useState({email:"",fullName:""}),[Ke,ke]=G.useState(!1),[et,Qe]=G.useState(!1),[tt,D]=G.useState(null),[U,z]=G.useState({id:"",name:"",adminName:"",adminEmail:"",aiLimit:0}),[Q,F]=G.useState(!1),[_,L]=G.useState(!1),[X,Z]=G.useState(null),[me,pe]=G.useState(s==null?void 0:s.organizationId),ie=r!==void 0?r:me,Be=(($a=(Ts=Y.find(y=>y.id===ie))==null?void 0:Ts.name)==null?void 0:$a.toLowerCase())==="demo",_e=y=>{c?c(y):pe(y)};G.useEffect(()=>{!c&&(s!=null&&s.organizationId)&&!me&&pe(s.organizationId)},[s,c,me]),G.useEffect(()=>{h==null||h(ee)},[ee,h]);const[lt,Dt]=G.useState({id:"",email:"",fullName:"",role:"admin"}),[Ut,Kt]=G.useState(!1),[zt,ga]=G.useState(!1),[ia,we]=G.useState(!1),[pa,bs]=G.useState({connected:!1,tables:{}}),[La,ce]=G.useState(null),[Pe,vs]=G.useState(null),[Lt,Cl]=G.useState(!1),[ys,Vn]=G.useState(null),[xi,xs]=G.useState(!1),[wi,Rl]=G.useState(null),[ws,Ma]=G.useState(!1),[yt,sa]=G.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),gt=(y,H,oe)=>{sa({isOpen:!0,title:y,message:H,onConfirm:()=>{oe(),sa(qe=>({...qe,isOpen:!1}))}})},[It,Yn]=G.useState({overallTimeLimitMins:Y0/60,questionTimeLimitSecs:K0,totalQuestions:20,questionsPerSection:{}}),[Dl,cn]=G.useState(""),[_i,un]=G.useState(!1),[pt,Ia]=G.useState({provider:"gemini",model:"gemini-2.0-flash",apiKey:""}),[ja,ho]=G.useState([]),[xt,dn]=G.useState({eventType:"",entityType:"",userEmail:"",startDate:"",endDate:"",limit:100}),[Ba,mo]=G.useState(null),[wt,Aa]=G.useState(1),[Qt,_s]=G.useState(10),[Kn,Ul]=G.useState(0),[Oa,ka]=G.useState(""),[Xe,kt]=G.useState(""),Xt=G.useCallback(async(y,H,oe,qe)=>{we(!0);try{const{data:W,count:Ae}=await he.getQuestions(!1,y,H,oe,qe,ie);N(W),Ul(Ae)}catch(W){console.error("Fetch questions error:",W)}finally{we(!1)}},[ie]),fn=async()=>{try{const{data:y}=await he.getQuestions(!1,1,1e3,"","",ie),H={};y.forEach(oe=>{H[oe.id]=oe}),A(H)}catch(y){console.error("Lookup fetch error:",y)}};G.useEffect(()=>{qa(),rt(),mn(),Ei(),Si(),Qn(),ba(),fn(),ee==="audit"&&Ca()},[ie]),G.useEffect(()=>{ee==="questions"&&Xt(wt,Qt,Oa,Xe)},[ee,wt,Qt,Oa,Xe,Xt,ie]);const Ei=async()=>{const y=await he.getSections(ie);V(y)},Si=async()=>{const y=await he.getOrganizations();K(y)},Qn=async()=>{const y=(s==null?void 0:s.role)==="super_admin"?void 0:ie,H=await he.getUsers(y);te(H)},ba=async()=>{const y=await he.getCandidates(ie);le(y)},Ca=async()=>{we(!0);try{const y=await he.getAuditLogs({organizationId:ie,...xt,eventType:xt.eventType||void 0,entityType:xt.entityType||void 0,userEmail:xt.userEmail||void 0,startDate:xt.startDate||void 0,endDate:xt.endDate||void 0,limit:xt.limit});ho(y)}catch(y){console.error("Fetch audit logs error:",y)}finally{we(!1)}},hn=async()=>{const y=await he.exportAuditLogs(ja),H=new Blob([y],{type:"text/csv"}),oe=window.URL.createObjectURL(H),qe=document.createElement("a");qe.href=oe,qe.download=`audit_logs_${new Date().toISOString().split("T")[0]}.csv`,qe.click(),window.URL.revokeObjectURL(oe)},mn=async()=>{const y=await he.getSettings(ie);y&&(Yn(y),y.aiSettings&&Ia(y.aiSettings))},Xn=async()=>{we(!0),ce({text:"Syncing with cloud...",type:"info"});const y=await he.updateSettings({...It,organizationId:ie,aiSettings:pt});we(!1),ce(y?{text:"Assessment parameters updated and saved to DB.",type:"success"}:{text:"Failed to update parameters. Verify table schema and permissions.",type:"error"}),setTimeout(()=>ce(null),4e3)},qa=async()=>{we(!0);try{const[y,H]=await Promise.all([he.getAllResults(ie),he.getAllEvaluations(ie)]);p(y||[]),x(H||[])}catch(y){console.error("Fetch error:",y)}finally{we(!1)}},rt=async()=>{const y=await he.checkInfrastructure();return bs(y),y},zl=async y=>{await he.saveSection({name:y.category,isActive:!0,organizationId:ie}),await he.saveQuestion({...y,organizationId:ie})?(Vn(null),Xt(wt,Qt,Oa,Xe),fn(),Ei(),ce({text:"Question saved.",type:"success"})):ce({text:"Failed to save question.",type:"error"}),setTimeout(()=>ce(null),3e3)},Ll=async y=>{we(!0),xs(!1);try{let H=0;for(const oe of y)await he.saveSection({name:oe.category,isActive:!0,organizationId:ie}),await he.saveQuestion({...oe,organizationId:ie})&&H++;ce({text:`${H} AI questions imported successfully.`,type:"success"})}catch{ce({text:"Batch import encountered errors.",type:"error"})}finally{we(!1),Xt(wt,Qt,Oa,Xe),fn(),Ei(),setTimeout(()=>ce(null),4e3)}},Ha=async y=>{gt("Delete Question?","This action cannot be undone. The question will be permanently removed.",async()=>{await he.deleteQuestion(y)?(Xt(wt,Qt,Oa,Xe),fn(),ce({text:"Question deleted.",type:"success"})):ce({text:"Deletion failed.",type:"error"}),setTimeout(()=>ce(null),3e3)})},gn=y=>{switch(y){case"Strong Evidence":return"text-green-600 bg-green-50 border-green-200";case"Good Evidence":return"text-blue-600 bg-blue-50 border-blue-200";case"Limited Evidence":return"text-amber-600 bg-amber-50 border-amber-200";default:return"text-slate-400 bg-slate-50 border-slate-200"}},Ml=[...g].sort((y,H)=>H.scorePercent!==y.scorePercent?H.scorePercent-y.scorePercent:y.totalTimeTakenSec!==H.totalTimeTakenSec?y.totalTimeTakenSec-H.totalTimeTakenSec:y.avgTimePerAnsweredSec-H.avgTimePerAnsweredSec),Jn=()=>B.filter(y=>y.isActive).map(y=>y.name),Es=(y,H)=>{Yn(oe=>({...oe,questionsPerSection:{...oe.questionsPerSection,[y]:H}}))},Il=async()=>{const y=Dl.trim();if(!y)return;we(!0);const H=await he.saveSection({name:y,isActive:!0,organizationId:ie});we(!1),H?(Es(y,0),cn(""),un(!1),Ei(),ce({text:`Domain "${y}" initialized.`,type:"success"})):ce({text:"Failed to create section. Check DB permissions.",type:"error"}),setTimeout(()=>ce(null),3e3)},Ni=async()=>{if(!U.adminName||!U.adminEmail){Z("Please fill all fields.");return}Z(null),we(!0);const y=await he.updateOrganization({id:U.id,name:U.name,adminName:U.adminName,adminEmail:U.adminEmail,aiLimit:U.aiLimit});we(!1),y?(z({id:"",name:"",adminName:"",adminEmail:"",aiLimit:0}),L(!1),F(!1),Si(),ce({text:"Organization updated successfully.",type:"success"})):ce({text:"Failed to update organization.",type:"error"}),setTimeout(()=>ce(null),3e3)},Ti=async y=>{gt("Delete Organization?","Are you sure? This will remove the organization and could affect associated data.",async()=>{we(!0);const H=await he.deleteOrganization(y);we(!1),H?(Si(),ce({text:"Organization deleted.",type:"success"})):ce({text:"Failed to delete organization.",type:"error"}),setTimeout(()=>ce(null),3e3)})},va=async()=>{if(!U.name||!U.adminName||!U.adminEmail){Z("Please fill all fields for the organization.");return}Z(null),we(!0);const y=await he.addOrganization(U.name,U.adminName,U.adminEmail,U.aiLimit);we(!1),y?(z({id:"",name:"",adminName:"",adminEmail:"",aiLimit:0}),F(!1),Si(),ce({text:"Organization added successfully.",type:"success"})):ce({text:"Failed to add organization. Name might be duplicate.",type:"error"}),setTimeout(()=>ce(null),3e3)},Bt=async()=>{if(!lt.email||!lt.fullName){alert("Please fill all fields.");return}we(!0);const y=await he.addUser({email:lt.email,fullName:lt.fullName,role:lt.role,organizationId:ie});we(!1),y?(Dt({id:"",email:"",fullName:"",role:"admin"}),Kt(!1),Qn(),ce({text:"User added successfully.",type:"success"})):ce({text:"Failed to add user.",type:"error"}),setTimeout(()=>ce(null),3e3)},Bl=async()=>{if(!lt.email||!lt.fullName){alert("Please fill all fields.");return}we(!0);const y=await he.updateUser({id:lt.id,email:lt.email,fullName:lt.fullName,role:lt.role});we(!1),y?(Dt({id:"",email:"",fullName:"",role:"admin"}),ga(!1),Kt(!1),Qn(),ce({text:"User updated successfully.",type:"success"})):ce({text:"Failed to update user.",type:"error"}),setTimeout(()=>ce(null),3e3)},go=async y=>{gt("Delete User?","This user will lose access immediately. Proceed?",async()=>{we(!0);const H=await he.deleteUser(y);we(!1),H?(Qn(),ce({text:"User deleted.",type:"success"})):ce({text:"Failed to delete user.",type:"error"}),setTimeout(()=>ce(null),3e3)})},Ss=async()=>{if(!ne.email||!ne.fullName){Z("Please fill all fields.");return}Z(null),we(!0);const y=await he.addCandidate({email:ne.email,fullName:ne.fullName,organizationId:ie});we(!1),y?(Re({email:"",fullName:""}),ke(!1),ba(),ce({text:"Candidate added successfully.",type:"success"})):ce({text:"Failed to add candidate.",type:"error"}),setTimeout(()=>ce(null),3e3)},ql=async()=>{if(!tt||!ne.email||!ne.fullName){Z("Please fill all fields.");return}Z(null),we(!0);const y=await he.updateCandidate(tt,{...ne,organizationId:ie});we(!1),y?(Re({email:"",fullName:""}),ke(!1),Qe(!1),D(null),ba(),ce({text:"Candidate updated successfully.",type:"success"})):ce({text:"Failed to update candidate.",type:"error"}),setTimeout(()=>ce(null),3e3)},ji=async y=>{if(Be){ce({text:"Reset is disabled for the demo organization.",type:"error"}),setTimeout(()=>ce(null),3e3);return}gt("Reset Candidate?","This will archive their previous attempts and allow them to take the exam again.",async()=>{we(!0),await he.resetCandidate(y)?(ba(),ce({text:"Candidate reset successfully.",type:"success"})):ce({text:"Reset failed.",type:"error"}),we(!1),setTimeout(()=>ce(null),3e3)})},po=async y=>{if(Be){ce({text:"Delete is disabled for the demo organization.",type:"error"}),setTimeout(()=>ce(null),3e3);return}gt("Delete Candidate?","This will verify remove the candidate from the registry.",async()=>{we(!0);const H=await he.deleteCandidate(y);we(!1),H?(ba(),ce({text:"Candidate deleted.",type:"success"})):ce({text:"Failed to delete candidate.",type:"error"}),setTimeout(()=>ce(null),3e3)})},We=Math.ceil(Kn/Qt),Ai=()=>d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 bg-white p-6 md:p-8 rounded-[32px] border border-slate-100 shadow-sm animate-in fade-in slide-in-from-top-2",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-[0.2em]",children:["Viewing ",d.jsxs("span",{className:"text-slate-900",children:[(wt-1)*Qt+1,"-",Math.min(wt*Qt,Kn)]})," of ",d.jsx("span",{className:"text-slate-900",children:Kn})," records"]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Questions per page:"}),d.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[5,10,20,50,100].map(y=>d.jsx("button",{onClick:()=>{_s(y),Aa(1)},className:`px-3 py-1 rounded-lg text-[10px] font-black transition-all ${Qt===y?"bg-white text-[#002b49] shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:y},y))})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{disabled:wt===1,onClick:()=>Aa(y=>Math.max(1,y-1)),className:`p-4 rounded-2xl border-2 transition-all ${wt===1?"opacity-30 cursor-not-allowed border-slate-100":"hover:bg-slate-50 border-slate-200 active:scale-95"}`,children:d.jsx("svg",{className:"w-5 h-5 text-[#002b49]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15 19l-7-7 7-7"})})}),d.jsx("div",{className:"flex gap-2",children:Array.from({length:Math.min(We,5)}).map((y,H)=>{let oe=H+1;return We>5&&(wt>3&&(oe=wt-2+H),oe>We&&(oe=We-(4-H)),oe<=0&&(oe=H+1)),oe>We?null:d.jsx("button",{onClick:()=>Aa(oe),className:`w-12 h-12 rounded-2xl font-black text-xs transition-all ${wt===oe?"bg-[#002b49] text-white shadow-xl":"bg-white border-2 border-slate-100 text-slate-300 hover:border-slate-300"}`,children:oe},oe)})}),d.jsx("button",{disabled:wt===We||We===0,onClick:()=>Aa(y=>Math.min(We,y+1)),className:`p-4 rounded-2xl border-2 transition-all ${wt===We||We===0?"opacity-30 cursor-not-allowed border-slate-100":"hover:bg-slate-50 border-slate-200 active:scale-95"}`,children:d.jsx("svg",{className:"w-5 h-5 text-[#002b49]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 5l7 7-7 7"})})})]})]}),Hl=({isOpen:y,title:H,message:oe,onConfirm:qe,onCancel:W})=>y?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[32px] p-8 shadow-2xl border border-slate-100 scale-100 animate-in zoom-in-95 duration-200",children:[d.jsx("div",{className:"w-12 h-12 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center mb-6",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h3",{className:"text-xl font-black text-slate-900 mb-2 uppercase tracking-tight",children:H}),d.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed mb-8",children:oe}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:W,className:"flex-1 py-3 bg-slate-50 hover:bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest transition-colors",children:"Cancel"}),d.jsx("button",{onClick:qe,className:"flex-1 py-3 bg-[#002b49] hover:bg-[#003b5c] text-white rounded-xl font-black text-[10px] uppercase tracking-widest transition-all shadow-lg shadow-[#002b49]/20",children:"Confirm"})]})]})}):null,Ns=({question:y,onClose:H,onSave:oe})=>{const[qe,W]=G.useState(!1),[Ae,De]=G.useState(""),[Ne,Et]=G.useState({id:y.id||`q_${Date.now()}`,text:y.text||"",category:y.category||Jn()[0]||"General",difficulty:y.difficulty||"Easy",options:y.options||{A:"",B:"",C:"",D:""},correctOption:y.correctOption||"A",isActive:y.isActive??!0}),la=Jn(),ya=["Easy","Medium","Hard"],xa=()=>{const Ce=qe?Ae.trim():Ne.category;if(!Ce){Z("Category is required.");return}Z(null),oe({...Ne,category:Ce})};return d.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-md",children:d.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[40px] p-10 shadow-2xl overflow-y-auto max-h-[90vh]",children:[d.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-8 uppercase tracking-tighter",children:y.id?"Edit Record":"Create Record"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Question Definition"}),d.jsx("textarea",{value:Ne.text,onChange:Ce=>Et({...Ne,text:Ce.target.value}),className:"w-full p-4 bg-white border border-slate-200 rounded-2xl font-medium outline-none focus:ring-4 focus:ring-indigo-100 min-h-[100px] shadow-sm"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),d.jsx("button",{onClick:()=>W(!qe),className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest hover:underline",children:qe?"Back to List":"+ Add New"})]}),qe?d.jsx("input",{placeholder:"Domain Name",value:Ae,onChange:Ce=>De(Ce.target.value),className:"w-full p-4 bg-white border border-indigo-200 rounded-2xl font-bold text-slate-700 outline-none shadow-sm focus:ring-4 focus:ring-indigo-50"}):d.jsx("select",{value:Ne.category,onChange:Ce=>Et({...Ne,category:Ce.target.value}),className:"w-full p-4 bg-white border border-slate-200 rounded-2xl font-bold text-slate-700 outline-none shadow-sm",children:la.map(Ce=>d.jsx("option",{value:Ce,children:Ce},Ce))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Complexity"}),d.jsx("select",{value:Ne.difficulty,onChange:Ce=>Et({...Ne,difficulty:Ce.target.value}),className:"w-full p-4 bg-white border border-slate-200 rounded-2xl font-bold text-slate-700 outline-none shadow-sm",children:ya.map(Ce=>d.jsx("option",{value:Ce,children:Ce},Ce))})]})]}),d.jsx("div",{className:"grid grid-cols-2 gap-4",children:["A","B","C","D"].map(Ce=>{var Ga;return d.jsxs("div",{children:[d.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:["Option ",Ce]}),d.jsx("input",{value:(Ga=Ne.options)==null?void 0:Ga[Ce],onChange:at=>Et({...Ne,options:{...Ne.options,[Ce]:at.target.value}}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none shadow-sm"})]},Ce)})}),d.jsxs("div",{className:"flex justify-between items-end gap-6 pt-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"True Answer Key"}),d.jsx("div",{className:"flex gap-2",children:["A","B","C","D"].map(Ce=>d.jsx("button",{onClick:()=>Et({...Ne,correctOption:Ce}),className:`flex-1 py-3 rounded-xl font-black transition-all ${Ne.correctOption===Ce?"bg-[#002b49] text-white":"bg-slate-100 text-slate-400"}`,children:Ce},Ce))})]}),d.jsxs("div",{className:"flex items-center gap-3 pb-2",children:[d.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active"}),d.jsx("button",{onClick:()=>Et({...Ne,isActive:!Ne.isActive}),className:`w-12 h-6 rounded-full transition-colors relative ${Ne.isActive?"bg-green-500":"bg-slate-300"}`,children:d.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${Ne.isActive?"left-7":"left-1"}`})})]})]})]}),d.jsxs("div",{className:"flex gap-4 mt-10",children:[d.jsx("button",{onClick:H,className:"flex-1 py-4 text-slate-400 font-black uppercase text-[10px] tracking-widest",children:"Discard"}),d.jsx("button",{onClick:xa,className:"flex-1 bg-[#002b49] text-[#d4af37] py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl shadow-[#002b49]/20",children:"Commit Changes"})]})]})})},pn=async y=>{Ma(!0);const H=b.find(oe=>oe.candidateEmail===y.candidateEmail);if(!H){Ma(!1);return}try{const oe=await he.generateVerdict(y.candidateName,y.scorePercent,H.ratings,ie);if(!H.id)throw new Error("Evaluation ID missing");await he.saveVerdict(H.id,oe,H.notes)&&x(W=>W.map(Ae=>Ae.id===H.id?{...Ae,aiVerdict:oe}:Ae))}catch(oe){console.error(oe),Z(`Verdict generation failed: ${oe.message||"Unknown error"}`)}finally{Ma(!1)}},$l=()=>{var qe;if(!Pe)return null;let y=[];try{y=JSON.parse(Pe.answersJson)}catch(W){console.error("Failed to parse answers JSON",W)}const H={};y.forEach(W=>{const Ae=T[W.questionId];if(Ae){const De=Ae.category||"General";H[De]||(H[De]={total:0,correct:0,time:0}),H[De].total++,W.isCorrect&&H[De].correct++,H[De].time+=W.timeSpentSec||0}});const oe=Object.entries(H).map(([W,Ae])=>({name:W,...Ae,percent:Ae.total>0?Ae.correct/Ae.total*100:0})).sort((W,Ae)=>Ae.percent-W.percent);return d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",children:d.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-3xl overflow-hidden shadow-2xl flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-[#002b49] p-8 text-white flex justify-between items-center shrink-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter leading-none",children:Pe.candidateName}),d.jsx("p",{className:"text-[#d4af37] font-bold text-xs uppercase tracking-widest mt-2",children:Pe.candidateEmail})]}),d.jsx("button",{onClick:()=>vs(null),className:"text-white/50 hover:text-white font-bold uppercase text-xs border border-white/20 px-4 py-2 rounded-xl transition-colors",children:"Close Profile"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 no-scrollbar",children:[d.jsxs("section",{className:"bg-slate-50 rounded-[24px] p-6 border border-slate-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-8",children:[d.jsxs("div",{className:"flex flex-col items-center md:items-start shrink-0",children:[d.jsxs("div",{className:"text-[40px] font-black text-[#002b49] leading-none mb-1",children:[Pe.scorePercent.toFixed(2),"%"]}),d.jsx("p",{className:"text-[9px] font-black uppercase text-slate-400 tracking-[0.2em]",children:"Composite Score"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-8 w-full max-w-3xl",children:[d.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[d.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Correct"}),d.jsx("span",{className:"text-lg font-black text-green-600 leading-none",children:Pe.correctCount})]}),d.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[d.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Missed"}),d.jsx("span",{className:"text-lg font-black text-red-600 leading-none",children:Pe.missedCount})]}),d.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[d.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Time"}),d.jsxs("span",{className:"text-sm font-black text-slate-900 leading-none",children:[Math.floor(Pe.totalTimeTakenSec/60),"M ",Pe.totalTimeTakenSec%60,"S"]})]}),d.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[d.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Avg Speed"}),d.jsxs("span",{className:"text-sm font-black text-slate-900 leading-none",children:[Pe.avgTimePerAnsweredSec.toFixed(1),"S"]})]})]})]}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[d.jsxs("section",{className:"bg-white border border-slate-100 rounded-[24px] p-6 shadow-sm flex flex-col h-full",children:[d.jsx("h4",{className:"text-[9px] font-black uppercase text-slate-400 tracking-[0.2em] mb-6",children:"Domain Performance"}),d.jsx("div",{className:"space-y-4 flex-1",children:oe.map(W=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-end mb-1",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[10px] font-bold text-slate-700",children:W.name}),d.jsxs("span",{className:"text-[8px] text-slate-400 font-medium",children:[W.correct,"/",W.total,"  ",Math.round(W.time),"s"]})]}),d.jsxs("span",{className:"text-xs font-black text-[#002b49]",children:[W.percent.toFixed(0),"%"]})]}),d.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${W.percent>=80?"bg-green-500":W.percent>=50?"bg-amber-400":"bg-red-400"}`,style:{width:`${W.percent}%`}})})]},W.name))})]}),d.jsxs("section",{className:"bg-white border border-slate-100 rounded-[24px] p-6 shadow-sm flex flex-col h-full",children:[d.jsx("h4",{className:"text-[9px] font-black uppercase text-slate-400 tracking-[0.2em] mb-6",children:"Leadership Evidence"}),b.find(W=>W.candidateEmail===Pe.candidateEmail)?d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[(()=>{const W=b.find(Ae=>Ae.candidateEmail===Pe.candidateEmail);return d.jsx("div",{className:`p-4 rounded-xl border-l-4 mb-2 shadow-sm ${W.finalOutcome==="Offer"?"bg-green-50 border-green-500 text-green-900":W.finalOutcome==="Decline"?"bg-red-50 border-red-500 text-red-900":"bg-amber-50 border-amber-500 text-amber-900"}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest opacity-60 mb-1",children:"Interviewer Verdict"}),d.jsx("div",{className:"text-lg font-black uppercase tracking-tight",children:W.finalOutcome})]}),W.finalComments&&d.jsxs("div",{className:"text-[10px] italic opacity-80 max-w-[60%] text-right font-medium",children:['"',W.finalComments,'"']})]})})})(),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:Hu.map(W=>{var De;const Ae=b.find(Ne=>Ne.candidateEmail===Pe.candidateEmail);return d.jsxs("div",{className:"flex justify-between items-center p-3 border border-slate-50 rounded-lg bg-slate-50/50 hover:bg-white hover:shadow-sm transition-all",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-[9px] font-black uppercase text-[#002b49] tracking-tight",children:W.title}),((De=Ae.notes)==null?void 0:De[W.id])&&d.jsx("button",{onClick:()=>Rl({title:W.title,comment:Ae.notes[W.id]}),className:"text-indigo-400 hover:text-indigo-600 transition-colors",title:"View Details",children:d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),d.jsx("div",{className:`px-2 py-0.5 rounded text-[8px] font-black border uppercase ${gn(Ae.ratings[W.id])}`,children:Ae.ratings[W.id]||"No Evidence"})]},W.id)})})]}):d.jsx("div",{className:"flex-1 flex items-center justify-center text-center text-slate-300 font-black uppercase text-[9px] border-2 border-dashed border-slate-100 rounded-xl",children:"No Interview Conducted"})]})]}),d.jsxs("section",{className:"bg-slate-50 border border-slate-100 rounded-[24px] p-6 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-[9px] font-black uppercase text-slate-400 tracking-[0.2em] flex items-center gap-2",children:[d.jsx("span",{className:"text-sm",children:""})," AI Candidate Verdict"]}),d.jsxs("button",{onClick:()=>Pe&&pn(Pe),disabled:ws||!b.find(W=>W.candidateEmail===Pe.candidateEmail),className:"bg-[#002b49] text-white px-5 py-2 rounded-xl font-black uppercase text-[10px] tracking-widest disabled:opacity-50 hover:bg-slate-800 transition-all flex items-center gap-2",children:[ws?d.jsx("span",{className:"animate-spin text-lg",children:""}):d.jsx("span",{children:""}),ws?"Analyzing...":"Generate Verdict"]})]}),(qe=b.find(W=>W.candidateEmail===(Pe==null?void 0:Pe.candidateEmail)))!=null&&qe.aiVerdict?(()=>{const W=b.find(Ae=>Ae.candidateEmail===(Pe==null?void 0:Pe.candidateEmail)).aiVerdict;return d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsxs("div",{className:`flex-1 p-6 rounded-2xl border-2 ${W.decision==="Hire"?"bg-green-50 border-green-200 text-green-800":W.decision==="No Hire"?"bg-red-50 border-red-200 text-red-800":"bg-amber-50 border-amber-200 text-amber-800"}`,children:[d.jsx("div",{className:"text-[10px] uppercase tracking-widest font-black opacity-60 mb-2",children:"Recommendation"}),d.jsx("div",{className:"text-3xl font-black uppercase mb-2",children:W.decision}),d.jsxs("div",{className:"text-xs font-bold opacity-80",children:["Confidence: ",W.confidence,"%"]})]}),d.jsxs("div",{className:"flex-[2] bg-white p-6 rounded-2xl border border-slate-100 text-slate-600 text-sm font-medium leading-relaxed shadow-sm",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-widest font-black text-slate-400 mb-2",children:"Rationale"}),'"',W.rationale,'"']})]})})():d.jsx("div",{className:"text-center py-8 text-slate-400 italic text-xs",children:"Click generate to analyze candidate performance and interview notes."})]}),wi&&d.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-[2px]",children:d.jsxs("div",{className:"bg-white max-w-md w-full p-8 rounded-[32px] shadow-2xl animate-in zoom-in-95 duration-200 border border-slate-100",children:[d.jsx("h4",{className:"text-[10px] font-black uppercase text-slate-400 tracking-[0.2em] mb-4",children:wi.title}),d.jsxs("div",{className:"text-slate-700 text-sm font-medium leading-relaxed mb-8 bg-slate-50 p-6 rounded-2xl border border-slate-100",children:['"',wi.comment,'"']}),d.jsx("button",{onClick:()=>Rl(null),className:"w-full bg-[#002b49] text-white py-4 rounded-xl font-black uppercase text-[10px] tracking-widest hover:scale-[1.02] active:scale-95 transition-all shadow-lg",children:"Close"})]})}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-[0.2em] mb-6 border-b pb-2",children:"Technical Response Log"}),d.jsx("div",{className:"bg-white border border-slate-100 rounded-3xl overflow-hidden shadow-sm",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"No."}),d.jsx("th",{className:"px-6 py-4 text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"Question & Category"}),d.jsx("th",{className:"px-6 py-4 text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"Candidate Choice"}),d.jsx("th",{className:"px-6 py-4 text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"Correct Key"}),d.jsx("th",{className:"px-6 py-4 text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-[9px] font-black uppercase text-slate-400 tracking-widest text-right",children:"Time"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-50",children:y.map((W,Ae)=>{const De=T[W.questionId],Ne=W.status==="MISSED",Et=W.status==="AUTO_MISSED_OVERALL_TIMEOUT",la=W.isCorrect;return d.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors ${Ne||Et?"bg-red-50/10":""}`,children:[d.jsx("td",{className:"px-6 py-5 text-xs font-black text-slate-200",children:Ae+1}),d.jsxs("td",{className:"px-6 py-5",children:[d.jsx("div",{className:"text-xs font-bold text-slate-900 leading-snug mb-1",children:(De==null?void 0:De.text)||"Question Record Missing"}),d.jsx("div",{className:"text-[8px] font-black uppercase text-indigo-500 tracking-widest",children:(De==null?void 0:De.category)||"General"})]}),d.jsx("td",{className:"px-6 py-5",children:W.selectedOption?d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:`text-xs font-black ${la?"text-green-600":"text-red-600"}`,children:W.selectedOption}),d.jsx("span",{className:"text-[8px] text-slate-400 max-w-[150px] leading-tight mt-1",children:(De==null?void 0:De.options[W.selectedOption])||"Option text unavailable"})]}):d.jsx("span",{className:"text-[10px] font-black text-slate-300 uppercase italic",children:"BLANK"})}),d.jsx("td",{className:"px-6 py-5",children:De?d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-xs font-black text-slate-900",children:De.correctOption}),d.jsx("span",{className:"text-[8px] text-slate-400 max-w-[150px] leading-tight mt-1",children:De.options[De.correctOption]})]}):d.jsx("span",{className:"text-[10px] font-black text-slate-200",children:"?"})}),d.jsx("td",{className:"px-6 py-5",children:d.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase ${la?"bg-green-100 text-green-700":Et?"bg-amber-100 text-amber-700":Ne?"bg-slate-100 text-slate-500":"bg-red-100 text-red-700"}`,children:la?"Correct":Et?"Timeout":Ne?"Missed":"Wrong"})}),d.jsxs("td",{className:"px-6 py-5 text-right font-mono text-xs font-bold text-slate-400",children:[W.timeSpentSec,"s"]})]},Ae)})})]})})]})]})]})})};return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[X&&d.jsxs("div",{className:"mb-8 p-6 bg-red-50 border-2 border-red-100 rounded-3xl flex items-center justify-between animate-in slide-in-from-top-4 duration-300",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 bg-red-500 text-white rounded-2xl flex items-center justify-center text-xl shadow-lg shadow-red-500/20",children:"!"}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest leading-none mb-1",children:"System Exception"}),d.jsx("p",{className:"text-red-900 font-bold text-sm leading-tight",children:X})]})]}),d.jsx("button",{onClick:()=>Z(null),className:"text-red-400 hover:text-red-600 font-black uppercase text-[10px] tracking-widest",children:"Acknowledge"})]}),$l(),Lt&&d.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-8 shadow-2xl",children:[d.jsx("h3",{className:"text-xl font-black text-slate-900 mb-6 uppercase tracking-tight",children:"Manual Evaluation"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{placeholder:"Full Name",id:"mName",className:"w-full p-4 bg-white border border-slate-100 rounded-xl outline-none shadow-sm"}),d.jsx("input",{placeholder:"Email",id:"mEmail",className:"w-full p-4 bg-white border border-slate-100 rounded-xl outline-none shadow-sm"}),d.jsx("button",{onClick:()=>{const y=document.getElementById("mName").value,H=document.getElementById("mEmail").value;y&&H&&i({candidateName:y,candidateEmail:H,organizationId:ie}),Cl(!1)},className:"w-full bg-[#002b49] text-white py-4 rounded-xl font-black uppercase text-[10px] tracking-widest shadow-lg",children:"Launch Toolkit"})]})]})}),Ke&&d.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[32px] p-8 shadow-2xl animate-in zoom-in-95 duration-200",children:[d.jsx("h3",{className:"text-xl font-black text-slate-900 mb-6 uppercase tracking-tight",children:et?"Edit Candidate":"Register Candidate"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{placeholder:"Full Name",value:ne.fullName,onChange:y=>Re({...ne,fullName:y.target.value}),className:"w-full p-4 bg-white border border-slate-200 rounded-2xl outline-none shadow-sm focus:ring-4 focus:ring-slate-100 transition-all font-medium"}),d.jsx("input",{placeholder:"Email Address",value:ne.email,onChange:y=>Re({...ne,email:y.target.value}),className:"w-full p-4 bg-white border border-slate-200 rounded-2xl outline-none shadow-sm focus:ring-4 focus:ring-slate-100 transition-all font-medium"}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx("button",{onClick:()=>{ke(!1),Qe(!1),D(null),Re({email:"",fullName:""})},className:"flex-1 py-4 text-slate-400 font-black uppercase text-[10px] tracking-widest hover:text-slate-600",children:"Cancel"}),d.jsx("button",{onClick:et?ql:Ss,className:"flex-1 bg-[#002b49] text-white py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:scale-[1.02] active:scale-95 transition-all",children:et?"Update":"Register"})]})]})]})}),ys&&d.jsx(Ns,{question:ys,onClose:()=>Vn(null),onSave:zl}),xi&&d.jsx(px,{existingCategories:B.map(y=>y.name),onSaveQuestions:Ll,onClose:()=>xs(!1),organizationId:ie,aiSettings:pt}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[d.jsxs("div",{children:[s&&d.jsxs("div",{className:"text-[10px] font-black uppercase text-indigo-400 tracking-widest mb-1",children:["Logged in: ",d.jsx("span",{className:"text-slate-600",children:s.email})]}),d.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase leading-none",children:"Recruitment Hub"}),d.jsx("p",{className:"text-[#002b49] font-bold uppercase tracking-[0.2em] text-[10px] mt-2",children:"Central Data Architecture & Quality Control"}),(s==null?void 0:s.role)==="super_admin"&&d.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[d.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:"Context:"}),d.jsxs("select",{value:ie||"",onChange:y=>_e(y.target.value),className:"bg-slate-50 border border-slate-200 rounded-lg text-xs font-bold text-slate-700 py-1 px-3 outline-none focus:ring-2 focus:ring-indigo-100",children:[d.jsx("option",{value:"",children:"Select Organization"}),Y.map(y=>d.jsx("option",{value:y.id,children:y.name},y.id))]})]})]}),d.jsxs("div",{className:"flex gap-4",children:[ee==="questions"&&d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:()=>xs(!0),className:"bg-indigo-600 text-white px-6 py-2 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-indigo-200 hover:bg-indigo-700 transition-all flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:""})," AI Architect"]}),d.jsx("button",{onClick:()=>Vn({}),className:"bg-[#d4af37] text-[#002b49] px-6 py-2 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-amber-200",children:"+ Manual Add"})]}),d.jsx("button",{onClick:()=>{qa(),ee==="questions"&&Xt(wt,Qt,Oa,Xe),ee==="audit"&&Ca()},className:"bg-[#002b49] text-white px-6 py-2 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg",children:"Refresh Hub"}),n&&d.jsx("button",{onClick:n,className:"bg-red-50 text-red-600 px-6 py-2 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg hover:bg-red-100 transition-all",children:"Exit Hub"})]})]}),d.jsxs("div",{className:"flex border-b border-slate-200 mb-10 gap-8 overflow-x-auto no-scrollbar",children:[["leaderboard","assessments","questions","config","candidates"].map(y=>d.jsx("button",{onClick:()=>{P(y),y==="questions"&&Aa(1)},className:`px-2 py-4 font-black text-[10px] uppercase tracking-[0.2em] transition-all border-b-2 whitespace-nowrap ${ee===y?"border-[#002b49] text-[#002b49]":"border-transparent text-slate-300 hover:text-slate-400"}`,children:y==="questions"?" Question Bank":y==="assessments"?" Evaluate":y==="candidates"?" Candidates":y},y)),(s==null?void 0:s.role)==="super_admin"&&["organizations","users","audit"].map(y=>d.jsx("button",{onClick:()=>P(y),className:`px-2 py-4 font-black text-[10px] uppercase tracking-[0.2em] transition-all border-b-2 whitespace-nowrap ${ee===y?"border-[#002b49] text-[#002b49]":"border-transparent text-slate-300 hover:text-slate-400"}`,children:y==="organizations"?" Organizations":y==="users"?" Users":" Audit Logs"},y))]}),ia&&!La&&ee!=="questions"?d.jsxs("div",{className:"py-32 flex flex-col items-center justify-center gap-6 text-center",children:[d.jsx("div",{className:"w-14 h-14 border-4 border-slate-100 border-t-[#002b49] rounded-full animate-spin"}),d.jsx("p",{className:"text-slate-300 font-black uppercase text-[11px] tracking-[0.5em] animate-pulse",children:"Syncing Distributed Systems"})]}):d.jsxs("div",{className:"pb-24",children:[La&&d.jsx("div",{className:`mb-8 p-6 rounded-3xl text-center font-black uppercase text-[10px] tracking-widest border-2 shadow-sm transition-all animate-bounce ${La.type==="success"?"bg-green-50 border-green-100 text-green-600":La.type==="error"?"bg-red-50 border-red-100 text-red-600":"bg-indigo-50 border-indigo-100 text-indigo-600"}`,children:La.text}),ee==="leaderboard"&&d.jsx("div",{className:"bg-white rounded-[40px] border border-slate-100 shadow-2xl flex flex-col max-h-[70vh] overflow-hidden",children:Ml.length>0?d.jsx("div",{className:"overflow-auto flex-1 w-full",children:d.jsxs("table",{className:"w-full text-left min-w-[1000px]",children:[d.jsx("thead",{className:"bg-slate-50 sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-10 py-5 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Rank"}),d.jsx("th",{className:"px-10 py-5 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Candidate Profile"}),d.jsx("th",{className:"px-10 py-5 text-[9px] font-black uppercase text-slate-400 tracking-widest text-center",children:"Test Score"}),d.jsx("th",{className:"px-10 py-5 text-[9px] font-black uppercase text-slate-400 tracking-widest text-center",children:"AI Verdict"}),d.jsx("th",{className:"px-10 py-5 text-[9px] font-black uppercase text-slate-400 tracking-widest text-center",children:"Interviewer"}),d.jsx("th",{className:"px-10 py-5"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-50",children:Ml.map((y,H)=>{var oe,qe,W,Ae,De,Ne,Et,la,ya,xa,Ce,Ga;return d.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[d.jsxs("td",{className:"px-10 py-8 font-black text-slate-200 text-4xl italic tracking-tighter",children:["#",H+1]}),d.jsxs("td",{className:"px-10 py-8",children:[d.jsx("div",{className:"font-black text-slate-900 text-xl tracking-tight leading-none mb-1",children:y.candidateName}),d.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:y.candidateEmail})]}),d.jsx("td",{className:"px-10 py-8 text-center",children:d.jsxs("span",{className:"text-2xl font-black text-[#002b49] tracking-tighter",children:[y.scorePercent.toFixed(2),"%"]})}),d.jsx("td",{className:"px-10 py-8 text-center",children:(oe=b.find(at=>at.candidateEmail===y.candidateEmail))!=null&&oe.aiVerdict?d.jsx("span",{className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 ${((W=(qe=b.find(at=>at.candidateEmail===y.candidateEmail))==null?void 0:qe.aiVerdict)==null?void 0:W.decision)==="Hire"?"bg-green-50 text-green-600 border-green-100":((De=(Ae=b.find(at=>at.candidateEmail===y.candidateEmail))==null?void 0:Ae.aiVerdict)==null?void 0:De.decision)==="No Hire"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:(Et=(Ne=b.find(at=>at.candidateEmail===y.candidateEmail))==null?void 0:Ne.aiVerdict)==null?void 0:Et.decision}):d.jsx("span",{className:"px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 bg-blue-50 text-blue-600 border-blue-100",children:"TBD"})}),d.jsx("td",{className:"px-10 py-8 text-center",children:(la=b.find(at=>at.candidateEmail===y.candidateEmail))!=null&&la.finalOutcome?d.jsx("span",{className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 ${((ya=b.find(at=>at.candidateEmail===y.candidateEmail))==null?void 0:ya.finalOutcome)==="Offer"?"bg-green-50 text-green-600 border-green-100":((xa=b.find(at=>at.candidateEmail===y.candidateEmail))==null?void 0:xa.finalOutcome)==="Decline"?"bg-red-50 text-red-600 border-red-100":(((Ce=b.find(at=>at.candidateEmail===y.candidateEmail))==null?void 0:Ce.finalOutcome)==="On Hold","bg-amber-50 text-amber-600 border-amber-100")}`,children:(Ga=b.find(at=>at.candidateEmail===y.candidateEmail))==null?void 0:Ga.finalOutcome}):d.jsx("span",{className:"px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 bg-blue-50 text-blue-600 border-blue-100",children:"TBD"})}),d.jsx("td",{className:"px-10 py-8 text-right flex items-center justify-end gap-3",children:d.jsx("button",{onClick:()=>vs(y),className:"bg-[#002b49] text-white px-6 py-3 rounded-2xl text-[9px] font-black uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg active:scale-95",children:"View Analytics"})})]},y.attemptId)})})]})}):d.jsxs("div",{className:"py-48 text-center bg-slate-50/30",children:[d.jsx("p",{className:"text-slate-300 font-bold uppercase text-[11px] tracking-[0.4em] mb-10",children:"System remains unpopulated"}),!pa.connected&&d.jsx("button",{onClick:()=>P("config"),className:"bg-[#002b49] text-white px-12 py-5 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-2xl",children:"Establish Connectivity"})]})}),ee==="assessments"&&d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-10",children:[d.jsxs("div",{className:"bg-[#002b49] rounded-[48px] p-12 flex flex-col items-center justify-center text-center border-4 border-[#d4af37] shadow-2xl hover:scale-[1.03] transition-all min-h-[400px]",children:[d.jsx("div",{className:"w-20 h-20 bg-[#d4af37] text-[#002b49] rounded-[32px] flex items-center justify-center text-4xl font-black mb-8 shadow-xl shadow-[#d4af37]/20",children:"+"}),d.jsx("h3",{className:"text-white font-black uppercase tracking-widest text-base mb-3",children:"Direct Entry"}),d.jsx("p",{className:"text-white/40 text-[9px] mb-10 font-bold uppercase tracking-[0.2em] leading-relaxed max-w-[200px]",children:"Manual leadership evaluation for walk-in candidates"}),d.jsx("button",{onClick:()=>Cl(!0),className:"w-full bg-white text-[#002b49] py-5 rounded-3xl font-black uppercase text-[10px] tracking-widest hover:shadow-2xl transition-all",children:"Launch manual tool"})]}),g.filter(y=>{const H=J.find(oe=>oe.id===y.candidateId||oe.email===y.candidateEmail);return(H==null?void 0:H.status)==="Attempted"}).map(y=>{const H=b.find(oe=>oe.candidateEmail===y.candidateEmail);return d.jsxs("div",{className:"bg-white rounded-[48px] p-10 border border-slate-100 shadow-xl flex flex-col justify-between hover:shadow-2xl transition-all group",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-[9px] font-black uppercase text-indigo-600 mb-6 flex justify-between items-center bg-indigo-50/50 px-4 py-2 rounded-full",children:[d.jsx("span",{className:"tracking-widest",children:"CAPABILITY STATUS"}),H?d.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full font-black text-[8px]",children:"EVALUATED"}):d.jsx("span",{className:"bg-amber-100 text-amber-700 px-3 py-1 rounded-full font-black text-[8px]",children:"PENDING"})]}),d.jsx("div",{className:"text-2xl font-black text-slate-900 mb-2 leading-none tracking-tighter group-hover:text-[#002b49] transition-colors",children:y.candidateName}),d.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-8 truncate",children:y.candidateEmail}),d.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl flex justify-between items-center mb-10 border border-slate-100 shadow-inner overflow-hidden",children:[d.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest whitespace-nowrap mr-2",children:"Technical score"}),d.jsxs("span",{className:"text-lg font-black text-slate-900 tracking-tighter",children:[y.scorePercent.toFixed(2),"%"]})]})]}),d.jsx("button",{onClick:()=>i({candidateName:y.candidateName,candidateEmail:y.candidateEmail,organizationId:ie,candidateId:y.candidateId}),className:`w-full py-5 rounded-3xl font-black uppercase text-[10px] tracking-widest transition-all ${H?"bg-slate-100 text-slate-400 hover:bg-slate-200":"bg-[#002b49] text-[#d4af37] shadow-xl hover:bg-[#002b49]/90"}`,children:H?"Review capability":"Conduct Assessment"})]},y.attemptId)})]}),ee==="questions"&&d.jsxs("div",{className:"space-y-10",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-6 bg-white p-8 rounded-[32px] border border-slate-100 shadow-sm items-end",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 block",children:"Search Query"}),d.jsx("input",{placeholder:"Filter by question text...",value:Xe,onChange:y=>{kt(y.target.value),Aa(1)},className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-4 focus:ring-indigo-100 font-bold"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-2 block",children:"Category Filter"}),d.jsxs("select",{value:Oa,onChange:y=>{ka(y.target.value),Aa(1)},className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-black text-slate-600 cursor-pointer",children:[d.jsx("option",{value:"",children:"All Domains"}),Jn().map(y=>d.jsx("option",{value:y,children:y},y))]})]})]}),!ia&&E.length>0&&d.jsx(Ai,{}),ia?d.jsxs("div",{className:"py-24 flex flex-col items-center justify-center gap-6",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-slate-100 border-t-indigo-600 rounded-full animate-spin"}),d.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Updating View..."})]}):d.jsx("div",{className:"space-y-8",children:E.length>0?d.jsxs(d.Fragment,{children:[E.map(y=>d.jsx("div",{className:`bg-white rounded-[32px] p-6 border border-slate-100 shadow-xl flex flex-col gap-6 hover:shadow-2xl transition-all ${y.isActive?"":"opacity-40"}`,children:d.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-6",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[d.jsx("span",{className:"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-widest border border-indigo-100",children:y.category}),d.jsx("span",{className:"bg-slate-50 text-slate-500 px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-widest border border-slate-100",children:y.difficulty}),!y.isActive&&d.jsx("span",{className:"bg-red-50 text-red-600 px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-widest border border-red-100",children:"Hidden from bank"})]}),d.jsx("p",{className:"text-sm font-bold text-slate-900 leading-relaxed tracking-tight mb-6",children:y.text}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["A","B","C","D"].map(H=>{const oe=y.correctOption===H;return d.jsxs("div",{className:`flex items-center p-3 rounded-2xl border-2 transition-all ${oe?"bg-green-50 border-green-200 text-green-900 shadow-sm":"bg-white border-slate-50 text-slate-500"}`,children:[d.jsx("div",{className:`w-6 h-6 flex items-center justify-center rounded-lg font-black text-[10px] mr-3 shrink-0 shadow-sm ${oe?"bg-green-600 text-white":"bg-slate-100 text-slate-400"}`,children:H}),d.jsx("span",{className:"text-[10px] font-semibold leading-snug",children:y.options[H]})]},H)})})]}),d.jsxs("div",{className:"flex lg:flex-col gap-2 shrink-0 pt-1",children:[d.jsx("button",{onClick:()=>Vn(y),className:"px-6 py-2 bg-[#002b49] text-[#d4af37] rounded-xl text-[8px] font-black uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg active:scale-95",children:"Update"}),d.jsx("button",{onClick:()=>Ha(y.id),className:"px-6 py-2 bg-red-50 text-red-600 rounded-xl text-[8px] font-black uppercase tracking-widest hover:bg-red-100 transition-all",children:"Delete"})]})]})},y.id)),d.jsx(Ai,{})]}):d.jsxs("div",{className:"py-32 text-center bg-white rounded-[48px] border-2 border-dashed border-slate-100 shadow-inner",children:[d.jsx("p",{className:"text-slate-300 font-black uppercase text-[11px] tracking-[0.5em] mb-4",children:"No matching questions found"}),d.jsx("p",{className:"text-slate-400 font-bold text-[10px] uppercase tracking-widest",children:"Use AI Architect or Manual Add to create question bank"})]})})]}),ee==="candidates"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tighter",children:"Registered Candidates"}),d.jsx("button",{onClick:()=>ke(!0),className:"bg-[#002b49] text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-lg hover:bg-slate-800 transition-all",children:"+ Register Candidate"})]}),d.jsx("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-sm overflow-hidden min-h-[400px]",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-8 py-5 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Name"}),d.jsx("th",{className:"px-8 py-5 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Email"}),d.jsx("th",{className:"px-8 py-5 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),d.jsx("th",{className:"px-8 py-5 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Added"}),d.jsx("th",{className:"px-8 py-5 text-right"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-50",children:[J.map(y=>d.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[d.jsx("td",{className:"px-8 py-5 font-bold text-sm text-slate-700",children:y.fullName}),d.jsx("td",{className:"px-8 py-5 font-medium text-xs text-slate-500",children:y.email}),d.jsx("td",{className:"px-8 py-5",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-wide border ${y.status==="Opted Out"?"bg-amber-50 text-amber-700 border-amber-100":y.status==="Registered"||y.status==="Re-registered"?"bg-blue-50 text-blue-700 border-blue-100":"bg-green-50 text-green-700 border-green-100"}`,children:y.status})}),d.jsx("td",{className:"px-8 py-5 text-[10px] text-slate-400",children:y.createdAt?new Date(y.createdAt).toLocaleDateString():"-"}),d.jsxs("td",{className:"px-8 py-5 text-right flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:()=>{const H=g.find(oe=>oe.candidateEmail===y.email);H&&vs(H)},disabled:y.status!=="Attempted",className:`p-2 rounded-lg transition-colors ${y.status==="Attempted"?"text-[#002b49] hover:text-slate-800 hover:bg-slate-50":"text-slate-200 cursor-not-allowed"}`,title:y.status==="Attempted"?"View Analytics":"Candidate has not attempted exam",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),d.jsx("button",{onClick:()=>i({candidateName:y.fullName,candidateEmail:y.email,organizationId:ie,candidateId:y.id}),disabled:y.status!=="Attempted",className:`p-2 rounded-lg transition-colors ${y.status==="Attempted"?"text-indigo-500 hover:text-indigo-700 hover:bg-indigo-50":"text-slate-200 cursor-not-allowed"}`,title:y.status==="Attempted"?"Evaluate Candidate":"Candidate has not attempted exam",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),d.jsx("button",{onClick:()=>{Re({email:y.email,fullName:y.fullName}),D(y.id),Qe(!0),ke(!0)},className:"p-2 text-indigo-500 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors",title:"Edit Candidate",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),d.jsx("button",{onClick:()=>ji(y.id),className:"p-2 text-slate-400 hover:text-[#002b49] hover:bg-slate-100 rounded-lg transition-colors",title:"Reset Candidate",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),d.jsx("button",{onClick:()=>po(y.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove Candidate",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},y.id)),J.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"py-24 text-center text-slate-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsx("span",{className:"font-bold uppercase text-xs tracking-widest",children:"No candidates found"})]})})})]})]})})]}),ee==="organizations"&&d.jsxs("div",{className:"grid grid-cols-1 gap-10",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-3xl font-black text-[#002b49] uppercase tracking-tighter mb-2 leading-none",children:"Organization Registry"}),d.jsx("p",{className:"text-slate-400 text-[11px] font-bold uppercase tracking-[0.3em]",children:"Manage partner entities and administrators"})]}),d.jsx("button",{onClick:()=>{z({id:"",name:"",adminName:"",adminEmail:"",aiLimit:0}),F(!0),L(!1)},className:"bg-[#002b49] text-white px-8 py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:scale-[1.02] active:scale-95 transition-all",children:"+ Add Entity"})]}),Q&&d.jsxs("div",{className:"bg-indigo-50 p-8 rounded-[32px] border-2 border-indigo-100 shadow-lg animate-in fade-in slide-in-from-top-4",children:[d.jsx("h4",{className:"text-[10px] font-black text-indigo-800 uppercase tracking-widest mb-6",children:_?"Edit Organization Profile":"New Organization Profile"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-2 block",children:"Organization Name"}),d.jsx("input",{value:U.name,onChange:y=>z(H=>({...H,name:y.target.value})),placeholder:"e.g. Acme Corp",className:`w-full p-4 bg-white border border-indigo-200 rounded-2xl font-bold text-slate-800 outline-none focus:ring-4 focus:ring-indigo-100 ${_?"opacity-60 cursor-not-allowed":""}`,disabled:_}),d.jsx("p",{className:"text-[8px] text-indigo-400 mt-2 font-bold px-1",children:"* Saved as lowercase"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-2 block",children:"Admin Name"}),d.jsx("input",{value:U.adminName,onChange:y=>z(H=>({...H,adminName:y.target.value})),placeholder:"Full Name",className:"w-full p-4 bg-white border border-indigo-200 rounded-2xl font-bold text-slate-800 outline-none focus:ring-4 focus:ring-indigo-100"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-2 block",children:"Admin Email"}),d.jsx("input",{value:U.adminEmail,onChange:y=>z(H=>({...H,adminEmail:y.target.value})),placeholder:"admin@company.com",type:"email",className:"w-full p-4 bg-white border border-indigo-200 rounded-2xl font-bold text-slate-800 outline-none focus:ring-4 focus:ring-indigo-100"})]}),(s==null?void 0:s.role)==="super_admin"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-2 block",children:"Free AI Requests"}),d.jsx("input",{type:"number",value:U.aiLimit,onChange:y=>z(H=>({...H,aiLimit:parseInt(y.target.value)||0})),placeholder:"e.g. 100",className:"w-full p-4 bg-white border border-indigo-200 rounded-2xl font-bold text-slate-800 outline-none focus:ring-4 focus:ring-indigo-100"})]})]}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx("button",{onClick:()=>{F(!1),L(!1)},className:"px-8 py-3 text-indigo-400 font-black uppercase text-[10px] tracking-widest hover:text-indigo-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:_?Ni:va,className:"bg-indigo-600 text-white px-8 py-3 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:bg-indigo-700 transition-all",children:_?"Update Profile":"Create Profile"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Y.map(y=>d.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-lg hover:shadow-xl transition-all group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-slate-50 text-slate-300 rounded-2xl flex items-center justify-center text-lg font-black uppercase group-hover:bg-[#002b49] group-hover:text-[#d4af37] transition-colors duration-500",children:y.name.substring(0,2)}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-black text-slate-900 capitalize mb-1",children:y.name}),d.jsx("span",{className:"bg-slate-50 text-slate-400 px-2 py-0.5 rounded-full text-[7px] font-black uppercase tracking-widest border border-slate-100",children:y.createdAt?new Date(y.createdAt).toLocaleDateString():"N/A"})]})]}),d.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>{z({id:y.id,name:y.name,adminName:y.adminName,adminEmail:y.adminEmail,aiLimit:y.aiLimit}),L(!0),F(!0)},className:"p-2 text-indigo-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Edit",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),d.jsx("button",{onClick:()=>Ti(y.id),className:"p-2 text-red-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-4 flex justify-between items-center",children:[d.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Free AI Balance"}),d.jsxs("span",{className:"text-sm font-black text-[#002b49]",children:[y.aiLimit," Requests"]})]})}),d.jsx("div",{className:"pt-6 border-t border-slate-50",children:d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 text-[10px] font-black",children:y.adminName.substring(0,1)}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold text-slate-700",children:y.adminName}),d.jsx("p",{className:"text-[9px] font-medium text-slate-400",children:y.adminEmail})]})]})})]},y.id)),Y.length===0&&!Q&&d.jsx("div",{className:"col-span-full py-24 text-center border-2 border-dashed border-slate-100 rounded-[32px]",children:d.jsx("p",{className:"text-slate-300 font-black uppercase text-[11px] tracking-[0.4em]",children:"No organizations registered"})})]})]}),ee==="users"&&d.jsxs("div",{className:"grid grid-cols-1 gap-10",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-3xl font-black text-[#002b49] uppercase tracking-tighter mb-2 leading-none",children:"User Management"}),d.jsx("p",{className:"text-slate-400 text-[11px] font-bold uppercase tracking-[0.3em]",children:"Manage access and roles"})]}),d.jsx("button",{onClick:()=>{Dt({id:"",email:"",fullName:"",role:"admin"}),Kt(!0),ga(!1)},className:"bg-[#002b49] text-white px-8 py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:scale-[1.02] active:scale-95 transition-all",children:"+ Add User"})]}),Ut&&d.jsxs("div",{className:"bg-indigo-50 p-8 rounded-[32px] border-2 border-indigo-100 shadow-lg animate-in fade-in slide-in-from-top-4",children:[d.jsx("h4",{className:"text-[10px] font-black text-indigo-800 uppercase tracking-widest mb-6",children:zt?"Edit User":"New User"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-2 block",children:"Full Name"}),d.jsx("input",{value:lt.fullName,onChange:y=>Dt(H=>({...H,fullName:y.target.value})),placeholder:"John Doe",className:"w-full p-4 bg-white border border-indigo-200 rounded-2xl font-bold text-slate-800 outline-none focus:ring-4 focus:ring-indigo-100"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-2 block",children:"Email Address"}),d.jsx("input",{value:lt.email,onChange:y=>Dt(H=>({...H,email:y.target.value})),placeholder:"john@example.com",type:"email",className:"w-full p-4 bg-white border border-indigo-200 rounded-2xl font-bold text-slate-800 outline-none focus:ring-4 focus:ring-indigo-100"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-2 block",children:"Role"}),d.jsxs("select",{value:lt.role,onChange:y=>Dt(H=>({...H,role:y.target.value})),className:"w-full p-4 bg-white border border-indigo-200 rounded-2xl font-bold text-slate-800 outline-none focus:ring-4 focus:ring-indigo-100 appearance-none",children:[d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"super_admin",children:"Super Admin"})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx("button",{onClick:()=>{Kt(!1),ga(!1)},className:"px-8 py-3 text-indigo-400 font-black uppercase text-[10px] tracking-widest hover:text-indigo-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:zt?Bl:Bt,className:"bg-indigo-600 text-white px-8 py-3 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:bg-indigo-700 transition-all",children:zt?"Update User":"Create User"})]})]}),d.jsx("div",{className:"bg-white rounded-[32px] border border-slate-100 shadow-xl overflow-hidden",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-6 text-[8px] font-black uppercase text-slate-400 tracking-widest",children:"Name"}),d.jsx("th",{className:"p-6 text-[8px] font-black uppercase text-slate-400 tracking-widest",children:"Email"}),d.jsx("th",{className:"p-6 text-[8px] font-black uppercase text-slate-400 tracking-widest",children:"Role"}),d.jsx("th",{className:"p-6 text-[8px] font-black uppercase text-slate-400 tracking-widest text-right",children:"Actions"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100",children:[$.map(y=>d.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[d.jsx("td",{className:"p-6 font-bold text-sm text-slate-700",children:y.fullName}),d.jsx("td",{className:"p-6 font-medium text-xs text-slate-500",children:y.email}),d.jsx("td",{className:"p-6",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-widest border ${y.role==="super_admin"?"bg-purple-50 text-purple-600 border-purple-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:y.role.replace("_"," ")})}),d.jsx("td",{className:"p-6 text-right",children:d.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>{Dt({id:y.id,email:y.email,fullName:y.fullName,role:y.role}),ga(!0),Kt(!0)},className:"p-2 text-indigo-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Edit",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),d.jsx("button",{onClick:()=>go(y.id),className:"p-2 text-red-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",title:"Delete",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},y.id)),$.length===0&&!Ut&&d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"p-12 text-center text-slate-300 font-black uppercase text-[11px] tracking-[0.4em]",children:"No users found"})})]})]})})]}),ee==="config"&&d.jsx("div",{className:"grid lg:grid-cols-1 gap-12",children:d.jsxs("div",{className:"bg-white rounded-[40px] p-10 shadow-xl border border-slate-100",children:[d.jsxs("div",{className:"flex justify-between items-start mb-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter",children:"System Configuration"}),d.jsx("p",{className:"text-slate-400 text-[11px] font-bold uppercase tracking-[0.3em] mt-1",children:"Manage AI integration and assessment rules"})]}),d.jsx("button",{onClick:Xn,className:"bg-[#d4af37] text-[#002b49] px-8 py-3 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl shadow-[#d4af37]/10 hover:scale-[1.02] active:scale-95 transition-all",children:"Sync to Cloud"})]}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[(s==null?void 0:s.role)==="super_admin"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-slate-50 p-8 rounded-[32px] border border-slate-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold text-slate-900 leading-none",children:"GenAI Configuration"}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Provider & Model Settings"})]})]}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"AI Provider"}),d.jsxs("select",{value:pt.provider,onChange:y=>Ia({...pt,provider:y.target.value}),className:"w-full p-4 bg-white border-2 border-slate-200 rounded-2xl font-bold text-slate-700 outline-none focus:border-purple-200 transition-colors",children:[d.jsx("option",{value:"gemini",children:"Google Gemini"}),d.jsx("option",{value:"openai",children:"OpenAI"}),d.jsx("option",{value:"claude",children:"Anthropic Claude"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Model Name"}),d.jsx("input",{type:"text",value:pt.model,onChange:y=>Ia({...pt,model:y.target.value}),placeholder:pt.provider==="gemini"?"gemini-2.0-flash":pt.provider==="openai"?"gpt-4o":"claude-3-5-sonnet-20241022",className:"w-full p-4 bg-white border-2 border-slate-200 rounded-2xl font-bold text-slate-700 outline-none focus:border-purple-200 transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"API Key"}),d.jsx("input",{type:"password",value:pt.apiKey,onChange:y=>Ia({...pt,apiKey:y.target.value}),placeholder:`Enter your ${pt.provider} API key`,className:"w-full p-4 bg-white border-2 border-slate-200 rounded-2xl font-bold text-slate-700 outline-none focus:border-purple-200 transition-colors"})]})]})]})}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Assessment Parameters"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Total Duration (Mins)"}),d.jsx("input",{type:"number",value:It.overallTimeLimitMins,onChange:y=>Yn({...It,overallTimeLimitMins:Number(y.target.value)}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-black text-slate-900 outline-none focus:bg-white focus:border-indigo-100 transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Per Question (Secs)"}),d.jsx("input",{type:"number",value:It.questionTimeLimitSecs,onChange:y=>Yn({...It,questionTimeLimitSecs:Number(y.target.value)}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-black text-slate-900 outline-none focus:bg-white focus:border-indigo-100 transition-colors"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Total Questions to Ask"}),d.jsx("input",{type:"number",value:It.totalQuestions,onChange:y=>Yn({...It,totalQuestions:Number(y.target.value)}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-black text-slate-900 outline-none focus:bg-white focus:border-indigo-100 transition-colors"})]})]})]}),d.jsx("div",{className:"p-6 bg-indigo-50 rounded-3xl border border-indigo-100",children:d.jsxs("div",{className:"flex justify-between items-center font-black uppercase text-[10px] tracking-widest text-indigo-700",children:[d.jsx("span",{children:"Total Configured Pick:"}),d.jsxs("span",{className:`text-xl tracking-tighter ${Object.values(It.questionsPerSection).reduce((y,H)=>y+H,0)!==It.totalQuestions?"text-amber-600":"text-green-600"}`,children:[Object.values(It.questionsPerSection).reduce((y,H)=>y+H,0)," / ",It.totalQuestions]})]})})]})]}),d.jsxs("div",{className:"mt-10 border-t border-slate-100 pt-10",children:[d.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:"Question Distribution by Section"}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Jn().map(y=>d.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 shadow-inner group relative",children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block truncate",title:y,children:y}),d.jsx("input",{type:"number",value:It.questionsPerSection[y]||0,onChange:H=>Es(y,Number(H.target.value)),className:"w-full p-4 bg-white border-2 border-slate-100 rounded-2xl font-black text-slate-900 outline-none focus:border-indigo-400 shadow-sm transition-all"})]},y)),_i?d.jsxs("div",{className:"bg-indigo-50 p-6 rounded-3xl border-2 border-indigo-200 shadow-lg animate-in fade-in slide-in-from-bottom-2 duration-300",children:[d.jsx("label",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest mb-2 block",children:"NEW SECTION NAME"}),d.jsx("input",{autoFocus:!0,placeholder:"e.g. Data Modeling",value:Dl,onChange:y=>cn(y.target.value),onKeyDown:y=>y.key==="Enter"&&Il(),className:"w-full p-4 bg-white border-2 border-indigo-100 rounded-2xl font-black text-slate-900 outline-none focus:border-indigo-400 mb-3"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:Il,className:"flex-1 bg-indigo-600 text-white py-2 rounded-xl text-[9px] font-black uppercase tracking-widest",children:"Add"}),d.jsx("button",{onClick:()=>{un(!1),cn("")},className:"flex-1 bg-white text-indigo-400 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest border border-indigo-100",children:"Cancel"})]})]}):d.jsxs("button",{onClick:()=>un(!0),className:"bg-white border-4 border-dashed border-slate-100 rounded-3xl p-6 flex flex-col items-center justify-center gap-2 hover:border-[#d4af37] hover:bg-slate-50 transition-all text-slate-300 hover:text-[#d4af37]",children:[d.jsx("span",{className:"text-2xl font-black",children:"+"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Add Section"})]})]})]})]})}),(s==null?void 0:s.role)==="super_admin"&&ee==="config"&&d.jsxs("div",{className:"bg-[#002b49] rounded-[48px] p-12 shadow-2xl border border-white/5 mt-10",children:[d.jsx("h3",{className:"text-3xl font-black text-white uppercase tracking-tighter mb-2 leading-none",children:"Infrastructure"}),d.jsx("p",{className:"text-white/40 text-[11px] font-bold uppercase tracking-[0.3em] mb-12",children:"Cloud synchronization & health"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 bg-white/5 border border-white/10 rounded-3xl",children:[d.jsx("span",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest",children:"Global connection"}),d.jsx("span",{className:`px-5 py-2 rounded-full text-[10px] font-black uppercase tracking-widest ${pa.connected?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:pa.connected?"ONLINE":"DISCONNECTED"})]}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:["questions","results","evaluations","settings","sections","organizations","users"].map(y=>d.jsxs("div",{className:"flex justify-between items-center p-6 bg-white rounded-3xl shadow-lg border-b-4 border-slate-100",children:[d.jsxs("span",{className:"text-[11px] font-black uppercase text-slate-800 tracking-widest",children:[y," collection"]}),d.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest ${pa.tables[y]?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:pa.tables[y]?"VERIFIED":"NOT FOUND"})]},y))}),!Object.values(pa.tables).every(y=>y)&&d.jsxs("div",{className:"mt-8 pt-10 border-t border-white/5",children:[d.jsx("p",{className:"text-[11px] text-amber-400 font-black uppercase tracking-widest mb-6 text-center",children:"Protocol deviation detected: Table schema required."}),d.jsx("p",{className:"text-[9px] text-white/40 font-bold uppercase mb-6 text-center",children:'If "settings" or other tables are "NOT FOUND", please execute the SQL script in your Supabase SQL Editor.'}),d.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`
-- Disable Row Level Security (RLS)
ALTER TABLE sections DISABLE ROW LEVEL SECURITY;
ALTER TABLE questions DISABLE ROW LEVEL SECURITY;
ALTER TABLE results DISABLE ROW LEVEL SECURITY;
ALTER TABLE evaluations DISABLE ROW LEVEL SECURITY;
ALTER TABLE settings DISABLE ROW LEVEL SECURITY;
ALTER TABLE organizations DISABLE ROW LEVEL SECURITY;
ALTER TABLE users DISABLE ROW LEVEL SECURITY;

-- MIGRATION: Multi-tenancy Support (Ensure both potential default IDs exist)
INSERT INTO organizations (id, name, admin_name, admin_email)
VALUES 
  ('55147170-54ed-4fdd-840b-66f81cbc1883', 'System Organization', 'System Admin', 'admin@system.com'),
  ('a956050a-8eb5-44e0-8725-24269181038c', 'Default Organization', 'System Admin', 'admin@default.com')
ON CONFLICT (id) DO NOTHING;

-- Create Tables with organization_id support (Defaults to System Org)
CREATE TABLE IF NOT EXISTS organizations (id TEXT PRIMARY KEY DEFAULT gen_random_uuid(), name TEXT, admin_name TEXT, admin_email TEXT, created_by TEXT, created_at TIMESTAMPTZ DEFAULT now(), updated_at TIMESTAMPTZ DEFAULT now());

CREATE TABLE IF NOT EXISTS sections (name TEXT, organization_id TEXT REFERENCES organizations(id) DEFAULT '55147170-54ed-4fdd-840b-66f81cbc1883', is_active BOOLEAN DEFAULT true, created_at TIMESTAMPTZ DEFAULT now(), PRIMARY KEY (name, organization_id));

CREATE TABLE IF NOT EXISTS questions (id TEXT PRIMARY KEY, section_name TEXT NOT NULL, organization_id TEXT REFERENCES organizations(id) DEFAULT '55147170-54ed-4fdd-840b-66f81cbc1883', difficulty TEXT NOT NULL, text TEXT NOT NULL, options JSONB NOT NULL, correct_option CHAR(1) NOT NULL, is_active BOOLEAN DEFAULT true, created_at TIMESTAMPTZ DEFAULT now(), FOREIGN KEY (section_name, organization_id) REFERENCES sections(name, organization_id) ON UPDATE CASCADE);

CREATE TABLE IF NOT EXISTS results (id TEXT PRIMARY KEY, organization_id TEXT REFERENCES organizations(id) DEFAULT '55147170-54ed-4fdd-840b-66f81cbc1883', candidate_name TEXT NOT NULL, candidate_email TEXT NOT NULL, started_at TIMESTAMPTZ NOT NULL, submitted_at TIMESTAMPTZ NOT NULL, total_time_taken_sec INTEGER NOT NULL, total_questions INTEGER NOT NULL, attempted_count INTEGER NOT NULL, missed_count INTEGER NOT NULL, correct_count INTEGER NOT NULL, wrong_count INTEGER NOT NULL, avg_time_per_answered_sec DECIMAL NOT NULL, score_percent DECIMAL NOT NULL, answers_json JSONB NOT NULL, created_at TIMESTAMPTZ DEFAULT now());

CREATE TABLE IF NOT EXISTS evaluations (id TEXT PRIMARY KEY, organization_id TEXT REFERENCES organizations(id) DEFAULT '55147170-54ed-4fdd-840b-66f81cbc1883', candidate_email TEXT NOT NULL, interviewer_name TEXT NOT NULL, level TEXT NOT NULL, ratings JSONB NOT NULL, notes JSONB NOT NULL, final_outcome TEXT NOT NULL, final_comments TEXT, submitted_at TIMESTAMPTZ NOT NULL, created_at TIMESTAMPTZ DEFAULT now());

CREATE TABLE IF NOT EXISTS settings (key TEXT, organization_id TEXT REFERENCES organizations(id) DEFAULT '55147170-54ed-4fdd-840b-66f81cbc1883', value JSONB NOT NULL, updated_at TIMESTAMPTZ DEFAULT now(), PRIMARY KEY (key, organization_id));

CREATE TABLE IF NOT EXISTS users (id TEXT PRIMARY KEY DEFAULT gen_random_uuid(), organization_id TEXT REFERENCES organizations(id) DEFAULT '55147170-54ed-4fdd-840b-66f81cbc1883', email TEXT NOT NULL UNIQUE, full_name TEXT NOT NULL, role TEXT CHECK (role IN ('super_admin', 'admin')) NOT NULL, created_at TIMESTAMPTZ DEFAULT now());

-- Migration for existing tables (Idempotent)
DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'users' AND column_name = 'organization_id') THEN ALTER TABLE users ADD COLUMN organization_id TEXT REFERENCES organizations(id); UPDATE users SET organization_id = '55147170-54ed-4fdd-840b-66f81cbc1883' WHERE organization_id IS NULL; END IF; END $$;
DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'sections' AND column_name = 'organization_id') THEN ALTER TABLE sections ADD COLUMN organization_id TEXT REFERENCES organizations(id); UPDATE sections SET organization_id = '55147170-54ed-4fdd-840b-66f81cbc1883' WHERE organization_id IS NULL; ALTER TABLE sections DROP CONSTRAINT sections_pkey CASCADE; ALTER TABLE sections ADD PRIMARY KEY (name, organization_id); END IF; END $$;
DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'questions' AND column_name = 'organization_id') THEN ALTER TABLE questions ADD COLUMN organization_id TEXT REFERENCES organizations(id); UPDATE questions SET organization_id = '55147170-54ed-4fdd-840b-66f81cbc1883' WHERE organization_id IS NULL; END IF; END $$;
DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'results' AND column_name = 'organization_id') THEN ALTER TABLE results ADD COLUMN organization_id TEXT REFERENCES organizations(id); UPDATE results SET organization_id = '55147170-54ed-4fdd-840b-66f81cbc1883' WHERE organization_id IS NULL; END IF; END $$;
DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'evaluations' AND column_name = 'organization_id') THEN ALTER TABLE evaluations ADD COLUMN organization_id TEXT REFERENCES organizations(id); UPDATE evaluations SET organization_id = '55147170-54ed-4fdd-840b-66f81cbc1883' WHERE organization_id IS NULL; END IF; END $$;
DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM information_schema.columns WHERE table_name = 'settings' AND column_name = 'organization_id') THEN ALTER TABLE settings ADD COLUMN organization_id TEXT REFERENCES organizations(id); UPDATE settings SET organization_id = '55147170-54ed-4fdd-840b-66f81cbc1883' WHERE organization_id IS NULL; ALTER TABLE settings DROP CONSTRAINT settings_pkey CASCADE; ALTER TABLE settings ADD PRIMARY KEY (key, organization_id); END IF; END $$;
DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM pg_constraint WHERE conname = 'organizations_admin_email_key') THEN ALTER TABLE organizations ADD CONSTRAINT organizations_admin_email_key UNIQUE (admin_email); END IF; END $$;
`),ce({text:"Database Schema captured to clipboard.",type:"success"})},className:"w-full bg-[#d4af37] text-[#002b49] py-5 rounded-3xl font-black uppercase text-[11px] tracking-widest shadow-2xl hover:bg-amber-400 transition-all",children:"Copy SQL Initialization Script"})]}),d.jsx("button",{onClick:()=>rt(),className:"w-full text-white/20 hover:text-white font-black uppercase text-[9px] tracking-[0.4em] transition-all mt-6 text-center underline",children:"RE-RUN INFRASTRUCTURE DIAGNOSTICS"})]})]}),ee==="audit"&&(s==null?void 0:s.role)==="super_admin"&&d.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:d.jsxs("div",{className:"bg-white rounded-[40px] p-10 shadow-xl border border-slate-100",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter",children:"Audit Trail"}),d.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Complete activity log with IP tracking"})]}),d.jsx("button",{onClick:hn,className:"bg-green-600 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-lg hover:bg-green-700 transition-all flex items-center gap-2",children:" Export CSV"})]}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Event Type"}),d.jsxs("select",{value:xt.eventType,onChange:y=>{dn({...xt,eventType:y.target.value}),Ca()},className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none text-sm font-bold",children:[d.jsx("option",{value:"",children:"All Events"}),d.jsx("option",{value:"login",children:"Login"}),d.jsx("option",{value:"logout",children:"Logout"}),d.jsx("option",{value:"create",children:"Create"}),d.jsx("option",{value:"update",children:"Update"}),d.jsx("option",{value:"delete",children:"Delete"}),d.jsx("option",{value:"reset",children:"Reset"}),d.jsx("option",{value:"exam_submit",children:"Exam Submit"}),d.jsx("option",{value:"eval_submit",children:"Eval Submit"}),d.jsx("option",{value:"ai_verdict_generate",children:"AI Verdict"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Entity Type"}),d.jsxs("select",{value:xt.entityType,onChange:y=>{dn({...xt,entityType:y.target.value}),Ca()},className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none text-sm font-bold",children:[d.jsx("option",{value:"",children:"All Entities"}),d.jsx("option",{value:"candidate",children:"Candidate"}),d.jsx("option",{value:"question",children:"Question"}),d.jsx("option",{value:"result",children:"Result"}),d.jsx("option",{value:"evaluation",children:"Evaluation"}),d.jsx("option",{value:"user",children:"User"}),d.jsx("option",{value:"organization",children:"Organization"}),d.jsx("option",{value:"settings",children:"Settings"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"User Email"}),d.jsx("input",{type:"text",value:xt.userEmail,onChange:y=>dn({...xt,userEmail:y.target.value}),onBlur:Ca,placeholder:"Filter by user...",className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none text-sm font-medium"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Limit"}),d.jsxs("select",{value:xt.limit,onChange:y=>{dn({...xt,limit:Number(y.target.value)}),Ca()},className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none text-sm font-bold",children:[d.jsx("option",{value:50,children:"50 logs"}),d.jsx("option",{value:100,children:"100 logs"}),d.jsx("option",{value:250,children:"250 logs"}),d.jsx("option",{value:500,children:"500 logs"})]})]})]}),d.jsx("div",{className:"overflow-x-auto rounded-3xl border border-slate-200",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[d.jsx("th",{className:"text-left p-4 text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Timestamp"}),d.jsx("th",{className:"text-left p-4 text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Event"}),d.jsx("th",{className:"text-left p-4 text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"User"}),d.jsx("th",{className:"text-left p-4 text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Entity"}),d.jsx("th",{className:"text-left p-4 text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"IP Address"}),d.jsx("th",{className:"text-left p-4 text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Device"}),d.jsx("th",{className:"text-center p-4 text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Details"})]})}),d.jsx("tbody",{children:ja.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center p-12 text-slate-400 text-sm font-medium",children:"No audit logs found. Events will appear here as users interact with the system."})}):ja.map(y=>{const H=y.deviceInfo?JSON.parse(y.deviceInfo||"{}"):{},oe=qe=>{switch(qe){case"login":return"bg-blue-50 text-blue-700 border-blue-200";case"logout":return"bg-slate-50 text-slate-600 border-slate-200";case"create":return"bg-green-50 text-green-700 border-green-200";case"update":return"bg-amber-50 text-amber-700 border-amber-200";case"delete":return"bg-red-50 text-red-700 border-red-200";case"reset":return"bg-purple-50 text-purple-700 border-purple-200";case"exam_submit":return"bg-indigo-50 text-indigo-700 border-indigo-200";case"eval_submit":return"bg-pink-50 text-pink-700 border-pink-200";case"ai_verdict_generate":return"bg-cyan-50 text-cyan-700 border-cyan-200";default:return"bg-slate-50 text-slate-600 border-slate-200"}};return d.jsxs(E0.Fragment,{children:[d.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50/50 transition-all",children:[d.jsx("td",{className:"p-4 text-xs font-medium text-slate-600 whitespace-nowrap",children:new Date(y.timestamp).toLocaleString()}),d.jsx("td",{className:"p-4",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider border ${oe(y.eventType)}`,children:y.eventType})}),d.jsx("td",{className:"p-4 text-xs font-medium text-slate-700 max-w-[200px] truncate",title:y.userEmail||"N/A",children:y.userEmail||"System"}),d.jsx("td",{className:"p-4",children:y.entityType&&d.jsxs("div",{className:"text-xs",children:[d.jsx("div",{className:"font-bold text-slate-900",children:y.entityType}),y.entityId&&d.jsx("div",{className:"text-[10px] text-slate-400 font-mono truncate max-w-[150px]",title:y.entityId,children:y.entityId})]})}),d.jsx("td",{className:"p-4 text-xs font-mono text-slate-600",children:y.ipAddress||"N/A"}),d.jsx("td",{className:"p-4",children:H.browser&&d.jsxs("div",{className:"text-xs",children:[d.jsxs("div",{className:"font-bold text-slate-900 flex items-center gap-1",children:[H.deviceType==="desktop"&&"",H.deviceType==="mobile"&&"",H.deviceType==="tablet"&&"",H.browser]}),d.jsx("div",{className:"text-[10px] text-slate-400",children:H.os})]})}),d.jsx("td",{className:"p-4 text-center",children:y.actionDetails&&d.jsx("button",{onClick:()=>mo(Ba===y.id?null:y.id),className:"px-3 py-1 bg-slate-100 hover:bg-slate-200 rounded-lg text-[9px] font-black text-slate-600 uppercase tracking-wider transition-all",children:Ba===y.id?"Hide":"View"})})]}),Ba===y.id&&y.actionDetails&&d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"p-6 bg-slate-50 border-b border-slate-200",children:d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-200",children:[d.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Action Details"}),d.jsx("pre",{className:"text-xs font-mono text-slate-700 overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(JSON.parse(y.actionDetails),null,2)})]})})})]},y.id)})})]})}),d.jsxs("div",{className:"mt-6 text-center text-xs text-slate-400 font-medium",children:["Showing ",ja.length," audit log entries"]})]})})]}),d.jsx(Hl,{isOpen:yt.isOpen,title:yt.title,message:yt.message,onConfirm:yt.onConfirm,onCancel:()=>sa(y=>({...y,isOpen:!1}))})]})},vx=({candidateEmail:i,candidateName:n,organizationId:s,candidateId:r,onClose:c,onSubmit:f})=>{const[h,g]=G.useState("L4"),[p,b]=G.useState(""),[x,E]=G.useState({}),[N,T]=G.useState({}),[A,B]=G.useState(null),[V,Y]=G.useState(""),[K,$]=G.useState(null),[te,ee]=G.useState(!1),[P,J]=G.useState(!1),[le,ne]=G.useState({}),[Re,Ke]=G.useState(null);G.useEffect(()=>{(async()=>{const Q=r||i,F=await he.getEvaluation(Q,s);F&&($(F.id||null),g(F.level),b(F.interviewerName),E(F.ratings),T(F.notes||{}),B(F.finalOutcome),Y(F.finalComments||""),ee(!1))})()},[i,r]);const ke=(z,Q)=>{E(F=>({...F,[z]:Q})),ee(!0)},et=(z,Q)=>{T(F=>({...F,[z]:Q})),ee(!0)},Qe=p&&A&&Object.keys(x).length===Hu.length,tt=()=>{if(!Qe)return;const z={id:K||`eval_${Date.now()}`,candidateEmail:i,interviewerName:p,level:h,ratings:x,notes:N,finalOutcome:A,finalComments:V,submittedAt:new Date().toISOString(),organizationId:s};f(z)},D=()=>{te?J(!0):c()},U=async z=>{Ke(z.id);try{const Q=await he.generateProbeQuestions(z.title,h,z.positives,s);ne(F=>({...F,[z.id]:Q}))}catch(Q){console.error(Q)}finally{Ke(null)}};return d.jsxs("div",{className:"bg-[#002b49] min-h-screen text-white pb-32 relative",children:[P&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[d.jsx("h3",{className:"text-2xl font-black text-[#002b49] mb-4 uppercase tracking-tight",children:"Unsaved Changes"}),d.jsx("p",{className:"text-slate-500 font-medium mb-8 leading-relaxed",children:"You have unsaved changes in this evaluation. Are you sure you want to close? All progress will be lost."}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-4 rounded-xl font-black uppercase text-xs tracking-widest bg-slate-100 text-slate-500 hover:bg-slate-200 transition-colors",children:"Keep Editing"}),d.jsx("button",{onClick:c,className:"flex-1 py-4 rounded-xl font-black uppercase text-xs tracking-widest bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:"Discard & Close"})]})]})}),d.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-12 border-b border-white/10 pb-10 gap-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-5xl font-black uppercase tracking-tighter leading-none",children:"Interview Toolkit"}),d.jsx("p",{className:"text-[#d4af37] font-bold uppercase tracking-[0.4em] text-[10px] mt-4",children:"Candidate Capability Assessment"})]}),d.jsx("button",{onClick:D,className:"bg-white/5 border border-white/10 px-8 py-3 rounded-xl text-white/60 hover:text-white font-black uppercase text-[10px] tracking-widest transition-all",children:"Close"})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-16",children:[d.jsxs("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 backdrop-blur-sm",children:[d.jsx("h3",{className:"text-[10px] font-black text-[#d4af37] uppercase tracking-widest mb-6",children:"Subject Identity"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-3xl font-black leading-tight",children:n}),d.jsx("div",{className:"text-white/40 font-mono text-sm tracking-tight",children:i})]})]}),d.jsxs("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 backdrop-blur-sm",children:[d.jsx("h3",{className:"text-[10px] font-black text-[#d4af37] uppercase tracking-widest mb-6",children:"Panel Configuration"}),d.jsxs("div",{className:"flex gap-4 mb-6",children:[d.jsx("button",{onClick:()=>{g("L4"),ee(!0)},className:`flex-1 py-3 rounded-xl font-black text-[10px] tracking-widest transition-all ${h==="L4"?"bg-[#d4af37] text-[#002b49] shadow-lg shadow-[#d4af37]/20":"bg-white/5 text-white/50 border border-white/10"}`,children:"L4 GRADE"}),d.jsx("button",{onClick:()=>{g("L5-L7"),ee(!0)},className:`flex-1 py-3 rounded-xl font-black text-[10px] tracking-widest transition-all ${h==="L5-L7"?"bg-[#d4af37] text-[#002b49] shadow-lg shadow-[#d4af37]/20":"bg-white/5 text-white/50 border border-white/10"}`,children:"L5-L7 GRADE"})]}),d.jsx("input",{placeholder:"Primary Interviewer Name",value:p,onChange:z=>{b(z.target.value),ee(!0)},className:"w-full bg-white border-2 border-[#d4af37]/30 text-slate-900 placeholder-slate-300 rounded-xl p-4 outline-none focus:border-[#d4af37] focus:ring-1 focus:ring-[#d4af37] font-bold transition-all shadow-inner"})]})]}),d.jsx("div",{className:"space-y-16",children:Hu.map(z=>d.jsxs("div",{className:"bg-white rounded-[40px] overflow-hidden shadow-2xl border border-white/10",children:[d.jsxs("div",{className:"bg-[#002b49] p-10 border-b border-white/5",children:[d.jsx("h2",{className:"text-3xl font-black uppercase mb-2 text-white leading-none",children:z.title}),d.jsx("p",{className:"text-[#d4af37] text-[11px] font-bold uppercase tracking-widest",children:z.subtitle})]}),d.jsxs("div",{className:"p-10 text-slate-900 grid lg:grid-cols-3 gap-10",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"text-[10px] font-black uppercase text-green-600 tracking-widest mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"w-4 h-4 rounded-full bg-green-100 flex items-center justify-center text-[10px]",children:""})," Positive Indicators"]}),d.jsx("ul",{className:"text-[11px] space-y-3 font-medium text-slate-500 leading-relaxed",children:z.positives.map((Q,F)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{children:""})," ",Q]},F))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-[10px] font-black uppercase text-red-600 tracking-widest mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center text-[10px]",children:""})," Critical Watch Outs"]}),d.jsx("ul",{className:"text-[11px] space-y-3 font-medium text-slate-400 leading-relaxed",children:z.watchOuts.map((Q,F)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{children:""})," ",Q]},F))})]})]}),d.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 shadow-inner",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h4",{className:"text-[10px] font-black uppercase text-indigo-600 tracking-widest",children:["Probe Questions (",h,")"]}),d.jsxs("button",{onClick:()=>U(z),disabled:Re===z.id,className:"flex items-center gap-2 bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-indigo-200 transition-all disabled:opacity-50",children:[Re===z.id?d.jsx("span",{className:"animate-spin text-lg",children:""}):d.jsx("span",{className:"text-lg",children:""}),Re===z.id?"Thinking...":"Regen"]})]}),d.jsx("div",{className:"space-y-6 min-h-[120px]",children:(le[z.id]||z.questions[h]).map((Q,F)=>d.jsx("p",{className:`text-xs font-semibold italic text-slate-700 leading-relaxed border-l-3 pl-4 animate-in fade-in duration-500 ${le[z.id]?"border-indigo-400 bg-indigo-50/50 p-2 rounded-r-lg":"border-indigo-200"}`,children:Q},F))})]}),d.jsxs("div",{className:"flex flex-col gap-8",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-4",children:"Evidence Level"}),d.jsx("div",{className:"grid grid-cols-1 gap-3",children:["Strong Evidence","Good Evidence","Limited Evidence","No Evidence"].map(Q=>d.jsx("button",{onClick:()=>ke(z.id,Q),className:`text-left px-5 py-4 rounded-2xl border-2 font-black text-[11px] uppercase tracking-wider transition-all ${x[z.id]===Q?"border-[#002b49] bg-indigo-50 text-[#002b49] ring-4 ring-indigo-50":"border-slate-50 hover:border-slate-100 text-slate-400 bg-white"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full border-2 ${x[z.id]===Q?"border-[#002b49] bg-[#002b49]":"border-slate-200"}`}),Q]})},Q))})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsx("h4",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-3",children:"Contextual Evidence"}),d.jsx("textarea",{placeholder:"Enter specific behavioral examples here...",value:N[z.id]||"",onChange:Q=>et(z.id,Q.target.value),className:"w-full flex-1 p-5 bg-white text-slate-900 border border-slate-200 rounded-3xl resize-none outline-none focus:ring-4 focus:ring-indigo-100 placeholder-slate-300 text-xs font-medium leading-relaxed shadow-sm"})]})]})]})]},z.id))}),d.jsx("div",{className:"mt-24 bg-white rounded-[40px] p-12 text-slate-900 border-8 border-[#d4af37] shadow-2xl relative overflow-hidden",children:d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h2",{className:"text-4xl font-black uppercase mb-10 flex items-center gap-5 tracking-tighter leading-none",children:[d.jsx("span",{className:"w-14 h-14 bg-[#002b49] text-[#d4af37] rounded-2xl flex items-center justify-center text-2xl shadow-lg",children:""}),"Final Hiring Decision"]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-6 block",children:"Recommendation"}),d.jsx("div",{className:"grid gap-4",children:["Decline","On Hold","Progress to next stage","Offer"].map(z=>d.jsx("button",{onClick:()=>{B(z),ee(!0)},className:`text-left p-5 rounded-2xl border-2 font-black uppercase text-xs tracking-widest transition-all bg-white ${A===z?z==="Decline"?"bg-red-50 border-red-500 text-red-700":z==="Offer"?"bg-green-50 border-green-500 text-green-700":"bg-amber-50 border-amber-500 text-amber-700":"border-slate-100 hover:border-slate-200 text-slate-400 shadow-sm"}`,children:z},z))})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-6 block",children:"Executive Summary"}),d.jsx("textarea",{placeholder:"Summarize key strengths and alignment to Organization culture...",value:V,onChange:z=>{Y(z.target.value),ee(!0)},className:"w-full flex-1 p-8 bg-white text-slate-900 border border-slate-200 rounded-[32px] outline-none focus:border-[#002b49] placeholder-slate-300 text-sm font-medium leading-relaxed shadow-sm"})]})]}),d.jsx("button",{onClick:tt,disabled:!Qe,className:`w-full mt-12 py-8 rounded-3xl font-black uppercase tracking-[0.3em] text-lg shadow-2xl transition-all ${Qe?"bg-[#002b49] text-white hover:scale-[1.01] hover:bg-slate-900 shadow-[#002b49]/20":"bg-slate-100 text-slate-300 cursor-not-allowed shadow-none"}`,children:"Complete Evaluation"})]})})]})]})},yx=()=>{var ke,et,Qe,tt,D;const[i,n]=G.useState({view:"landing",candidate:null,currentAttempt:null,lastResult:null,currentUser:null}),[s,r]=G.useState(!1),[c,f]=G.useState(""),[h,g]=G.useState(""),[p,b]=G.useState(null),[x,E]=G.useState(null),[N,T]=G.useState(!1),[A,B]=G.useState({overallTimeLimitMins:Y0/60,questionTimeLimitSecs:K0,totalQuestions:mx,questionsPerSection:{}}),[V,Y]=G.useState(void 0),[K,$]=G.useState(null);G.useEffect(()=>{(async()=>{const z=await he.getSession();if(z){const F=await he.getUserProfile(z.user.email||"");n(_=>({..._,view:"admin",currentUser:F}))}const Q=await he.getSettings();Q&&B(Q)})()},[]);const te=U=>{const z=[...U];for(let Q=z.length-1;Q>0;Q--){const F=Math.floor(Math.random()*(Q+1));[z[Q],z[F]]=[z[F],z[Q]]}return z},ee=async U=>{U.preventDefault();const z=new FormData(U.currentTarget),Q=z.get("email"),F=z.get("orgDomain"),_=Q?Q.split("@")[0]:"Candidate";if(!Q){E("Identification required: Email.");return}if(!F){E("Organization ID is required.");return}try{const L=await he.validateOrganization(F);if(!L){E("Invalid organization domain. Please verify your credentials.");return}const X=await he.verifyCandidateRegistration(Q,L);if(!X){E("You are not a registered candidate. Contact the HR to register for evaluation.");return}if(await he.getCandidateStatus(Q,L)==="Opted Out"){E("You opted out of exam by clicking cancel button. Contact HR to retake exam.");return}if(await he.checkResultExists(X)){n(Ut=>({...Ut,candidate:{email:Q,fullName:_,organizationId:L}})),E("Results are awaited, please contact the interview SPOC");return}const pe=await he.getQuestions(!0,1,1e3,"","",L);if(!pe||pe.data.length===0)throw new Error("Critical failure: Assessment bank is empty or unavailable for this organization.");const ie=pe.data;let Be=[];const _e=A.questionsPerSection;Object.keys(_e).sort().forEach(Ut=>{const Kt=_e[Ut];if(Kt>0){const zt=ie.filter(ia=>ia.category===Ut),ga=te(zt);Be.push(...ga.slice(0,Kt))}});const Dt=A.totalQuestions;if(Be.length<Dt){const Ut=new Set(Be.map(we=>we.id)),Kt=ie.filter(we=>!Ut.has(we.id)),zt=Dt-Be.length,ia=te(Kt).slice(0,zt);ia.sort((we,pa)=>we.category.localeCompare(pa.category)),Be.push(...ia)}n(Ut=>({...Ut,candidate:{name:_,email:Q,organizationId:L,id:X},currentAttempt:{questions:Be,answers:[],startTime:Date.now(),overallTimer:A.overallTimeLimitMins*60,questionTimer:A.questionTimeLimitSecs,id:`attempt_${Date.now()}`,currentIndex:0},view:"exam"})),E(null)}catch(L){E(L.message||"Initialization failed")}},P=async(U,z)=>{var Q,F;if(i.candidate)try{const _=U.length,L=U.filter(_e=>_e.status==="ANSWERED").length,X=U.filter(_e=>_e.status==="ANSWERED"&&_e.isCorrect).length,Z=U.filter(_e=>_e.status==="ANSWERED"&&!_e.isCorrect).length,me=U.filter(_e=>_e.status!=="ANSWERED").length,pe=_>0?X/_*100:0,ie=L>0?z/L:0,Be={attemptId:`attempt_${Date.now()}`,candidateName:i.candidate.name,candidateEmail:i.candidate.email,startedAt:new Date(((Q=i.currentAttempt)==null?void 0:Q.startTime)||Date.now()).toISOString(),submittedAt:new Date().toISOString(),totalTimeTakenSec:z,totalQuestions:_,attemptedCount:L,missedCount:me,correctCount:X,wrongCount:Z,avgTimePerAnsweredSec:ie,scorePercent:pe,answersJson:JSON.stringify(U),organizationId:(F=i.currentUser)==null?void 0:F.organizationId,candidateId:i.candidate.id};await he.submitResult(Be),i.candidate&&i.candidate.organizationId&&await he.updateCandidateStatus(i.candidate.email,i.candidate.organizationId,"Attempted"),n(_e=>({..._e,view:"completion",lastResult:Be}))}catch(_){console.error("Submission error:",_),E("Failed to transmit results. Connectivity issue likely.")}},J=async()=>{i.candidate&&i.candidate.organizationId&&await he.updateCandidateStatus(i.candidate.email,i.candidate.organizationId,"Opted Out"),n({view:"landing",candidate:null,currentAttempt:null,lastResult:null})},le=async U=>{var Q;await he.submitInterviewEvaluation({...U,organizationId:(K==null?void 0:K.organizationId)||((Q=i.currentUser)==null?void 0:Q.organizationId),candidateId:K==null?void 0:K.id})?($(null),n(F=>({...F,view:"admin"}))):alert("Failed to save evaluation record.")},ne=async U=>{U.preventDefault(),T(!0),b(null);try{const{user:z}=await he.signIn(c,h);if(!z)throw new Error("Authentication failed");const Q=await he.getUserProfile(z.email||"");n(F=>({...F,view:"admin",currentUser:Q})),r(!1)}catch{b("Access denied. Credentials invalid.")}finally{T(!1)}},Re=async()=>{await he.signOut(),n(U=>({...U,view:"landing",currentUser:null})),r(!1),f(""),g(""),Y(void 0)},Ke=G.useCallback(U=>{n(z=>({...z,adminDashboardTab:U}))},[]);return i.view==="exam"&&i.candidate&&i.currentAttempt?d.jsx(gx,{questions:i.currentAttempt.questions,overallTimeLimitSec:A.overallTimeLimitMins*60,questionTimeLimitSec:A.questionTimeLimitSecs,onFinish:P,onCancel:J}):d.jsxs("div",{className:"min-h-screen font-sans text-slate-900 selection:bg-[#d4af37] selection:text-[#002b49]",children:[i.view==="landing"&&d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen relative overflow-hidden bg-slate-50",children:[d.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-bl from-[#002b49]/5 to-transparent rounded-full -translate-y/2 translate-x-1/2 blur-3xl pointer-events-none"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-gradient-to-tr from-[#d4af37]/5 to-transparent rounded-full translate-y/2 -translate-x-1/2 blur-3xl pointer-events-none"}),d.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{className:"w-20 h-20 bg-[#002b49] text-white rounded-[32px] flex items-center justify-center text-3xl font-black mb-6 mx-auto shadow-2xl shadow-[#002b49]/20 transform -rotate-6",children:"E"}),d.jsxs("h1",{className:"text-4xl font-black text-slate-900 mb-3 tracking-tighter uppercase leading-none",children:["Evaluate",d.jsx("span",{className:"text-[#002b49]",children:".ai"})]}),d.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.3em] text-[10px]",children:"Next-Gen Leadership Assessment Protocol"})]}),s?d.jsxs("form",{onSubmit:ne,className:"bg-white p-8 rounded-[40px] shadow-2xl border border-slate-100 animate-in fade-in zoom-in-95 duration-300",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"System Access"}),d.jsx("button",{type:"button",onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600 font-bold text-xs uppercase tracking-widest",children:"Back"})]}),p&&d.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-xs font-bold uppercase tracking-wide rounded-r-xl",children:p}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 tracking-widest mb-2 ml-1",children:"Admin ID"}),d.jsx("input",{type:"email",value:c,onChange:U=>f(U.target.value),className:"w-full px-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:ring-4 focus:ring-[#002b49]/5 focus:border-[#002b49]/20 transition-all font-bold text-slate-700 placeholder:text-slate-300 pointer-events-auto",placeholder:"admin@company.com",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 tracking-widest mb-2 ml-1",children:"Secure Key"}),d.jsx("input",{type:"password",value:h,onChange:U=>g(U.target.value),className:"w-full px-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:ring-4 focus:ring-[#002b49]/5 focus:border-[#002b49]/20 transition-all font-bold text-slate-700 placeholder:text-slate-300 pointer-events-auto",placeholder:"",required:!0})]}),d.jsx("button",{type:"submit",disabled:N,className:"w-full bg-[#002b49] text-white py-5 rounded-2xl font-black uppercase tracking-widest text-[11px] hover:bg-slate-800 active:scale-[0.98] transition-all shadow-xl shadow-[#002b49]/20 disabled:opacity-70 disabled:cursor-wait mt-2",children:N?"Authenticating...":"Enter Console"})]}),d.jsxs("div",{className:"mt-4 text-center text-[10px] text-slate-400 font-medium",children:[d.jsx("span",{className:"text-slate-500",children:"Demo:"})," demo@asthurer.com / demo"]})]}):d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-500",children:[d.jsxs("form",{onSubmit:ee,className:"bg-white p-8 rounded-[40px] shadow-2xl border border-slate-100",children:[d.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight mb-8",children:"Candidate Entry"}),x&&d.jsx("div",{className:"mb-6 p-4 bg-amber-50 border-l-4 border-amber-500 text-amber-700 text-xs font-bold uppercase tracking-wide rounded-r-xl",children:x==="Results are awaited, please contact the interview SPOC"?d.jsxs("div",{children:["Results are awaited, please contact the interview SPOC."," ",d.jsx("button",{onClick:async()=>{var U;try{console.log("Fetching results for:",i.candidate);const z=await he.getAllResults((U=i.candidate)==null?void 0:U.organizationId);console.log("All results:",z);const Q=z.find(F=>{var _;return F.candidateEmail===((_=i.candidate)==null?void 0:_.email)});console.log("Found result:",Q),Q?n({view:"completion",candidate:i.candidate,currentAttempt:null,lastResult:Q}):E("Unable to load your results. Please contact the interview SPOC.")}catch(z){console.error("Failed to fetch result:",z),E("Error loading results. Please try again or contact the interview SPOC.")}},className:"underline hover:text-amber-900 transition-colors",children:"View Results"})]}):x}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 tracking-widest mb-2 ml-1",children:"Organization ID"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{name:"orgDomain",className:"flex-1 px-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:ring-4 focus:ring-[#002b49]/5 focus:border-[#002b49]/20 transition-all font-bold text-slate-900 placeholder:text-slate-400 pointer-events-auto text-right min-w-0",placeholder:"company-name",autoComplete:"off"}),d.jsx("div",{className:"px-5 py-4 bg-slate-100 border border-slate-100 rounded-2xl font-bold text-slate-500 select-none whitespace-nowrap",children:".evaluate.ai"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 tracking-widest mb-2 ml-1",children:"Official Email"}),d.jsx("input",{name:"email",type:"email",className:"w-full px-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:ring-4 focus:ring-[#002b49]/5 focus:border-[#002b49]/20 transition-all font-bold text-slate-700 placeholder:text-slate-300 pointer-events-auto",placeholder:"jane@company.com",required:!0,autoComplete:"off"})]}),d.jsx("button",{type:"submit",className:"w-full bg-[#002b49] text-white py-5 rounded-2xl font-black uppercase tracking-widest text-[11px] hover:bg-slate-800 active:scale-[0.98] transition-all shadow-xl shadow-[#002b49]/20 mt-2",children:"Initialize Session"})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("button",{onClick:()=>r(!0),className:"text-slate-300 hover:text-[#002b49] font-black uppercase tracking-[0.2em] text-[9px] transition-colors py-2 px-4",children:"System Administrator Access"})})]})]}),d.jsx("div",{className:"absolute bottom-6 font-black uppercase text-[9px] text-slate-300 tracking-[0.5em] opacity-40 selection:bg-transparent cursor-default",children:"Restricted Access Protocol  v2.4.0"})]}),i.view==="completion"&&d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-12 bg-slate-50",children:[d.jsx("div",{className:"w-28 h-28 bg-[#002b49] text-[#d4af37] rounded-[40px] flex items-center justify-center text-5xl mb-10 shadow-2xl rotate-3",children:""}),d.jsxs("h1",{className:"text-6xl font-black text-slate-900 mb-4 uppercase tracking-tighter leading-none",children:["Session",d.jsx("br",{}),"Finalized"]}),d.jsx("p",{className:"text-slate-400 mb-14 max-w-sm mx-auto font-bold uppercase tracking-[0.2em] text-[10px] leading-relaxed",children:"Remote data synchronization successful. Assessment protocol terminated."}),i.lastResult&&d.jsx("div",{className:"bg-white rounded-[40px] p-10 shadow-xl border border-slate-100 mb-12 w-full max-w-2xl animate-in slide-in-from-bottom-8 fade-in duration-700",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-10",children:[d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-[0.3em] mb-2",children:"Final Score"}),d.jsxs("p",{className:"text-6xl font-black text-[#002b49] tracking-tighter",children:[Number(i.lastResult.scorePercent).toFixed(2),"%"]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full md:w-auto",children:[d.jsxs("div",{className:"bg-green-50 p-4 rounded-2xl border border-green-100",children:[d.jsx("p",{className:"text-2xl font-black text-green-600 mb-1",children:i.lastResult.correctCount}),d.jsx("p",{className:"text-[9px] font-black uppercase text-green-800/60 tracking-widest",children:"Correct"})]}),d.jsxs("div",{className:"bg-red-50 p-4 rounded-2xl border border-red-100",children:[d.jsx("p",{className:"text-2xl font-black text-red-600 mb-1",children:i.lastResult.wrongCount}),d.jsx("p",{className:"text-[9px] font-black uppercase text-red-800/60 tracking-widest",children:"Wrong"})]}),d.jsxs("div",{className:"bg-slate-100 p-4 rounded-2xl border border-slate-200",children:[d.jsx("p",{className:"text-2xl font-black text-slate-500 mb-1",children:i.lastResult.missedCount}),d.jsx("p",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:"Missed"})]})]})]})}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:()=>window.print(),className:"bg-slate-100 text-slate-700 px-14 py-6 rounded-3xl font-black uppercase tracking-[0.3em] text-[11px] shadow-lg hover:bg-slate-200 active:scale-95 transition-all",children:"Print"}),d.jsx("button",{onClick:()=>n({view:"landing",candidate:null,currentAttempt:null,lastResult:null}),className:"bg-[#002b49] text-white px-14 py-6 rounded-3xl font-black uppercase tracking-[0.3em] text-[11px] shadow-2xl active:scale-95 transition-all",children:"Close"})]})]}),i.view==="admin"&&d.jsx(bx,{onEvaluate:U=>{$({name:U.candidateName,email:U.candidateEmail,organizationId:U.organizationId,id:U.candidateId}),n(z=>({...z,view:"interviewer-form"}))},onLogout:Re,currentUser:i.currentUser,selectedOrgId:((ke=i.currentUser)==null?void 0:ke.role)==="super_admin"?V||((et=i.currentUser)==null?void 0:et.organizationId):(Qe=i.currentUser)==null?void 0:Qe.organizationId,onOrganizationSelect:((tt=i.currentUser)==null?void 0:tt.role)==="super_admin"?Y:void 0,initialActiveTab:i.adminDashboardTab,onTabChange:Ke}),i.view==="interviewer-form"&&K&&d.jsx(vx,{candidateName:K.name,candidateEmail:K.email,candidateId:K.id,organizationId:K.organizationId||((D=i.currentUser)==null?void 0:D.organizationId),onClose:()=>{$(null),n(U=>({...U,view:"admin"}))},onSubmit:le})]})},Q0=document.getElementById("root");if(!Q0)throw new Error("Could not find root element to mount to");const xx=lb.createRoot(Q0);xx.render(d.jsx(E0.StrictMode,{children:d.jsx(yx,{})}));
